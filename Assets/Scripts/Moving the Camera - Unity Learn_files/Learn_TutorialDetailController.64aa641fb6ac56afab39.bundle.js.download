window.Learn_TutorialDetailController=webpackJsonp_name_([15],[,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e){var t=e.split("_");return t&&2===t.length?{type:x[t[0]],id:t[1]}:{}}function s(e){var t=e.itemId,a=e.userMap,n=e.teamMap,r=e.tutorialMap,o=e.projectMap,s=e.badgeMap,l=e.courseMap,u=e.liveSessionMap,c=e.faqMap,d=e.quizMap,f=e.submissionMap,p=e.missionMap,m=e.competencyMap,h=i(t),_=h.type,g=h.id,v=void 0;switch(_){case"user":v=a&&a[g];break;case"team":v=n&&n[g];break;case"project":v=o&&o[g];break;case"tutorial":v=r&&r[g];break;case"course":v=l&&l[g];break;case"liveSession":v=u&&u[g];break;case"faq":v=c&&c[g];break;case"quiz":v=d&&d[g];break;case"submission":v=f&&f[g];break;case"badge":v=s&&s[g];break;case"mission":v=p&&p[g];break;case"competency":v=m&&m[g]}return v}function l(e,t){return(e=e.toString()).length<t?l("0"+e,t):e}function u(e,t){return e>t?t:e<0?0:e}function c(e,t,a){if(Array.isArray(e)){var n=[],r=e.length-1,i=e[t];return a=u(a,r),(t=u(t,r))===a?n.push.apply(n,o(e)):t>a?(n.push.apply(n,o(e.slice(0,a))),n.push(i),n.push.apply(n,o(e.slice(a,t))),n.push.apply(n,o(e.slice(t+1,e.length)))):(n.push.apply(n,o(e.slice(0,t))),n.push.apply(n,o(e.slice(t+1,a+1))),n.push(i),n.push.apply(n,o(e.slice(a+1,e.length)))),n}return null}function d(e){var t=e||0,a=0;return e>=0?(a=Math.floor(t/60),e=Math.max(0,t-60*a)):(a=Math.ceil(t/60),e=Math.min(0,t-60*a)),{hour:a,minute:e}}function f(e){var t=e||0,a=0,n=0;return e>=0?(a=Math.floor(t/3600),n=Math.max(0,Math.floor((t-3600*a)/60)),e=Math.max(0,t-3600*a-60*n)):(a=Math.ceil(t/3600),n=Math.min(0,Math.floor((t-3600*a)/60)),e=Math.min(0,t-3600*a-60*n)),{hour:a,minute:n,second:e}}function p(e){var t=[];return Object.keys(e).forEach(function(a){t.push(a+"="+e[a])}),t.join("&")}function m(e,t){var a=p(t=t||{});return a?e&&-1!==e.indexOf("?")?e+"&"+a:e+"?"+a:e}function h(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";var r=e.type,o=e.slug,i=e.language,s="/"+r+"/"+o;if(!t&&!a)return s;var l={};return i!==(0,b.getLanguageFromLocale)(t)&&(l={language:i}),a&&(l={uv:a}),n&&(l=v({},l,{architecture:"true"})),m(s,l)}function _(e,t){var a=(0,O.get)(e,"type"),n=(0,O.get)(e,"withAll"),r=(0,O.get)(e,"completed"),o=(0,O.get)(e,"completedTime");if((a===w.DataTypeKeys.project||a===w.DataTypeKeys.course)&&!n&&t){var i=(0,O.get)(e,"recordVersions."+t)||{};r=i.completed||!1,o=i.completedTime}return{completed:r,completedTime:o}}function g(e,t){e=e||[];var a=(t=t||[]).reduce(function(e,t){return v({},e,r({},t,!0))},{}),n=e.reduce(function(e,t){return v({},e,r({},t,!0))},{}),o=[],i=[],s={};return t.forEach(function(e){n[e]||o.push(e)}),e.forEach(function(e){a[e]||(i.push(e),s[e]=!0)}),{addIds:o,removedIds:i,removedIdMap:s}}Object.defineProperty(t,"__esModule",{value:!0});var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.GetTypeIdByItemId=i,t.GetTypeByItemId=function(e){return i(e).type},t.GetIdByItemId=function(e){return i(e).id},t.GetItemIdByType=function(e){var t=e.id,a=e.type,n=D[a];return n?n+"_"+t:t},t.GetDataByItemId=s,t.PadNumLeft=l,t.MoveElement=c,t.MoveElementAction=function(e){return function(t){var a=t.props,n=t.state;e=a.statePath||e;var r=n.get(e),o=a.index,i=c(r,o,o+a.step);n.set(e,i)}},t.AddTagAction=function(e,t,a){return function(n){var i=n.props,s=n.state,l=i.value,u=l.id,c=[];"q"===l.type?(c=(0,y.splitTags)(u)).forEach(function(e){s.merge(t,r({},u,{id:e,name:e}))}):c.push(u);var d=s.get([].concat(o(a),[e])).value;return c.forEach(function(e){d=(0,y.arrayInsert)(d,e)}),{fieldName:e,value:d}}},t.DeleteTagAction=function(e,t){return function(a){var n=a.props,r=a.state,i=n.value,s=r.get([].concat(o(t),[e])).value,l=(0,y.arrayRemove)(s,i);return{fieldName:e,value:l}}},t.AddSliceFieldAction=function(e,t){return function(a){var n=a.props,r=a.state,i=(0,O.get)(n,"value"),s=(0,O.get)(n,"prePath")||[],l=[].concat(o(t),o(s),[e]),u=r.get(l)||[];return u=(0,y.arrayInsert)(u,i),r.set(l,u),{path:l,value:u}}},t.DeleteSliceFieldAction=function(e,t){return function(a){var n=a.props,r=a.state,i=(0,O.get)(n,"value"),s=(0,O.get)(n,"prePath")||[],l=[].concat(o(t),o(s),[e]),u=r.get(l)||[];return u=(0,y.arrayRemove)(u,i),r.set(l,u),{path:l,value:u}}},t.ParseMinute=d,t.ParseSecond=f,t.onPublishSuccess=function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=h(a,n.get("locale"));(0,k.default)(m(r,{publish:!0}))}},t.FormatParams=p,t.AppendUrlQuery=m,t.GetUrlByNavIds=function(e,t){if(e&&e.length>0){var a=e.length-1,n=i(e[a]),r=n.type,o=n.id;t=t||"/"+r+"/"+o;var s={};return e.slice(0,a).forEach(function(e){var t=i(e);switch(t.type){case"project":s.projectId=t.id;break;case"course":s.courseId=t.id;break;case"mission":s.missionId=t.id;break;case"pathway":s.pathwayId=t.id}}),m(t,s)}return t},t.GetItemUrlInDetail=function(e){var t=e.parentIds,a=e.data,n=e.item,r=e.locale,o=e.uv;a=a||{},n=n||{},t=t||{};var i=h(n,r,o),s=v({},t);return"course"===a.type&&(s=v({},s,{courseId:a.id})),"project"===a.type&&(s=v({},s,{projectId:a.id})),"pathway"===a.type&&(s=v({},s,{pathwayId:a.id})),m(i,s)},t.GetItemUrlInArchitectureDetail=function(e){var t=e.parentIds,a=e.data,n=e.item,r=e.locale,o=e.uv,i=e.contentId;a=a||{},n=n||{},t=t||{};var s=!1;a.type!==w.DataTypeKeys.pathway&&a.type!==w.DataTypeKeys.mission||(s=!0);var l=h(n,r,o,s),u=v({},t);return a.type===w.DataTypeKeys.pathway&&(u=v({},u,{pathwayId:a.id})),a.type===w.DataTypeKeys.mission&&(u=v({},u,{missionId:a.id})),i&&(u=v({},u,{contentId:i})),m(l,u)},t.GetItemUrlInBreadcrumb=function(e){var t=e.parentIds,a=e.item,n=e.locale,r=e.uv;a=a||{},t=t||{};var o=h(a,n,r),i={};return"project"===a.type&&t.courseId&&(i={courseId:t.courseId}),"tutorial"===a.type&&(i=v({},t)),m(o,i)},t.GetDetailPageURL=h,t.GetCoursePremiumPageUrl=function(){var e;return m("/courses",(e={},r(e,w.CriteriaKeys.orderBy,w.FilterPopularType.starts),r(e,"k",JSON.stringify([w.CriteriaKeys.premium+":"+w.FilterPremiumType.premium])),e))},t.GetPreviewPageURLByLocale=function(e,t){return m(h(e,t),{preview:!0})},t.getUnityUserInfo=function(e){var t=e=e||{},a=t.ownerId,n=t.userMap;return a&&n&&-1!==(S.default.LEARN_AUTHOR_LIST||[]).indexOf(i(a).id)?s({itemId:a,userMap:n}):{name:"Unity Technologies",avatar:R}},t.getLearnUserInfo=function(e,t){e=e||{};var a=(0,O.get)(e,"authorId"),n=(0,O.get)(e,"userMap")||{},r=(0,O.get)(n,a);return r||t||{name:"Unity Technologies",avatar:R}},t.formValidatedError=function(e){return Object.keys(e).some(function(t){var a=e[t];return a.isTouched&&!!a.errorMessage})},t.ParseKeyword=function(e){var t={};e=e||[];var a=Array.isArray(e)?e:JSON.parse(e);if(a&&a.length>0){var n=[],r=[],o=[],i=[];a.forEach(function(e){var a=e.split(":");if(2===a.length){var s=a[0],l=a[1];switch(s){case w.CriteriaKeys.skillLevel:n.push(l);break;case w.CriteriaKeys.query:r.push(l);break;case w.CriteriaKeys.type:o.push(l);break;case w.CriteriaKeys.language:i.push(l);break;default:t[s]=l}}}),t=v({},t,{skillLevels:n,queries:r,types:o,languages:i})}return t},t.ParseKeywordMap=function(e){e=e||[];var t=Array.isArray(e)?e:JSON.parse(e);return t?t.reduce(function(e,t,a){return v({},e,r({},t,a))},{}):{}},t.GetCompletedStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{completed:!!t[e],prevCompleted:!!t[e-1],nextCompleted:!!t[e+1]}},t.onError=function(e){return function(t){var a=t.result,n=t.controller,r=(0,y.getErrorMsg)(e,a);r&&n.getSignal("header.showMessage")({message:r,params:a})}},t.GetMinAgeOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.EducatorSupportAges,a=[].concat(o(t)),n=e.max,r=void 0===n?"":n;if(r+=""){var i=t.findIndex(function(e){return e===r});a.splice(0,i)}return a},t.GetMaxAgeOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.EducatorSupportAges,a=[].concat(o(t)),n=e.min,r=void 0===n?"":n;if(r+=""){var i=t.findIndex(function(e){return e===r});a.splice(i+1,t.length)}return a},t.GetAgeRangeValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.min,a=void 0===t?"":t,n=e.max,r=void 0===n?"":n;return a+="",r+="",a||r?a+"_"+r:""},t.GetAgeRangeObject=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("_");return 2===e.length?{min:e[0],max:e[1]}:{}},t.EllipsizeTextBox=function(e){if(e)for(var t=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)t.pop(),e.innerHTML=t.join(" ")+"..."},t.ValidDetailData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,O.get)(e,"packageIds")||[],a=(0,O.get)(e,"tagIds")||[],n=(0,O.get)(e,"properties")||{};if(t.length>0||a.length>0)return!0;if(Object.keys(n).length>0){var r=n.objective,o=n.careerGoals;if(r&&(0,E.getDraftPlainText)(r))return!0;if(o&&(0,E.getDraftPlainText)(o))return!0}return!1},t.GetParentByData=function(e){var t=e=e||{},a=t.parentIds,n=t.parentMap;if(!a||0===a.length)return null;var r=i(a[0]).id,o=n&&n[r];return o||null},t.GetSendMessageCDPParams=function(e,t,a,n){if(!t||!a)return null;var r=e.get("tutorialData")||{},o=(0,O.get)(r,"sections")||[],i=(0,O.get)(r,"id"),s=(0,O.get)(r,"type"),l=e.get(["learner","parentIds"])||{},u=e.get("userPremium"),c=o.findIndex(function(e){return e.channelId===t}),d=c>-1?c+1:0,f=e.get(["tutorialData","statsMap",i,"commentCount"])||0,p=e.get(["commentData","commentMap",t,"messages","total"])||0,m=e.get(["commentData","commentMap",t,"messages","likeCount"])||0,h=0,_=e.get(["commentData","commentIds"])||[],g=e.get(["commentData","commentMap"])||{};_.forEach(function(e){var t=(0,O.get)(g,e)||{},a=(0,O.get)(t,"messages.likeCount")||0;h+=a});var y=v({id:i,type:s},l,{userPremium:u,stepNumber:d,totalComments:f,stepComments:p,totalLikes:h,stepLikes:m});if(a){var b=void 0;n?(b=(e.get(["commentData","commentMap",t,"replyMap",n,"items"])||[]).find(function(e){return e.id===a}),y.parentMessageId=n):b=(e.get(["commentData","commentMap",t,"messages","items"])||[]).find(function(e){return e.id===a}),y.commentId=a,y.commentText=(0,O.get)(b,"content")||"";var E=e.get(["learner","reportMap",a]);if(E){y.flagged=!0;var S=(0,O.get)(E,"reasons.0");if(S){var k=(0,O.get)(S,"type"),T=(0,O.get)(S,"content");k===w.CommentReportType.other?y.flaggedReason=T:y.flaggedReason=k}}}return y},t.GetPayUrl=function(e){var t={item:e.item,locale:e.locale,currency:"CNY",seats:1,source:"store"};return m(S.default.LEARN_PAYMENT_STORE_FLOW,t)},t.GetFamiliarTabUrl=function(e){var t=e.keywords,a=void 0===t?[]:t;return a.push(w.CriteriaKeys.skillLevel+":"+w.SkillLevelKeys.beginner,w.CriteriaKeys.skillLevel+":"+w.SkillLevelKeys.intermediate),"/search?k="+encodeURIComponent(JSON.stringify(a))+"&ob=starts"},t.GetPowerTabUrl=function(e){var t=e.keyword,a=[];return a.push(w.CriteriaKeys.skillLevel+":"+w.SkillLevelKeys.intermediate,w.CriteriaKeys.skillLevel+":"+w.SkillLevelKeys.advanced),t&&a.push(t),"/search?k="+encodeURIComponent(JSON.stringify(a))+"&ob=recency"},t.GetLearnMessageDirectURL=function(e){var t=e.data,a=e.locale,n=e.sectionId,r=e.messageId,o=m(""+S.default.LEARN_DEFAULT_URL+h(t,a),{messageId:r});return n&&(o=o+"#"+n),o},t.GetLearnSubmissionDirectURL=function(e){var t=e.data,a=e.locale,n=e.submissionId;return m(""+S.default.LEARN_DEFAULT_URL+h(t,a),{submissionId:n})},t.GetLanguageText=function(e,t){return(0,j.i18n)(e,M,"lang_"+t)},t.GetSkillLevelText=function(e,t){return(0,j.i18n)(e,N,"sl_"+t)},t.GetTagText=function(e,t){return t=t.toLowerCase().replace(/[^a-z|A-Z]+/g,"_"),{name:(0,j.i18n)(e,P.default,"tag_name_"+t),desc:(0,j.i18n)(e,P.default,"tag_desc_"+t)}},t.GetDurationText=function(e,t){var a=d(t),n=a.hour,r=a.minute,o="";return n&&(o+=(0,j.i18n)(e,C.default,"duration_hours",{total:n}),r&&(o+=" ")),n&&!r||(o+=(0,j.i18n)(e,C.default,"duration_mins",{total:r})),o},t.GetVideoDurationText=function(e,t){var a=f(t),n=a.hour,r=a.minute,o=a.second,i="";return n&&(i+=(0,j.i18n)(e,C.default,"duration_hours",{total:n}),r&&(i+=" ")),r&&(i+=(0,j.i18n)(e,C.default,"duration_mins",{total:r}),o&&(i+=" ")),r&&!o||(i+=(0,j.i18n)(e,C.default,"duration_secs",{total:o})),i},t.cleanKeyForEditorBody=function(e){return e?e.replace(/("key\s*":\s*"\s*[a-z | 0-9]*\s*")/g,'"key":""'):e},t.GetManualDuration=function(){for(var e=[],t=0;t<=50;)e.push({text:""+t,value:t}),t+=t<25?1:5;for(var a=[],n=0;n<60;n+=5)a.push({text:""+n,value:n});return{hours:e,minutes:a}},t.GetContentDataByState=function(e){return e.get("tutorialData")||e.get("quizData")||e.get("projectData")||e.get("courseData")},t.GetNextRecordData=function(e){var t=e.data,a=e.record,n=e.versionId;if(!t||!a)return null;var r=t.type;if(!0===(0,O.get)(_(a,n),"completed"))return null;var o=[],s={};switch(r){case w.DataTypeKeys.tutorial:o=((0,O.get)(t,"sections")||[]).map(function(e){return e.id}),s=(0,O.get)(a,"steps")||{};break;case w.DataTypeKeys.quiz:o=((0,O.get)(t,"questions")||[]).map(function(e){return e.id}),s=(0,O.get)(a,"answers")||{};break;case w.DataTypeKeys.project:case w.DataTypeKeys.course:o=(0,O.get)(t,"contentIds")||[],s=(0,O.cloneDeep)((0,O.get)(a,"subItems")||{}),r===w.DataTypeKeys.course&&n&&Object.keys(s).forEach(function(e){var t=s[e];i(t.itemId).type!==w.DataTypeKeys.project||t.withAll||(s[e]=(0,O.get)(t,"recordVersions."+n)||{})})}if(0===o.length)return null;var l=-1,u={};if(o.forEach(function(e,t){var a=(0,O.get)(s,e);if(a){var n=(0,O.get)(u,"updatedTime")||0,o=(0,I.default)(a.updatedTime).isAfter((0,I.default)(n));r===w.DataTypeKeys.quiz&&o&&(o=(0,O.size)(a.questionAnswers)>0),o&&(u=v({},a,{itemId:e}),l=t)}}),-1===l||u.completed||r===w.DataTypeKeys.quiz)for(var c=o.length,d=l,f=0;f<c;f++){var p=o[d=(d+1)%c],m=s[p];if(!m){u={itemId:p};break}if(r===w.DataTypeKeys.quiz||m.completed){if(r===w.DataTypeKeys.quiz&&0===(0,O.size)(m.questionAnswers)){u=v({},m,{itemId:p});break}}else u=v({},m,{itemId:p})}return(0,O.get)(a,"nextRecordData.itemId")===u.itemId?null:u},t.GetRecordSubItems=function(e){var t=e.data,a=e.record,n=e.versionId,r=e.simple,o=e.withCover,l=[],u={};if(!t)return{items:l,completed:u};var c=t.type;if(n||(n=(0,O.get)(a,"versionId")),c===w.DataTypeKeys.tutorial&&(l=((0,O.get)(t,"requiredSections")||[]).map(function(e,t){var n=e.title,o=e.id,i=e.type;return u[t]=(0,O.get)(a,"steps."+o+".completed"),r?{id:o}:{title:n,id:o,type:i}})),c===w.DataTypeKeys.project){var d=t.quizMap,f=t.tutorialMap;l=t.contentIds.map(function(e,t){return u[t]=(0,O.get)(a,"subItems."+e+".completed"),r?{itemId:e}:s({itemId:e,quizMap:d,tutorialMap:f})})}if(c===w.DataTypeKeys.course){var p=t.quizMap,m=t.tutorialMap,h=t.projectMap;l=t.contentIds.map(function(e,t){var o=(0,O.get)(a,"subItems."+e);return u[t]=(0,O.get)(o,"completed"),n&&(i(e).type!==w.DataTypeKeys.project||(0,O.get)(o,"withAll")||(u[t]=(0,O.get)(o,"recordVersions."+n+".completed"))),r?{itemId:e}:s({itemId:e,quizMap:p,tutorialMap:m,projectMap:h})})}return l.length>2&&!0===o&&(l=l.slice(0,2)),{items:l,completed:u}},t.GetRecordStatus=_,t.GetContentRecordStatus=function(e,t){var a=(0,O.get)(e,"subItems")||{},n=!0,r=0;return t&&t.length>0?t.forEach(function(e){var t=a[e];t&&t.completed?t.completed&&(r+=1):n=!1}):n=!1,{completed:n,completedNum:r}},t.GetUrlQueryObject=function(){return(window.location.search.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce(function(e,t){var a=t.split("=");return 2===a.length&&(e[a[0]]=a[1]),e},{})},t.GetDiffIds=g,t.MergeFormIdsValue=function(e){var t=e.state,a=e.fieldName,n=g(e.resourceIds,e.targetIds),r=n.addIds,i=n.removedIdMap,s=[];[].concat(o(t.get(a)||[]),o(r)).forEach(function(e){i[e]||s.push(e)}),t.set(a,(0,O.uniq)(s))},t.stopPropagation=function(e){"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.GetListDataFeaturesByListName=function(e,t){var a=(0,O.get)(e,"listMap."+t+".contentIds")||[],n=(0,O.get)(e,"listMap."+t+".contentMap")||{},r=n.quizMap,o=n.tutorialMap,i=n.projectMap,l=n.courseMap,u=n.liveSessionMap;return a.map(function(e){var t=s({itemId:e,tutorialMap:o,projectMap:i,courseMap:l,quizMap:r,liveSessionMap:u}),a=[];return((0,O.get)(t,"liveSessionIds")||[]).forEach(function(e){(0,O.get)(u,e)&&a.push((0,O.get)(u,e))}),t.liveSessions=a,t})},t.ArchitectureLearnContentUrl=function(e,t){return t?m(e,{architecture:!0}):e};var y=a(12),b=a(68),w=a(8),E=a(21),S=n(a(30)),O=a(5),k=n(a(25)),T=n(a(53)),P=n(a(143)),C=n(a(93)),j=a(7),I=n(a(71)),M=T.default,N=T.default,D={course:"lco",project:"lpr",tutorial:"ltu",liveSession:"lls",badge:"lbg",mission:"lms",pathway:"lpw",user:"u",team:"t",faq:"lfa",quiz:"lqz",submission:"lsu",competency:"lcp"},x={lco:"course",lpr:"project",ltu:"tutorial",lls:"liveSession",lfa:"faq",lqz:"quiz",lsu:"submission",lbg:"badge",lms:"mission",lpw:"pathway",lcp:"competency",u:"user",t:"team"},R=a(168)},,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.chains=t.isValidatingForm=t.isValidForm=t.Form=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Forms=function(){return(0,s.default)()};var o=n(a(50)),i=a(507),s=n(a(144)),l=n(a(89)),u=n(a(158)),c=n(a(160)),d=n(a(82)),f=n(a(86)),p=n(a(85)),m=n(a(90)),h=n(a(91)),_=n(a(88)),g=n(a(83));o.default.requiredIfFieldEquals=function(e,t,a){var n=a.field,r=a.value;return t[n].value!==r||o.default.isValue(e)},o.default.lessZero=function(e){return!!o.default.isNumeric(e)&&("number"==typeof e?e>=0:parseFloat(e)>=0)},o.default.lessOne=function(e){return!!o.default.isNumeric(e)&&("number"==typeof e?e>=1:parseInt(e,10)>=1)},o.default.moreHundred=function(e){return!!o.default.isNumeric(e)&&("number"==typeof e?e<=100:parseInt(e,10)<=100)},o.default.maxSkills=function(e){return!(e instanceof Array)||e.length<=10},o.default.isLocation=function(e){return!!(e&&e instanceof Object&&""!==e.country)},o.default.isWebsite=function(e){var t=/^(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isSocialUrl=function(e,t,a){return!(e&&("string"!=typeof e||!(0,i.testSocialUrl)(a)(e)))},o.default.isAssetstoreUrl=function(e){var t=/^(https?:\/\/)?(www\.)?assetstore.unity3d.com\/.+$/i;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isPathOfWebsite=function(e,t,a){var n={applestore:/(https?:\/\/)?(itunes\.)?(apple)\.(com)\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i,googleplay:/(https?:\/\/)?(play\.)?(google)\.(com)\/store\/apps\/details\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i,steam:/(https?:\/\/)?(store\.)?(steampowered)\.(com)\/app\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i,url:/(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i},r=n[a||"url"]||n.url;return!(e&&("string"!=typeof e||!r.test(e)))},o.default.isNotLess=function(e,t,a){return!(t[a].value&&e&&parseInt(t[a].value,10)>parseInt(e,10))},o.default.isNotLarger=function(e,t,a){return!(t[a].value&&e&&parseInt(t[a].value,10)<parseInt(e,10))},o.default.isNotLessThan=function(e,t,a){return!(parseInt(e,10)<parseInt(a,10))},o.default.isHour=function(e){return!e||!!o.default.isNumeric(e)&&("number"!=typeof e&&(e=parseInt(e,10)),e>=0&&e<=23)},o.default.isMinute=function(e){return!e||!!o.default.isNumeric(e)&&("number"!=typeof e&&(e=parseInt(e,10)),e>=0&&e<=59)},o.default.anyUpperCase=function(e){var t=/[A-Z]+/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.anyLowerCase=function(e){var t=/[a-z]+/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.anyNumber=function(e){var t=/\d/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isScale=function(e){return!!(e&&"object"===(void 0===e?"undefined":r(e))&&"from"in e&&"to"in e)&&!(0===e.from&&!e.to)},o.default.notNullDepends=function(e,t,a){return!(e&&!t[a].value)},o.default.typeInArray=function(e,t,a){if(e&&e instanceof Array)switch(a){case"boolean":return-1!==e.findIndex(function(e){return"boolean"==typeof e});case"number":return-1!==e.findIndex(function(e){return"number"==typeof e});case"object":return-1!==e.findIndex(function(e){return"object"===(void 0===e?"undefined":r(e))});case"string":default:return-1!==e.findIndex(function(e){return"string"==typeof e&&""!==e.trim()})}return!1},o.default.isUdpPackageName=function(e){var t=/^([a-z]{1}[a-z\d_]*\.)*[a-z][a-z\d_]*$/;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isPrice=function(e){var t=/(^[0-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isPositive=function(e){return!e||!!o.default.isNumeric(e)&&("number"==typeof e?e>0:parseFloat(e)>0)},o.default.isGameCredit=function(e){var t=/(^[1-9]\d*(\.\d{1,8})?$)|(^0(\.\d{1,8})?$)/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isApkVersion=function(e){var t=/^\d+(\.\d+)+$/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isUdpCallbackUrl=function(e){var t=/^(https?:\/\/[\w-]+(\.[\w-]+)+(:\d+)?((\/|\/[\w-]+)?)*(\?[\w-]+=[\w-]+((&[\w-]+=[\w-]+)?)*)?)?$/;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isUdpIapSlug=function(e){var t=/^[a-z0-9][a-z0-9_.]*$/;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.urlInArray=function(e){return!(!(e&&e instanceof Array)||e.find(function(e){return!e.url}))},o.default.isSlug=function(e){return null!==e&&void 0!==e&&/^[\w-]*$/g.test(e)},o.default.isObjectEmpty=function(e){return Object.keys(e||{}).length>0},o.default.isObjectLength=function(e,t,a){return Object.keys(e||{}).length===a};t.Form=l.default,t.isValidForm=u.default,t.isValidatingForm=c.default,t.chains={fieldAdded:d.default,fieldChanged:f.default,fieldRemoved:p.default,formValidated:m.default,reset:h.default,validate:_.default,addField:g.default}},function(e,t){e.exports=browser_dll},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=n(a(3)),v=n(a(175)),y=(l=(0,g.default)(v.default))((d=c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,_.default),p(t,[{key:"onThisClick",value:function(e){var t=this.props,a=t.onClick,n=t.href;t.loading||(n?this.refs.aTag.click():a&&a(e))}},{key:"renderContent",value:function(){var e=this.props,t=e.label,a=[],n={pointerEvents:"none"};return(e.loading||!1)&&(a.push(h.default.createElement("div",{key:"loading",className:this.ss("raised-btn-loading-wrap")},h.default.createElement("div",{className:this.ss("raised-btn-loading")}))),n.opacity=0,n.cursor="auto"),a.push(h.default.createElement("div",{key:"label",style:n},t)),a}},{key:"render",value:function(){var e=this,t=this.props,a=t.href,n=(t.onClick,t.target),o=t.theme,i=(t.loading,t.size),s=t.gaTag,l=t.widthStyle,u=t.disabled,c=r(t,["href","onClick","target","theme","loading","size","gaTag","widthStyle","disabled"]),d=["raised-btn","raised-btn-"+(o||"default"),s,l,i&&"size-"+i,u&&"disabled"],p=n||"_self",m=void 0;return a&&(m=h.default.createElement("a",{href:a,ref:"aTag",target:p})),h.default.createElement("button",f({},c,{ref:"button",className:this.ss.apply(this,d),onClick:function(t){return e.onThisClick(t)}}),this.renderContent(),m)}}]),t}(),c.propTypes={label:m.default.oneOfType([m.default.string,m.default.node]),gaTag:m.default.string,href:m.default.string,onClick:m.default.func,target:m.default.string,disabled:m.default.bool,loading:m.default.bool,size:m.default.oneOf(["auto","xsmall","small","medium","large"]),theme:m.default.oneOf(["primary","default","transparent","blue-border","hollow-white","thirdly","red","white","grey","blue-border-transparent"]),widthStyle:m.default.oneOf(["auto","full"])},c.defaultProps={theme:"primary",size:"medium"},u=d))||u;t.default=y},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/connect-?\w*\.unity\.com/i;t.default=function(e,t){var a=t||window&&window.location&&window.location.hostname||"";return(e=e||"").startsWith("http")?e:!0===n.test(a)&&0!==e.indexOf("/learn")?"/learn"+e:e}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEditorContent=function(e,t){var a=void 0,o=void 0,i=n.default.getEditorState(e,t);if(i){var s=(0,r.normalizeValidAtomicBlocks)(i.getCurrentContent());a=JSON.stringify((0,r.convertToRaw)(s)),o=s.getPlainText()}return{body:a,text:o}},t.getDraftPlainText=function(e){return e&&r.convertFromRaw?(0,r.convertFromRaw)(JSON.parse(e)).getPlainText():""};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(495)),r=a(10);t.default=function(e,t){var a=void 0,o=void 0,i=n.default.getEditorState(e,"editorTitle_"+t);i&&(a=i.getCurrentContent().getPlainText());var s=n.default.getEditorState(e,"editorBody_"+t);if(s){var l=(0,r.normalizeValidAtomicBlocks)(s.getCurrentContent());o=JSON.stringify((0,r.convertToRaw)(l))}return{title:a,body:o}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=s(["header.tooltips"],["header.tooltips"]),m=s(["header.tooltipShow"],["header.tooltipShow"]),h=s(["header.tooltipHide"],["header.tooltipHide"]),_=n(a(2)),g=n(a(0)),v=n(a(19)),y=n(a(1)),b=a(6),w=a(4),E=a(45),S=0,O=(l=(0,b.decorator)({tooltips:(0,w.state)(p),tooltipShow:(0,w.signal)(m),tooltipHide:(0,w.signal)(h)}))((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={tooltipId:(S++).toString()},n.tid=null,i=a,o(n,i)}return i(t,y.default),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.tooltips,n=t.text,r=this.state.tooltipId,o=e.text;a[r]&&n!==o&&this.tooltipShow(o)}},{key:"componentWillUnmount",value:function(){this.tooltipHide()}},{key:"tooltipShow",value:function(e){var t=this;if(!(0,E.isDevice)()){this.tid&&clearTimeout(this.tid);var a=v.default.findDOMNode(this.refs.child).getBoundingClientRect(),n=a.left,r=a.right,o=a.top,i=a.bottom,s=this.props,l=s.delay,u=s.text,c=s.type,d=s.position,f=s.tooltipShow;this.tid=setTimeout(function(){f({id:t.state.tooltipId,text:e||u,type:c,position:d,targetWidth:r-n,targetHeight:i-o,left:n,top:o})},l)}}},{key:"tooltipHide",value:function(){if(!(0,E.isDevice)()){this.tid&&clearTimeout(this.tid);var e=this.props.tooltipHide;e({id:this.state.tooltipId})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,r=t.isSpan,o=t.clickToHide;if(!a)return null;var i=g.default.Children.only(a);i=g.default.cloneElement(i,{ref:"child"});var s=r?"span":"div";return g.default.createElement(s,{onMouseOver:function(){return e.tooltipShow()},onMouseOut:function(){return e.tooltipHide()},onClick:function(){return o&&e.tooltipHide()},className:n},i)}}]),t}(),c.propTypes={text:_.default.oneOfType([_.default.string,_.default.array]).isRequired,delay:_.default.number,type:_.default.oneOf(["normal","success","warning","error","green","blue","dark"]),position:_.default.oneOf(["top","top-width","left","bottom","right","top-left","bottom-left"]),isSpan:_.default.bool,clickToHide:_.default.bool,children:_.default.any,className:_.default.string,tooltips:_.default.object,tooltipShow:_.default.func,tooltipHide:_.default.func},c.defaultProps={delay:0,type:"normal",position:"top",isSpan:!1,clickToHide:!0},u=d))||u;t.default=O},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetPublished=function(e){var t=e.state;t.get("common.published")||t.set("common.published",!0)};var n=a(5);t.default=function(e,t,a){var r=t[e].value,o=a[e].value;return"asset"===e?r===o||!(!r||!o||r.packageIds!==o.packageIds||(0,n.get)(r,"uploads.length")!==(0,n.get)(o,"uploads.length"))&&(0,n.get)(o,"uploads",[]).every(function(e,t){return(0,n.get)(e,"downloadVersion")===(0,n.get)(r,"uploads."+t+".downloadVersion")}):"group"===e?r===o||!!r&&!!o&&r.groupId===o.groupId&&r.url===o.url:"paymentItem"===e?r===o||!!r&&!!o&&r.slug===o.slug&&r.itemId===o.itemId:"hidden"===e||"premium"===e||"offline"===e?r===o:Array.isArray(r)&&Array.isArray(o)?r.length===o.length&&o.every(function(t,a){var n=r[a];if("materials"===e||"documents"===e||"prerequisites"===e){if("link"===t.type)return t.name===n.name&&t.url===n.url;if("file"===t.type)return t.attachmentId===n.attachmentId}return"mediaContents"===e?t.id===n.id:t===n}):r===o}},function(e,t,a){"use strict";e.exports=function(e){return Array.isArray(e)||(e=e.split(".")),e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(18));t.default=function(e){e=(0,n.default)(e),window.location.href=e}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoginToStartLabel=t.LoginLabel=t.PremiumLabel=t.PaymentLabel=t.BreadcrumbLabel=t.AlignExistingCompetencyLabel=t.AlignExistingTopicLabel=t.AlignExistingLabel=t.ConnectGroupLabel=t.AlignExistingMissionsLabel=t.AddAnotherAssetLabel=t.AddPointRewardLabel=t.AddSuggestedSolutionLabel=t.AddEducatorLabel=t.AddContentGroupLabel=t.AddOptionLabel=t.AddQuestionLabel=t.AddAssessmentLabel=t.AddSubmissionStepLabel=t.AddLabStepLabel=t.AddStepLabel=t.AddTutorialLabel=t.AddSkillLabel=t.AddSubSkillLabel=t.AddNewSetLabel=t.AddNewVersionLabel=t.StreamIconLabelWithHelp2=t.StreamIconLabelWithHelp=t.LiveSessionLabelWithHelp=t.LiveSessionLabel=t.TryPaymentLabel=t.TryPremium30DaysLabel=t.TryPremiumFreeLabel=t.StreamIconLabel=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N,D,x,R,F,A,L,K,q,z,U,B,H,V,G,W,Q,J,Y,Z,X,$,ee,te,ae,ne,re,oe,ie,se,le,ue,ce,de,fe,pe,me,he,_e,ge,ve,ye,be,we,Ee,Se,Oe,ke,Te,Pe,Ce,je,Ie,Me,Ne,De,xe,Re,Fe,Ae,Le,Ke,qe,ze,Ue,Be,He,Ve,Ge,We,Qe,Je,Ye,Ze,Xe,$e,et,tt,at,nt,rt,ot,it,st,lt,ut,ct,dt,ft,pt,mt,ht,_t,gt,vt,yt,bt,wt,Et,St,Ot,kt,Tt,Pt,Ct,jt,It,Mt,Nt,Dt,xt,Rt,Ft,At,Lt,Kt,qt,zt,Ut,Bt,Ht,Vt,Gt,Wt,Qt,Jt,Yt,Zt,Xt,$t,ea,ta,aa,na,ra,oa,ia,sa,la,ua,ca,da,fa,pa,ma,ha,_a,ga,va,ya,ba,wa,Ea,Sa,Oa,ka,Ta,Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ca=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),ja=n(a(2)),Ia=n(a(0)),Ma=n(a(1)),Na=a(5),Da=n(a(22)),xa=n(a(118)),Ra=n(a(3)),Fa=n(a(224)),Aa=n(a(7)),La=n(a(225)),Ka=(l=(0,Ra.default)(Fa.default),u=(0,Aa.default)(La.default),l(c=u((f=d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.label,n=e.icon;return Ia.default.createElement("div",{className:this.ss("label-icon",t)},Ia.default.createElement("div",{className:this.ss("icon","ifont","ifont-"+n)}),Ia.default.createElement("div",{className:this.ss("label")},a||""))}}]),t}(),d.propTypes={icon:ja.default.string,label:ja.default.string,theme:ja.default.string},d.defaultProps={},c=f))||c)||c);t.default=Ka;var qa=(p=(0,Ra.default)(Fa.default),m=(0,Aa.default)(La.default),p(h=m((g=_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props,t=e.helpText,a=e.helpIcon,n=e.theme,o=r(e,["helpText","helpIcon","theme"]);return Ia.default.createElement("div",{className:this.ss("label-with-help",n)},Ia.default.createElement(Ka,Pa({},o,{theme:n})),Ia.default.createElement(Da.default,{position:"right",type:"green",text:t},Ia.default.createElement("div",{className:this.ss("help-icon","ifont","ifont-"+a)})))}}]),t}(),_.propTypes={helpText:ja.default.string,helpIcon:ja.default.string,theme:ja.default.string},_.defaultProps={helpIcon:"lrn_icon_help_outline"},h=g))||h)||h),za=(v=(0,Ra.default)(Fa.default),y=(0,Aa.default)(La.default),v(b=y((E=w=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props,t=e.helpIcon,a=e.helpType,n=e.helpTheme,o=e.theme,i=r(e,["helpIcon","helpType","helpTheme","theme"]);return Ia.default.createElement("div",{className:this.ss("label-with-help",o)},Ia.default.createElement(Ka,Pa({},i,{theme:o})),Ia.default.createElement(xa.default,{position:"lower-right",type:a,theme:n},Ia.default.createElement("div",{className:this.ss("help-icon","ifont","ifont-"+t)})))}}]),t}(),w.propTypes={helpIcon:ja.default.string,helpType:ja.default.string,helpTheme:ja.default.string,theme:ja.default.string},w.defaultProps={helpIcon:"icon-info",helpTheme:"stream"},b=E))||b)||b);t.StreamIconLabel=(S=(0,Ra.default)(Fa.default),O=(0,Aa.default)(La.default),S(k=O((P=T=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props.theme;return Ia.default.createElement("div",{className:this.ss("label-wrapper",e)},Ia.default.createElement(Ka,{icon:"lrn_icon_streaming_lab",label:this.__("label_stream"),theme:"stream"}))}}]),t}(),T.propTypes={theme:ja.default.oneOf(["default","inherit"])},T.default={theme:"default"},k=P))||k)||k),t.TryPremiumFreeLabel=(C=(0,Ra.default)(Fa.default),j=(0,Aa.default)(La.default),C(I=j((N=M=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"lrn_icon_premium",label:this.__("label_try_premium_free"),theme:"try-premium-free"})}}]),t}(),M.propTypes={},I=N))||I)||I),t.TryPremium30DaysLabel=(D=(0,Ra.default)(Fa.default),x=(0,Aa.default)(La.default),D(R=x((A=F=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"lrn_icon_premium",label:this.__("label_try_premium_30days"),theme:"try-premium-free"})}}]),t}(),F.propTypes={},R=A))||R)||R),t.TryPaymentLabel=(L=(0,Ra.default)(Fa.default),K=(0,Aa.default)(La.default),L(q=K((U=z=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props.type;return Ia.default.createElement("div",{className:this.ss("label")},this.__("label_try_payment_"+e))}}]),t}(),z.propTypes={type:ja.default.string.isRequired},q=U))||q)||q),t.LiveSessionLabel=(B=(0,Ra.default)(Fa.default),H=(0,Aa.default)(La.default),B(V=H((W=G=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props.theme,t=this.__("label_live_session");return"upcoming"===e&&(t=this.__("label_learn_live_upcoming")),"latest"===e&&(t=this.__("label_learn_live_latest")),"past"===e&&(t=this.__("label_learn_live_past")),Ia.default.createElement(Ka,{icon:"lrn_icon_live",label:t,theme:"live-session"})}}]),t}(),G.propTypes={theme:ja.default.oneOf(["default","upcoming","latest","past"])},V=W))||V)||V),t.LiveSessionLabelWithHelp=(Q=(0,Ra.default)(Fa.default),J=(0,Aa.default)(La.default),Q(Y=J((X=Z=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props.type;return Ia.default.createElement(qa,{theme:"live-session",icon:"lrn_icon_live",label:this.__("label_live_session"),helpText:this.__("label_live_session_help_"+e)})}}]),t}(),Z.propTypes={type:ja.default.string},Y=X))||Y)||Y),t.StreamIconLabelWithHelp=($=(0,Ra.default)(Fa.default),ee=(0,Aa.default)(La.default),$(te=ee(te=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(qa,{icon:"lrn_icon_streaming_lab",theme:"stream",label:this.__("label_stream"),helpText:this.__("label_stream_help")})}}]),t}())||te)||te),t.StreamIconLabelWithHelp2=(ae=(0,Ra.default)(Fa.default),ne=(0,Aa.default)(La.default),ae(re=ne(re=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(za,{icon:"lrn_icon_streaming_lab",theme:"stream",label:this.__("label_stream")})}}]),t}())||re)||re),t.AddNewVersionLabel=(oe=(0,Ra.default)(Fa.default),ie=(0,Aa.default)(La.default),oe(se=ie((ue=le=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_new_version"),theme:"skill"})}}]),t}(),le.propTypes={},se=ue))||se)||se),t.AddNewSetLabel=(ce=(0,Ra.default)(Fa.default),de=(0,Aa.default)(La.default),ce(fe=de((me=pe=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_new_set"),theme:"mission"})}}]),t}(),pe.propTypes={},fe=me))||fe)||fe),t.AddSubSkillLabel=(he=(0,Ra.default)(Fa.default),_e=(0,Aa.default)(La.default),he(ge=_e((ye=ve=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_sub_skill"),theme:"skill"})}}]),t}(),ve.propTypes={},ge=ye))||ge)||ge),t.AddSkillLabel=(be=(0,Ra.default)(Fa.default),we=(0,Aa.default)(La.default),be(Ee=we((Oe=Se=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_new_skill"),theme:"skill"})}}]),t}(),Se.propTypes={},Ee=Oe))||Ee)||Ee),t.AddTutorialLabel=(ke=(0,Ra.default)(Fa.default),Te=(0,Aa.default)(La.default),ke(Pe=Te((je=Ce=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_tutorial"),theme:"tutorial"})}}]),t}(),Ce.propTypes={},Pe=je))||Pe)||Pe),t.AddStepLabel=(Ie=(0,Ra.default)(Fa.default),Me=(0,Aa.default)(La.default),Ie(Ne=Me((xe=De=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_step"),theme:"step"})}}]),t}(),De.propTypes={},Ne=xe))||Ne)||Ne),t.AddLabStepLabel=(Re=(0,Ra.default)(Fa.default),Fe=(0,Aa.default)(La.default),Re(Ae=Fe((Ke=Le=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_lab_step"),theme:"step"})}}]),t}(),Le.propTypes={},Ae=Ke))||Ae)||Ae),t.AddSubmissionStepLabel=(qe=(0,Ra.default)(Fa.default),ze=(0,Aa.default)(La.default),qe(Ue=ze((He=Be=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_submission_step"),theme:"step"})}}]),t}(),Be.propTypes={},Ue=He))||Ue)||Ue),t.AddAssessmentLabel=(Ve=(0,Ra.default)(Fa.default),Ge=(0,Aa.default)(La.default),Ve(We=Ge((Je=Qe=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_assessment"),theme:"mission"})}}]),t}(),Qe.propTypes={},We=Je))||We)||We),t.AddQuestionLabel=(Ye=(0,Ra.default)(Fa.default),Ze=(0,Aa.default)(La.default),Ye(Xe=Ze((et=$e=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_question"),theme:"step"})}}]),t}(),$e.propTypes={},Xe=et))||Xe)||Xe),t.AddOptionLabel=(tt=(0,Ra.default)(Fa.default),at=(0,Aa.default)(La.default),tt(nt=at((ot=rt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_option"),theme:"step"})}}]),t}(),rt.propTypes={},nt=ot))||nt)||nt),t.AddContentGroupLabel=(it=(0,Ra.default)(Fa.default),st=(0,Aa.default)(La.default),it(lt=st((ct=ut=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_content_group"),theme:"step"})}}]),t}(),ut.propTypes={},lt=ct))||lt)||lt),t.AddEducatorLabel=(dt=(0,Ra.default)(Fa.default),ft=(0,Aa.default)(La.default),dt(pt=ft((ht=mt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_educator"),theme:"step"})}}]),t}(),mt.propTypes={},pt=ht))||pt)||pt),t.AddSuggestedSolutionLabel=(_t=(0,Ra.default)(Fa.default),gt=(0,Aa.default)(La.default),_t(vt=gt((bt=yt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_suggested_solution"),theme:"step"})}}]),t}(),yt.propTypes={},vt=bt))||vt)||vt),t.AddPointRewardLabel=(wt=(0,Ra.default)(Fa.default),Et=(0,Aa.default)(La.default),wt(St=Et((kt=Ot=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_point_reward")})}}]),t}(),Ot.propTypes={},St=kt))||St)||St),t.AddAnotherAssetLabel=(Tt=(0,Ra.default)(Fa.default),Pt=(0,Aa.default)(La.default),Tt(Ct=Pt((It=jt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_add_another_asset")})}}]),t}(),jt.propTypes={},Ct=It))||Ct)||Ct),t.AlignExistingMissionsLabel=(Mt=(0,Ra.default)(Fa.default),Nt=(0,Aa.default)(La.default),Mt(Dt=Nt((Rt=xt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_align_existing_missions")})}}]),t}(),xt.propTypes={},Dt=Rt))||Dt)||Dt),t.ConnectGroupLabel=(Ft=(0,Ra.default)(Fa.default),At=(0,Aa.default)(La.default),Ft(Lt=At((qt=Kt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"lrn_icon_group",label:this.__("label_connect_group"),theme:"connect-group"})}}]),t}(),Kt.propTypes={},Lt=qt))||Lt)||Lt),t.AlignExistingLabel=(zt=(0,Ra.default)(Fa.default),Ut=(0,Aa.default)(La.default),zt(Bt=Ut((Vt=Ht=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_align_existing"),theme:"align-existing"})}}]),t}(),Ht.propTypes={},Bt=Vt))||Bt)||Bt),t.AlignExistingTopicLabel=(Gt=(0,Ra.default)(Fa.default),Wt=(0,Aa.default)(La.default),Gt(Qt=Wt((Yt=Jt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_existing_topic"),theme:"align-existing_topic"})}}]),t}(),Jt.propTypes={},Qt=Yt))||Qt)||Qt),t.AlignExistingCompetencyLabel=(Zt=(0,Ra.default)(Fa.default),Xt=(0,Aa.default)(La.default),Zt($t=Xt((ta=ea=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"icons-add",label:this.__("label_existing_competency")})}}]),t}(),ea.propTypes={},$t=ta))||$t)||$t),t.BreadcrumbLabel=(aa=(0,Ra.default)(Fa.default),na=(0,Aa.default)(La.default),aa(ra=na((ia=oa=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{theme:"breadcrumb",icon:"lrn_icon_whereami",label:this.__("breadcrumb_tip_label")})}}]),t}(),oa.propTypes={},ra=ia))||ra)||ra),t.PaymentLabel=(sa=(0,Ra.default)(Fa.default),la=(0,Aa.default)(La.default),sa(ua=la((da=ca=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props.theme;return Ia.default.createElement("div",{className:this.ss("label-wrapper",e)},Ia.default.createElement(Ka,{theme:"payment",icon:"lrn_icon_ring",label:this.__("label_payment")}))}}]),t}(),ca.propTypes={theme:ja.default.oneOf(["default","inherit","dark"])},ca.default={theme:"default"},ua=da))||ua)||ua),t.PremiumLabel=(fa=(0,Ra.default)(Fa.default),pa=(0,Aa.default)(La.default),fa(ma=pa((_a=ha=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme;return(0,Na.get)(t,"premium")?Ia.default.createElement("div",{className:this.ss("label-wrapper",a)},Ia.default.createElement(Ka,{theme:"premium",icon:"lrn_icon_premium",label:this.__("label_premium")})):null}}]),t}(),ha.propTypes={data:ja.default.object,theme:ja.default.oneOf(["default","inherit","dark"])},ha.defaultProps={theme:"default"},ma=_a))||ma)||ma),t.LoginLabel=(ga=(0,Ra.default)(Fa.default),va=(0,Aa.default)(La.default),ga(ya=va((wa=ba=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"lrn_icon_premium",label:this.__("label_login"),theme:"login"})}}]),t}(),ba.propTypes={},ya=wa))||ya)||ya),t.LoginToStartLabel=(Ea=(0,Ra.default)(Fa.default),Sa=(0,Aa.default)(La.default),Ea(Oa=Sa((Ta=ka=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Ma.default),Ca(t,[{key:"render",value:function(){return Ia.default.createElement(Ka,{icon:"lrn_icon_premium",label:this.__("label_login_to_start_learning"),theme:"login"})}}]),t}(),ka.propTypes={},Oa=Ta))||Oa)||Oa)},,,,function(e,t){e.exports={NAME:"production",APP_NAME:"view_server",APP_VERSION:"1.0",SERVER_PORT:18088,IS_ONEBOX:!1,HOT_RELOAD:!1,LAZY_BUILD:!1,DISPLAY_TIME_IN_MESSENGER:!0,DEVTOOLS:!1,RELEASE_BUILD:!0,UGLIFY_JS:!0,CSS_LOCAL_IDENTIFIER:!0,LONG_TERM_CACHE:!0,WITH_CONSOLE_LOG:!0,CONSOLE_LOG_FORMAT:"json",STORYBOOK:!1,PUBLIC_PATH:"https://connect-prd-cdn.unity.com/cdn-origin/",LOG_FOLDER:"/var/silkcloud/logs/mp_view",PUBLIC_ASSETS_FOLDER:"/gopath/src/gitlab.internal.unity3d.com/unity-connect/connect/view_server/public/assets",BUILD_ASSETS_FOLDER:"/gopath/src/gitlab.internal.unity3d.com/unity-connect/connect/view_server/build/assets",BUILD_TARGET_SERVER_NAMESPACE:"server",REQUEST_BASE_URL:"",REQUEST_BASE_URL_INTERNAL:"http://localhost:8080",REQUEST_TIMEOUT:3e4,DEFAULT_URL:"https://connect.unity.com",DEFAULT_TITLE:"Unity Connect",DEFAULT_META_KEYWORDS:"Unity Connect",DEFAULT_META_DESCRIPTION:{en_US:"The first talent marketplace dedicated to the full spectrum of Unity creators — game developers, artists, programmers, VR/AR developers, and more. Find game dev jobs, source Unity talent, and post tasks to get help on your Unity projects.",zh_CN:"首个致力于Unity创作者（游戏开发、美术师、VR／AR从业者）的人才圈。找工作，招人才，获得帮助，取得成功。"},LOCALES:["en_US","zh_CN","ko_KR","ja_JP","ru_RU","es_ES","fr_FR","de_DE","pt_PT"],MIN_LOCALES:["en_US","zh_CN","ko_KR","ja_JP"],MOMENT_LOCALE:{en_US:"",zh_CN:"zh-cn",ko_KR:"ko",ja_JP:"ja",ru_RU:"ru",es_ES:"es",fr_FR:"fr",de_DE:"de",pt_PT:"pt"},NUMBRO_LOCALE:{en_US:"",zh_CN:"zh-CN",ko_KR:"ko-KR",ja_JP:"ja-JP",ru_RU:"ru-RU",es_ES:"es-ES",fr_FR:"fr-FR",de_DE:"de-DE",pt_PT:"pt-PT"},BASE_ID_URL:"https://id.unity.com",STORE_URL:"https://store.unity.com",LOGIN_POPUP:!0,CDN_URLS:["https://dzamqefpotdvf.cloudfront.net/","https://connect-cdn-china.unity.com/","https://connect-cdn-china.unitychina.cn/","https://connect.unity.com/message-attachments","https://connect-prd-cdn.unity.com/","https://connect-cdn-public-prd.unitychina.cn/","https://connect-cdn-private-prd.unitychina.cn/"],REGIONS:[{refId:"region.01",i18n_key:"region_01"},{refId:"region.02",i18n_key:"region_02"},{refId:"region.03",i18n_key:"region_03"},{refId:"region.04",i18n_key:"region_04"},{refId:"region.05",i18n_key:"region_05"},{refId:"region.06",i18n_key:"region_06"},{refId:"region.07",i18n_key:"region_07"},{refId:"region.08",i18n_key:"region_08"},{refId:"region.09",i18n_key:"region_09"}],PROJECT_ENABLED:!0,TFA_ENABLED:!0,PACKAGE_DOWNLOAD_LINKS:{mac:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.dmg",windows:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.exe"},PROXY_HOST:"",PROXY_PORT:"",REGION_AUTO_LOCATED_NOTE_ENABLED:!1,CLUSTERING:!0,LEARN_DEFAULT_URL:"https://learn.unity.com",LEARN_PREMIUM_MARKETING:"https://unity.com/learn-premium",LEARN_PREMIUM_STORE_FLOW:"https://store.unity.com/configure-plan/unity-learn-premium-30-day-trial",LEARN_PAYMENT_STORE_FLOW:"https://pay.unity.com/os2/orders/new",LEARN_AUTHOR_LIST:["5a95d5ef32b306001856489e","59fd0498090915002713b5c3","5abb2fec32b306001fbe91a8","5d74318eedbc2a56f0a6fe48","5db006f7edbc2a0020d998ec","5af69e9f090915001c83c1bb","584dba1f0909150027e1c7f5","5e305e98edbc2a67d6f1c4de","58b51db309091559199d4738"],CAPTCHA_CLIENT_KEY:"6Lcz1bMUAAAAACxsmcalX_VZlmLh7Kb-e-re0KKn",STORE_STATUS_MAP:{aptoide:"published",cloudmoolah:"published",onestore:"published",apptutti:"published",htc:"published",xiaomistore:"beta",huawei:"published"},APP_ID:"431669861070518",WEBGL_PLAYER_BASE_URL:"https://connect.unity3dusercontent.com/webgl",RECAPTCHA_ENABLE:!0,ASSET_UNLOCK_FPS_FIRST:"162774",ASSET_UNLOCK_KARTING_FIRST:"164043",ASSET_UNLOCK_KARTING_SECOND:"164146",ASSET_UNLOCK_KARTING_THIRD:"164147",AMPLITUDE_API_KEY:"a23922745183aa6e30250a7be015618c",ASSETSTORE_PAGE_BASEURL:"https://assetstore.unity.com",ASSETSTORE_ID:"1101ld9wQ",LIVE_HELP_SITE:"https://livehelp.unity.com",GSTORE_WEBSITE:"https://developer.gplay.io/sign_up"}},function(e,t,a){"use strict";(function(e){function a(e,t){return function(a){var n=a.props;a.state.set(s,{open:!0,signalPath:e,actionProps:n,type:t})}}function n(e){e.state.set(s,{open:!1,signalPath:"",actionProps:{},type:"default",loadingStatus:""})}function r(e){return function(t){var a=t.state,n=t.controller,r=a.get(s),o=r.signalPath,l=r.actionProps,u=n.getSignal(o);u&&u(i({},l,{translated:e}))}}function o(e){var t=e.props,a=e.path;return!0!==t.isSaved?a.yes(t):a.no(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s="common.saveConfirmDialog";t.default={name:e,depends:[],signals:{openSaveConfirm:[a],closeSaveConfirm:[n],doConfirmTranslate:[r(!0),n],skipConfirmTranslate:[r(!1),n]},getServices:function(){},getState:function(){return{saveConfirmDialog:{open:!1,type:"default",signalPath:"",actionProps:{}}}},SaveRequired:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return[o,{yes:[a(e,t)],no:[function(t){var a=t.props,n=t.controller.getSignal(e);n&&n(a)}]}]}}}).call(t,"views/learn/modules/common/SaveConfirmStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.setting.windowHeight"],["header.setting.windowHeight"]),h=n(a(2)),_=n(a(0)),g=a(6),v=a(4),y=n(a(1)),b=a(41),w=n(a(28)),E=n(a(3)),S=n(a(174)),O=b.presets.stiff,k=(s=(0,g.decorator)({windowHeight:(0,v.state)(m)}),l=(0,E.default)(S.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){n.props.open&&n.props.onCloseModal&&n.props.onCloseModal()},n.onKeyDown=function(e){switch(e.keyCode){case 27:n.onClose()}},i=a,o(n,i)}return i(t,y.default),p(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"renderDialog",value:function(e){var t=e.backDropOpacity,a=e.modalScale,n=e.modalOpacity,r=this.props,o=r.windowHeight,i=r.noScroller,s=r.position;if(t<.1||n<.1)return null;var l={transform:"scale3d("+a+", "+a+", 1)",opacity:n},u=f({},l),c={},d={};if(o>0){var p=Math.max(o-128,128);l.maxHeight=p,c.maxHeight=p;var m=Math.max(o-88,88);u.maxHeight=m,d.maxHeight=m}var h=this.props.children,g={opacity:t},v=_.default.createElement(w.default,{position:s},_.default.createElement("div",{className:this.ss("modal-content"),style:c},h)),y=_.default.createElement(w.default,{position:s},_.default.createElement("div",{className:this.ss("modal-content"),style:d},h));return i&&(v=_.default.createElement("div",{className:this.ss("modal-content"),style:c},h),y=_.default.createElement("div",{className:this.ss("modal-content"),style:d},h)),_.default.createElement("div",null,_.default.createElement("div",{className:this.ss("backdrop"),style:g,onClick:this.onClose}),_.default.createElement("div",{className:this.ss("modal","pc")},_.default.createElement("div",{className:this.ss("modal-inner",s),style:l},v)),_.default.createElement("div",{className:this.ss("modal","mobile")},_.default.createElement("div",{className:this.ss("modal-inner",s),style:u},y)))}},{key:"render",value:function(){var e=this,t=this.props.noAnimation;if(!0===(void 0!==t&&t)){var a=!0===this.props.open?{backDropOpacity:.8,modalScale:1,modalOpacity:1}:{backDropOpacity:0,modalScale:.75,modalOpacity:0};return this.renderDialog(a)}var n={backDropOpacity:0,modalScale:.75,modalOpacity:0},r=this.props.open?{backDropOpacity:(0,b.spring)(.8,O),modalScale:(0,b.spring)(1,O),modalOpacity:(0,b.spring)(1,O)}:{backDropOpacity:(0,b.spring)(0,O),modalScale:(0,b.spring)(.75,O),modalOpacity:(0,b.spring)(0,O)};return _.default.createElement(b.Motion,{defaultStyle:n,style:r},function(t){return e.renderDialog(t)})}}]),t}(),c.propTypes={onCloseModal:h.default.func,open:h.default.bool,children:h.default.any,windowHeight:h.default.number,noScroller:h.default.bool,noAnimation:h.default.bool,position:h.default.oneOf(["center","top"])},c.defaultProps={noScroller:!0},u=d))||u)||u);t.default=k},function(e,t,a){"use strict";function n(e){return(e.get("common.pointReward.points")||[]).filter(function(e){return e.categoryId})}Object.defineProperty(t,"__esModule",{value:!0}),t.PointRewardSaveStatus=function(e,t){var a=(0,r.get)(t,"points")||[],o=n(e);return!(a.length===o.length&&a.every(function(e){return o.find(function(t){return t.categoryId===e.categoryId&&t.point===e.point&&t.index===e.index})}))},t.GetCurrentPointReward=n,t.GetEstimationPoints=function(e){var t=e.contentIds,a=e.tutorialMap,n=e.quizMap,r=e.projectMap,i={},s=[];return t&&t.length>0&&t.forEach(function(e){var t=(0,o.GetDataByItemId)({itemId:e,tutorialMap:a,quizMap:n,projectMap:r});t&&!0===t.published&&!0===t.public&&t.points&&t.points.length>0&&t.points.forEach(function(e){i[e.categoryId]=(i[e.categoryId]||0)+e.point})}),Object.keys(i).forEach(function(e){s.push({categoryId:e,index:0,point:i[e]})}),s},t.ValidPoints=function(e){var t=e.get("common.pointReward");if(t){var a=t.maxTotal;return t.totalPoints<=a}return!0},t.GetPointTotal=function(e){var t=0;return e&&e.length>0&&e.forEach(function(e){t+=e.point}),t};var r=a(5),o=a(9)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(3)),y=n(a(170)),b=n(a(7)),w=n(a(171)),E=(l=(0,v.default)(y.default),u=(0,b.default)(w.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={value:n.props.value||""},n.onFocus=function(e){n.props.onFocus&&n.props.onFocus(e)},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setInputValue(t)}},{key:"onSave",value:function(){this.props.onSave&&this.props.onSave(this.state.value),this.props.autoClear&&this.onClearInput()}},{key:"onClear",value:function(e){this.props.onClear&&this.props.onClear(e),this.props.onChange&&this.props.onChange(null,""),this.props.onSave&&this.props.onSave(""),this.onClearInput()}},{key:"onBlur",value:function(e){this.props.onBlur?this.props.onBlur(e):this.onSave()}},{key:"onChange",value:function(e){var t=e.target.value,a="";if("number"===this.props.type&&t){var n=this.__("numberOutput",{value:t});a=(n||0===n)&&n.toString()||""}else a=t;this.setState({value:a}),this.props.onChange&&this.props.onChange(e,a)}},{key:"onKeyDown",value:function(e){e&&e.stopPropagation();var t=e.keyCode;switch(this.props.onKeyDown&&this.props.onKeyDown(e),t){case 13:this.onSave();break;case 27:this.onClear()}}},{key:"onClearInput",value:function(){this.setInputValue("")}},{key:"setInputValue",value:function(e){this.setState({value:e})}},{key:"renderSymbol",value:function(){var e=this.props,t=e.symbol,a=e.symbolPosition;return t?_.default.createElement("div",{className:this.ss("symbol",a)},t):null}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.iconName,o=t.disabled,i=(t.autoFocus,t.autoClear,t.onSave,t.onClear,t.theme),s=t.size,l=t.readOnly,u=t.errorText,c=t.symbol,d=t.symbolPosition,f=t.inputStyle,m=r(t,["type","iconName","disabled","autoFocus","autoClear","onSave","onClear","theme","size","readOnly","errorText","symbol","symbolPosition","inputStyle"]),h=this.state.value,g="number"===a&&h?this.__("numberInput",{value:h}):h||"",v=_.default.createElement("div",{className:this.ss("icon","ifont","ifont-"+n)}),y=(_.default.createElement("div",{className:this.ss("symbol")},c),_.default.createElement("div",{className:this.ss("close","ifont","ifont-udp-close"),onClick:function(t){return e.onClear(t)}})),b=["input-wrap",o&&"disabled"],w=_.default.createElement("div",{key:"input",className:this.ss.apply(this,b)},n&&v,"BEFORE"===d&&this.renderSymbol(),_.default.createElement("input",p({},m,{style:f,className:this.ss("input"),type:"number"!==a&&a||"text",value:g,disabled:o,readOnly:l,onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onBlur:function(t){return e.onBlur(t)},onFocus:this.onFocus,size:10,ref:"input"})),"AFTER"===d&&this.renderSymbol(),!o&&!l&&h&&y);return _.default.createElement("div",{className:this.ss("text-input",i,s)},w,u&&_.default.createElement("div",{className:this.ss("text-error")},this.__(u)))}}]),t}(),d.propTypes={type:h.default.string,inputStyle:h.default.object,value:h.default.oneOfType([h.default.string,h.default.number,h.default.array]),iconName:h.default.string,autoFocus:h.default.bool,autoClear:h.default.bool,disabled:h.default.bool,readOnly:h.default.bool,onSave:h.default.func,onChange:h.default.func,onClear:h.default.func,onBlur:h.default.func,onFocus:h.default.func,onKeyDown:h.default.func,theme:h.default.oneOf(["default","transparent","box","error","featured","header-search","transparent-inherit","border-gray"]),size:h.default.oneOf(["small","medium","large","xlarge","xxxxlarge"]),errorText:h.default.any,symbol:h.default.string,symbolPosition:h.default.string},d.defaultProps={theme:"default",inputStyle:{}},c=f))||c)||c);t.default=E},function(e,t,a){e.exports=a(14)(794)},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.props,a=e.state,n=t.url||a.get("currentUrl"),r=t.isReg||!1,o=a.get("loginUser"),i=(window&&window.location||{}).pathname,s=n||i;null===o?r?(0,c.default)("/auth/signup?redirect_to="+encodeURIComponent(s)):(0,c.default)("/auth/login?redirect_to="+encodeURIComponent(s)):(0,c.default)(s)}function o(e){var t=e.state,a=e.path;return t.get("loginUser")?a.yes():a.no()}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.login"],["header.login"]),l=a(29),u=a(4),c=function(e){return e&&e.__esModule?e:{default:e}}(a(48)),d=["common","login"],f={open:!1};t.default={name:e,depends:[],signals:{loginTo:[r],openLoginWindow:[function(e){var t=e.props,a=e.state,n=e.http,r=e.path,o=t.url,i=t.isReg,s={redirect_to:o||a.get("currentUrl"),locale:a.get("locale")};return i&&(s.is_reg=!0),n.get("/api/authUrl",s).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,a=e.state,n=t.result;if(200===t.status&&n){var r=n.url;a.set([].concat(d),i({},f,{open:!0,url:r}))}}],error:[]}],closeLoginWindow:[(0,l.set)((0,u.state)(s),f)]},getServices:function(){},getState:function(){return{login:f}},LoginRequired:function(e){var t=[];return t=Array.isArray(e)?[].concat(n(e)):[e],[o,{yes:[t],no:[r]}]}}}).call(t,"views/learn/modules/common/LoginStore.js")},function(e,t){e.exports={"side-toolbar":"side-toolbar_30eUIXZg",show:"show_33xIHxw1","header-one":"header-one_Wrg7DexY","header-two":"header-two_p11ukxpz","unordered-list-item":"unordered-list-item_qog8jFhj","ordered-list-item":"ordered-list-item_30kE7otd",blockquote:"blockquote_36UpjBup","code-block":"code-block_1i6M5O8-",plus:"plus_36E4AeNx",open:"open_1uAnQX23","menu-icons":"menu-icons_37umzz-o",button:"button_1VqsHpmD",icon:"icon_1DXYEuTu",photo:"photo_10l0QWDt",video:"video_2qrrshsN",upload:"upload_2br734zo",html:"html_3V2M6TFw",tip:"tip_1e0GQaj_",hide:"hide_26W0v_jC","paragraph-icon-wrapper":"paragraph-icon-wrapper_3izAzfzo","paragraph-icon":"paragraph-icon_2x5WZD-d","block-toolbar-wrapper":"block-toolbar-wrapper_19Sn_p8T","block-toolbar":"block-toolbar_26x1HB_O","toolbar-button-wrapper":"toolbar-button-wrapper_2TmjObJn","toolbar-button":"toolbar-button_YZsQ04p-",active:"active_VUF0TW81"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoDuration=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(9),E=n(a(3)),S=n(a(169)),O=n(a(7)),k=n(a(93)),T=(s=(0,E.default)(S.default),l=(0,O.default)(k.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),g(t,[{key:"render",value:function(){var e=this.props,t=e.duration,a=e.theme;if("minute"===a)return y.default.createElement("div",{className:this.ss("duration-label")},this.__("duration_mins",{total:t}));var n=(0,w.ParseMinute)(t),r=n.hour,o=n.minute;if("hour"===a)return y.default.createElement("div",{className:this.ss("duration-label")},this.__("duration_hours",{total:r}));var i=0!==r&&0===o;return y.default.createElement("div",{className:this.ss("duration-label")},0!==r&&y.default.createElement("span",{className:this.ss("hour")},this.__("duration_hours",{total:r})),!i&&y.default.createElement("span",{className:this.ss("minute")},this.__("duration_mins",{total:o})))}}]),t}(),c.propTypes={duration:v.default.number,theme:v.default.oneOf(["default","minute","hour"])},c.defaultProps={theme:"default",duration:0},u=d))||u)||u);t.default=T;t.VideoDuration=(f=(0,E.default)(S.default),p=(0,O.default)(k.default),f(m=p((_=h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),g(t,[{key:"render",value:function(){var e=this.props.duration,t=(0,w.ParseSecond)(e),a=t.hour,n=t.minute,r=t.second;return 0===e?y.default.createElement("span",{className:this.ss("second")},this.__("duration_secs",{total:0})):y.default.createElement("div",{className:this.ss("duration-label")},0!==a&&y.default.createElement("span",{className:this.ss("hour")},this.__("duration_hours",{total:a})),0!==n&&y.default.createElement("span",{className:this.ss("minute")},this.__("duration_mins",{total:n})),0!==r&&y.default.createElement("span",{className:this.ss("second")},this.__("duration_secs",{total:r})))}}]),t}(),h.propTypes={duration:v.default.number},h.defaultProps={duration:0},m=_))||m)||m)},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubTitleV2=t.default=void 0;var s,l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=a(5),v=n(a(38)),y=a(9),b=a(8),w=n(a(3)),E=n(a(231)),S=n(a(7)),O=n(a(232)),k=(s=(0,w.default)(E.default),l=(0,S.default)(O.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getPoints=function(){var e=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){e+=(0,g.get)(t,"point",0)}),e},i=a,o(n,i)}return i(t,_.default),p(t,[{key:"renderSkillLevel",value:function(){var e=this.props.data,t=(0,g.get)(e,"skillLevel");return t?h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),(0,y.GetSkillLevelText)(this.context,t)):null}},{key:"renderDuration",value:function(){var e=this.props,t=e.hideDuration,a=e.data,n=e.durationTheme;if(t)return null;var r=(0,g.get)(a,"withManual")?(0,g.get)(a,"manualDuration"):(0,g.get)(a,"duration");return h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement(v.default,{duration:r,theme:n}))}},{key:"renderPoints",value:function(){var e=this.props,t=e.showPoint,a=e.data;if(!t)return null;var n=(0,g.get)(a,"points")||[];return 0===n.length?null:h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement("div",{className:this.ss("tag tag-points")},this.__("point",{point:this.getPoints(n)})))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.size,n=e.theme,r=e.showLanguage,o=(0,g.get)(t,"type"),i=(0,g.get)(t,"withEducator"),s=(0,g.get)(t,"language");return o===b.DataTypeKeys.submission?h.default.createElement("div",{className:this.ss("content-subtitle",a,n)},h.default.createElement("div",{className:this.ss("subtitle-item")},this.__("type_"+o))):h.default.createElement("div",{className:this.ss("content-subtitle",a,n)},h.default.createElement("div",{className:this.ss("subtitle-item")},this.__("type_"+o)),this.renderSkillLevel(),this.renderPoints(),this.renderDuration(),o===b.DataTypeKeys.quiz&&h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),this.__("questions_count",{count:(0,g.get)(t,"questionsCount",0)})),i&&h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement("div",{className:this.ss("ifont","ifont-lrn_icon_school")})),r&&h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),(0,y.GetLanguageText)(this.context,s)))}}]),t}(),c.propTypes={data:m.default.object,theme:m.default.oneOf(["default","dark","gray"]),durationTheme:m.default.string,size:m.default.oneOf(["default","small","large"]),showLanguage:m.default.bool,showPoint:m.default.bool,hideDuration:m.default.bool},c.defaultProps={theme:"default",durationTheme:"default",size:"default"},u=d))||u)||u);t.default=k;t.SubTitleV2=function(e){return h.default.createElement(k,f({showPoint:!0},e))}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.LearnEmbed=t.LearnVideoPlayIcon=t.LearnPlayerPreview=t.LearnLivePreviousVideoWidget=t.LearnOverviewVideoWidget=t.LearnOverviewVideoPlayer=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N,D,x,R,F,A,L,K,q,z,U,B,H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},V=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),G=s(["locale"],["locale"]),W=s(["option.supportedLanguages"],["option.supportedLanguages"]),Q=s(["loginUser"],["loginUser"]),J=s(["common.updatePlayerState"],["common.updatePlayerState"]),Y=s(["editor.openSubtitleDialog"],["editor.openSubtitleDialog"]),Z=s(["common.loginTo"],["common.loginTo"]),X=s(["common.sendLearnVideoStartCDPRequest"],["common.sendLearnVideoStartCDPRequest"]),$=s(["common.sendLearnVideoStopCDPRequest"],["common.sendLearnVideoStopCDPRequest"]),ee=s(["common.sendLearnVideoEngagementCDPRequest"],["common.sendLearnVideoEngagementCDPRequest"]),te=s(["common.openPlayerDialog"],["common.openPlayerDialog"]),ae=s(["countryByIp"],["countryByIp"]),ne=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),re=n(a(2)),oe=n(a(0)),ie=n(a(1)),se=a(6),le=a(5),ue=n(a(16)),ce=n(a(204)),de=a(4),fe=a(68),pe=a(8),me=a(181),he=a(12),_e=n(a(72)),ge=a(26),ve=n(a(128)),ye=n(a(3)),be=n(a(228)),we=n(a(7)),Ee=n(a(229)),Se=["video/mp4"],Oe=a(110),ke=pe.MediaCommonSize.width,Te=pe.MediaCommonSize.height,Pe=(l=(0,se.decorator)({locale:(0,de.state)(G),supportedLanguages:(0,de.state)(W),loginUser:(0,de.state)(Q),updatePlayerState:(0,de.signal)(J),openSubtitleDialog:(0,de.signal)(Y),loginTo:(0,de.signal)(Z),sendLearnVideoStartCDPRequest:(0,de.signal)(X),sendLearnVideoStopCDPRequest:(0,de.signal)($),sendLearnVideoEngagementCDPRequest:(0,de.signal)(ee)}),u=(0,ye.default)(be.default),c=(0,we.default)(Ee.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPlayerReady=function(e){var t=n.props.onReady;e&&(n.player=e,n.playerId=e.id(),n.language=e.language(),(0,n.props.updatePlayerState)({playerId:n.playerId,payload:{player:e}}),n.player.on("dblclick",n.onPlayerDblclick),t&&t(e))},n.onPlayerDblclick=function(){n.sendPlayingCDPTid&&clearTimeout(n.sendPlayingCDPTid),n.sendPauseCDPTid&&clearTimeout(n.sendPauseCDPTid)},n.onPlaying=function(){var e=n.props.sendLearnVideoStartCDPRequest;n.updatePlayerState({playing:!0}),n.sendPlayingCDPTid=setTimeout(function(){clearTimeout(n.sendPlayingCDPTid),n.sendCDP(e)},500)},n.onPause=function(){var e=n.props.sendLearnVideoStopCDPRequest;n.updatePlayerState({playing:!1}),n.sendPauseCDPTid=setTimeout(function(){clearTimeout(n.sendPauseCDPTid),n.sendCDP(e)},500)},n.onUseractive=function(){n.updatePlayerState({userActive:!0})},n.onUserinactive=function(){n.props.inactivityTimeout<=0||n.updatePlayerState({userActive:!1})},n.onDurationchange=function(e){n.updatePlayerState({duration:e})},n.onFullScreenChange=function(e){n.sendEngagementCDP({engagementType:pe.CDPLearnVideoEngagementTypes.full_screen,fullScreen:e})},n.onRateChange=function(e){n.sendEngagementCDP({engagementType:pe.CDPLearnVideoEngagementTypes.playback_speed,playbackSpeed:e})},n.onSubtitleChange=function(e){e&&n.sendEngagementCDP({engagementType:pe.CDPLearnVideoEngagementTypes.language,language:e}),(!n.language&&e||n.language&&!e)&&n.sendEngagementCDP({engagementType:pe.CDPLearnVideoEngagementTypes.caption,caption:!!e}),n.language=e},n.player=null,n.playerId=null,n.language=null,n.sendPlayingCDPTid=null,n.sendPauseCDPTid=null,n.updatePlayerState=function(e){var t=n.props.updatePlayerState;t&&t({playerId:n.playerId,payload:e})},n.sendCDP=function(e){var t=n.props.videoContent,a=(0,le.get)(t,"id"),r=(0,le.get)(t,"playlist.url");e&&e({id:a,videoUrl:r,playerId:n.playerId})},n.sendEngagementCDP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props,a=t.sendLearnVideoEngagementCDPRequest,r=t.videoContent,o=(0,le.get)(r,"id"),i=(0,le.get)(r,"playlist.url");a&&a(H({id:o,videoUrl:i,playerId:n.playerId},e))},n.convertSubtitles=function(e){var t=n.props,a=t.locale,r=t.supportedLanguages,o=(0,le.get)(e,"subtitleMap")||{};return(r||[]).map(function(e){return o[e]?H({},o[e],{default:(0,fe.getLanguageFromLocale)(a)===e}):null}).filter(function(e){return null!==e})},n.handleSubtitles=function(){var e=n.props;(0,e.openSubtitleDialog)({content:e.videoContent})},n.checkEmbed=function(){var e=n.props.videoContent,t=(0,le.get)(e,"oembed"),a=(0,le.get)(e,"type");return!(!t&&"webgl"!==a&&"img"!==a)},i=a,o(n,i)}return i(t,ie.default),V(t,[{key:"renderVideoCover",value:function(){var e=this.props,t=e.theme,a=e.renderOnly,n=e.videoContent;if((0,le.get)(n,"playlist.url",""))return null;var r=oe.default.createElement("div",{className:this.ss("video-cover-text")},oe.default.createElement("div",{className:this.ss("text-line")},this.__("label_video_process_hint_1")),oe.default.createElement("div",{className:this.ss("text-line")},this.__("label_video_process_hint_2")));return a||(r=oe.default.createElement("div",{className:this.ss("video-cover-text")},oe.default.createElement("div",{className:this.ss("text-line")},this.__("label_video_process_hint")))),oe.default.createElement("div",{className:this.ss("video-cover",t,!a&&"creator")},r)}},{key:"renderSubtitleButton",value:function(){var e=this.props,t=e.theme;return e.renderOnly||"media"===t?null:oe.default.createElement("div",{className:this.ss("subtitles",t)},oe.default.createElement("button",{className:this.ss("button"),onClick:this.handleSubtitles},this.__("open_subtitles_button")))}},{key:"renderPrivatePlayer",value:function(){var e=this.props,t=e.loginUser,a=e.loginTo,n=e.width,r=e.height;return oe.default.createElement("div",{className:this.ss("learn-private-player")},oe.default.createElement("div",{className:this.ss("player-wrap",!t&&"no-login"),onClick:function(){return!t&&a()}},oe.default.createElement("div",{className:this.ss("player-img")},oe.default.createElement(ue.default,{src:Oe,sizes:n+"px",width:n,height:r})),oe.default.createElement("span",null,this.__(t?"label_private_player":"label_private_player_no_login"))))}},{key:"renderPlayer",value:function(){var e=this.props,t=e.theme,a=e.renderOnly,n=e.locale,r=e.onClose,o=e.height,i=e.width,s=e.maxHeight,l=e.inactivityTimeout,u=e.playbackRates,c=e.disabled,d=(0,le.get)(this.props,"videoContent")||{},f=(0,le.get)(d,"title")||"",p=(0,le.get)(d,"downloadUrl"),m=(0,le.get)(d,"contentType"),h=(0,le.get)(d,"thumbnail.url",""),_=(0,le.get)(d,"playlist.url",""),g=(0,le.get)(d,"playlist.contentType","");return oe.default.createElement("div",{className:this.ss("learn-player",!a||"popup"!==t&&"hide-control-bar")},oe.default.createElement(ce.default,{theme:t,src:_||p,contentType:g||m,poster:h,size:"auto",maxHeight:s,width:i,height:o,inactivityTimeout:l,locale:n,subtitles:this.convertSubtitles(d),title:f,renderOnly:a,disabled:c,playbackRates:u,onClose:r,onReady:this.onPlayerReady,onPlaying:this.onPlaying,onPause:this.onPause,onUseractive:this.onUseractive,onUserinactive:this.onUserinactive,onDurationchange:this.onDurationchange,onFullScreenChange:this.onFullScreenChange,onRateChange:this.onRateChange,onSubtitleChange:this.onSubtitleChange}),this.renderVideoCover(),this.renderSubtitleButton())}},{key:"render",value:function(){var e=this.props.onClose,t=(0,le.get)(this.props,"videoContent"),a=(0,le.get)(this.props,"renderOnly");if(!t)return null;var n=t.contentType;return t.isPrivate?this.renderPrivatePlayer():this.checkEmbed()?oe.default.createElement(Ne,{videoContent:t,onClose:e,renderOnly:a}):Se.indexOf(n)>-1?this.renderPlayer():null}}]),t}(),f.propTypes={theme:re.default.string,locale:re.default.string,supportedLanguages:re.default.array,loginUser:re.default.object,renderOnly:re.default.bool,disabled:re.default.bool,videoContent:re.default.object,inactivityTimeout:re.default.number,maxHeight:re.default.number,height:re.default.number,width:re.default.number,playbackRates:re.default.array,onReady:re.default.func,onClose:re.default.func,updatePlayerState:re.default.func,openSubtitleDialog:re.default.func,loginTo:re.default.func,sendLearnVideoStartCDPRequest:re.default.func,sendLearnVideoStopCDPRequest:re.default.func,sendLearnVideoEngagementCDPRequest:re.default.func},f.defaultProps={renderOnly:!0,width:ke,height:Te,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2]},d=p))||d)||d)||d);t.default=Pe;t.LearnOverviewVideoPlayer=(m=(0,ye.default)(be.default),h=(0,we.default)(Ee.default),m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled;return(0,le.get)(t,"overviewVideo")?oe.default.createElement("div",{className:this.ss("over-video-wrapper")},oe.default.createElement("div",{className:this.ss("over-video-wrap")},oe.default.createElement("div",{className:this.ss("title")},this.__("over_video_title")),oe.default.createElement("div",{className:this.ss("over-video-player")},oe.default.createElement(Ce,{data:t,disabled:a})))):null}}]),t}(),g.propTypes={data:re.default.object,disabled:re.default.bool},_=v))||_)||_);var Ce=t.LearnOverviewVideoWidget=(y=(0,ye.default)(be.default),b=(0,we.default)(Ee.default),y(w=b((S=E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled,n=(0,le.get)(t,"overviewVideo");return n?oe.default.createElement("div",{className:this.ss("section-wrap","learn-video-widget")},oe.default.createElement(Pe,{theme:"overview",videoContent:n,disabled:a})):null}}]),t}(),E.propTypes={data:re.default.object,disabled:re.default.bool},w=S))||w)||w),je=(t.LearnLivePreviousVideoWidget=(O=(0,ye.default)(be.default),k=(0,we.default)(Ee.default),O(T=k((C=P=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getPreviousLiveSession=function(){var e=n.props.data;return((0,le.get)(e,"liveSessions")||[]).find(function(e){if(e.period===pe.CalendarTabs.previous){var t=(0,le.get)(e,"previousVideo");if(!t)return!1;var a=(0,le.get)(t,"type");if("videoattachment"===a){var n=(0,le.get)(t,"playlist.url");if(t&&n)return!0}if("video"===a&&(0,le.get)(t,"oembed"))return!0}return!1})},i=a,o(n,i)}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this.props.disabled,t=this.getPreviousLiveSession()||{},a=(0,le.get)(t,"previousVideo");return a?oe.default.createElement("div",{className:this.ss("section-wrap","live-session-video-widget")},oe.default.createElement("div",{className:this.ss("top")},oe.default.createElement(ge.LiveSessionLabel,{theme:"latest"})),oe.default.createElement(Pe,{theme:"learn-live-previous",videoContent:a,disabled:e})):null}}]),t}(),P.propTypes={data:re.default.object,disabled:re.default.bool},T=C))||T)||T),pe.MediaCommonSize.width),Ie=pe.MediaCommonSize.height,Me=(t.LearnPlayerPreview=(j=(0,se.decorator)({openPlayerDialog:(0,de.signal)(te)}),I=(0,ye.default)(be.default),M=(0,we.default)(Ee.default),j(N=I(N=M((x=D=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handlePlayer=function(){var e=n.props,t=e.videoContent,a=e.openPlayerDialog,r=e.loginRequired;t&&a&&a({videoContent:t,loginRequired:r})},i=a,o(n,i)}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this,t=this.props.videoContent,a=(0,le.get)(t,"thumbnail.url");return a?oe.default.createElement("div",{className:this.ss("learn-video-preview"),onClick:function(){return e.handlePlayer()}},oe.default.createElement(ue.default,{src:a,width:je,height:Ie,sizes:je+"px"}),oe.default.createElement("div",{className:this.ss("play-icon")},oe.default.createElement(Me,null))):null}}]),t}(),D.propTypes={videoContent:re.default.object,openPlayerDialog:re.default.func,loginRequired:re.default.bool},D.defaultProps={loginRequired:!0},N=x))||N)||N)||N),t.LearnVideoPlayIcon=(R=(0,ye.default)(be.default))((L=A=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this.props.size;return oe.default.createElement("div",{className:this.ss("icon-play",e)})}}]),t}(),A.propTypes={size:re.default.oneOf(["default","small","medium"])},A.defaultProps={size:"default"},F=L))||F),Ne=t.LearnEmbed=(K=(0,se.decorator)({countryByIp:(0,de.state)(ae),windowWidth:(0,de.state)(ne)}),q=(0,ye.default)(be.default),K(z=q((B=U=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),V(t,[{key:"onThumbClick",value:function(e){(0,_e.default)(e)}},{key:"renderEmbed",value:function(e,t){var a=this.props.renderOnly;return oe.default.createElement("div",{className:this.ss("embed-wrap")},oe.default.createElement("div",{style:{paddingBottom:e+"%"}}),!a&&oe.default.createElement("div",{className:this.ss("mark-wrap")}),oe.default.createElement("div",{className:this.ss("iframe-wrap"),dangerouslySetInnerHTML:{__html:t}}))}},{key:"renderAssetStore",value:function(e){if(!e)return null;var t=this.props,a=t.renderOnly,n=t.windowWidth,r=e.originalImage,o=r.url,i=r.width,s=r.height,l=r.gif,u=i<(n?Math.min(n,772):772)?{width:i,height:s,margin:"0 auto",display:"block"}:{};return oe.default.createElement("div",{className:this.ss("image-wrap")},oe.default.createElement("div",{className:this.ss("image"),style:u},oe.default.createElement(ue.default,{src:o,sizes:"100vw",width:i,height:s,gif:!!l}),oe.default.createElement(ve.default,{contentId:e.id,renderOnly:a})))}},{key:"renderEmbedThumbnail",value:function(e){var t=this;if(!e)return null;var a=this.props,n=a.renderOnly,r=a.windowWidth,o=e.thumbnail,i=o.url,s=o.width,l=o.height,u=s<(r?Math.min(r,772):772)?{width:s,height:l,margin:"0 auto",display:"block"}:{};return oe.default.createElement("div",{className:this.ss("image-wrap","content")},oe.default.createElement("div",{className:this.ss("image"),style:u,onClick:n?function(){return t.onThumbClick(e.url)}:void 0},oe.default.createElement(ue.default,{src:i,sizes:"100vw",width:s,height:l}),oe.default.createElement("div",{className:this.ss("video-icon-wrap")},oe.default.createElement("div",{className:this.ss("icon","ifont","ifont-play")}))))}},{key:"renderCloseButton",value:function(){var e=this.props.onClose;return e?oe.default.createElement("button",{className:this.ss("close-button"),onClick:function(){return e()}},oe.default.createElement("div",{className:this.ss("icon","ifont","ifont-udp-close")})):null}},{key:"render",value:function(){var e=this.props,t=e.renderOnly,a=e.countryByIp,n=e.videoContent,r=void 0;if(n.oembed)if("CN"!==a||!n.oembed||"YouTube"!==n.oembed.provider_name&&"Vimeo"!==n.oembed.provider_name){var o=n.oembed,i=o.html,s=o.height,l=o.width,u=l?Math.round(100*s/l):1;r=this.renderEmbed(u,(0,me.normalizeHtml)({html:i}))}else r=this.renderEmbedThumbnail(n);else if(n&&"webgl"===n.type){var c='<iframe width="100%" height="100%" src="'+(0,he.securedURL)(n.url)+'" scrolling="yes" frameborder="0" allowfullscreen="allowfullscreen"></iframe>';r=this.renderEmbed(66,c)}else n&&"img"===n.type&&(r=this.renderAssetStore(n));return oe.default.createElement("div",{className:this.ss("learn-video-embed",t&&"render-only")},r,this.renderCloseButton())}}]),t}(),U.propTypes={countryByIp:re.default.string,windowWidth:re.default.number,videoContent:re.default.object,renderOnly:re.default.bool,onClose:re.default.func},z=B))||z)||z)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(12),y=n(a(127)),b=n(a(16)),w=n(a(3)),E=n(a(172)),S=n(a(7)),O=n(a(173)),k=(l=(0,w.default)(E.default),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,g.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.typing,n=e.size,o=e.status,i=e.shape,s=e.className,l=e.statusClassName,u=e.isFollowed,c=e.nameClassName,d=r(e,["user","typing","size","status","shape","className","statusClassName","isFollowed","nameClassName"]),f=t||{},m=f.avatar,h=f.name,g=f.fullName,w=f.fullname,E=f.username,S=f.anonymous,O=m&&0===m.indexOf("data:image"),k=m&&O?{backgroundImage:'url("'+m+'")'}:null,T=null;if(!m){if((0,v.isUserDeleted)(E,g)||(0,v.isUserDeleted)(E,w))T=_.default.createElement("div",{className:this.ss("name","ifont","ifont-icons-user")});else if(S)T=_.default.createElement("div",{className:this.ss("anonymous","ifont","ifont-icons-anonymous")});else{var P=h||g||w;T=_.default.createElement("div",{className:this.ss("name",c)},(0,v.extractName)(P))}"company-card"===n&&(T=_.default.createElement("div",{className:this.ss("name","ifont","ifont-icons-company")}))}var C=_.default.createElement("div",{className:this.ss("status","status-"+o,a&&"status-typing",l)},a&&_.default.createElement("div",{className:this.ss("ellipsis")},_.default.createElement("div",null),_.default.createElement("div",null),_.default.createElement("div",null))),j=m&&!O&&_.default.createElement("div",{className:this.ss("image-wrap")},_.default.createElement(b.default,{src:m,sizes:"100px"}));return _.default.createElement("div",p({},d,{className:this.ss("avatar","avatar-"+n,i,!m&&!S&&"default-bg",s),style:k}),j,T,o&&C,u&&_.default.createElement(y.default,{text:this.__("followed"),position:"bottom"},_.default.createElement("div",{className:this.ss("followed")},_.default.createElement("div",{className:this.ss("check","ifont","ifont-check")}))))}}]),t}(),d.propTypes={user:h.default.object.isRequired,typing:h.default.bool,size:h.default.oneOf(["xxxxxsmall","xxxxsmall","xxxsmall","xxsmall","xsmall","small","medium","large","xlarge","xxlarge","xxxlarge","xxxxlarge","message-card","company-card","user-card","unified-profile"]),status:h.default.oneOf(["online","offline","idle"]),shape:h.default.oneOf(["circle","square"]),className:h.default.string,nameClassName:h.default.string,statusClassName:h.default.string,isFollowed:h.default.bool},d.defaultProps={typing:!1,size:"small",shape:"circle"},c=f))||c)||c);t.default=k},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubmissionAuthorLabel=t.CreatedByLabel=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=r(["currentHost"],["currentHost"]),T=r(["loginUser"],["loginUser"]),P=n(a(2)),C=n(a(0)),j=n(a(1)),I=a(6),M=a(4),N=n(a(30)),D=n(a(43)),x=a(9),R=a(12),F=n(a(48)),A=n(a(18)),L=n(a(3)),K=n(a(269)),q=n(a(7)),z=n(a(270)),U=(l=(0,L.default)(K.default),u=(0,q.default)(z.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e,t){t&&(e&&(0,R.pauseEvent)(e),(0,F.default)(t))},r=a,i(n,r)}return s(t,j.default),O(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.theme,r=(0,x.getUnityUserInfo)(a),o="";return r.id&&(o=N.default.DEFAULT_URL+"/u/"+r.id),C.default.createElement("div",{className:this.ss("author-wrap")},C.default.createElement("button",{className:this.ss("author",n,!o&&"label"),onClick:function(t){return e.onClick(t,o)}},C.default.createElement(D.default,{user:r,size:"xxxsmall"}),C.default.createElement("div",{className:this.ss("author-name")},r.name)))}}]),t}(),d.propTypes={data:P.default.object,theme:P.default.string},d.defaultProps={},c=f))||c)||c);t.default=U;t.CreatedByLabel=(p=(0,L.default)(K.default),m=(0,q.default)(z.default),p(h=m((g=_=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e,t){t&&(e&&(0,R.pauseEvent)(e),(0,F.default)(t))},r=a,i(n,r)}return s(t,j.default),O(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.theme,r=(0,x.getUnityUserInfo)(a),o="";return r.id&&(o=N.default.DEFAULT_URL+"/u/"+r.id),C.default.createElement("div",{className:this.ss("author-wrap")},C.default.createElement("button",{className:this.ss("creator",n,!o&&"label"),onClick:function(t){return e.onClick(t,o)}},C.default.createElement(D.default,{user:r,size:"xsmall"}),C.default.createElement("div",{className:this.ss("creator-des")},this.__("created_by",{name:r.name}))))}}]),t}(),_.propTypes={data:P.default.object,theme:P.default.string},_.defaultProps={},h=g))||h)||h),t.SubmissionAuthorLabel=(v=(0,I.decorator)({currentHost:(0,M.state)(k),loginUser:(0,M.state)(T)}),y=(0,L.default)(K.default),b=(0,q.default)(z.default),v(w=y(w=b((S=E=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e,t){t&&(e&&(0,R.pauseEvent)(e),(0,F.default)(t))},r=a,i(n,r)}return s(t,j.default),O(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.theme,r=t.currentHost,o=t.showLoginUser,i=t.hideUserName,s=t.loginUser,l=o?s:void 0,u=(0,x.getLearnUserInfo)(a,l),c="";return u.id&&(c=(0,A.default)("/u/"+u.id,r)),C.default.createElement("div",{className:this.ss("author-wrap")},C.default.createElement("button",{className:this.ss("author",n,!c&&"label"),onClick:function(t){return e.onClick(t,c)}},C.default.createElement(D.default,{user:u,size:"xxxsmall"}),!i&&C.default.createElement("div",{className:this.ss("author-name")},u.name||u.username)))}}]),t}(),E.propTypes={currentHost:P.default.string,loginUser:P.default.object,showLoginUser:P.default.bool,hideUserName:P.default.bool,data:P.default.object,theme:P.default.string},E.defaultProps={},w=S))||w)||w)||w)},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(27),y=n(a(28)),b=n(a(3)),w=n(a(202)),E=n(a(7)),S=n(a(203)),O=(l=(0,b.default)(w.default),u=(0,E.default)(S.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={showSelects:!1,timeoutEventId:null,periodInput:"",lastHint:-1,selectedIndex:0},n.onKeyDown=function(e){if(n.props.disabled){var t=e.keyCode,a=n.props,r=a.selects,o=a.onChange,i=n.state,s=i.showSelects,l=i.selectedIndex,u=r.length;switch(t){case 40:e.preventDefault(),s||n.onTextClick(),n.setState({selectedIndex:(l+1)%u});break;case 38:e.preventDefault(),s||n.onTextClick(),n.setState({selectedIndex:(l+u-1)%u});break;case 13:e.preventDefault(),s?l>=0&&l<u&&(n.setState({showSelects:!1}),o(e,l,r[l].value)):n.onTextClick();break;case 27:n.setState({showSelects:!1})}}},n.onTextClick=function(){if(!n.props.disabled){var e={showSelects:!0,lastHint:Number.MAX_SAFE_INTEGER};n.setState(e)}},n.handleKeyPress=function(e){if(n.state.showSelects&&n.refs.scroller){var t=e.keyCode,a=e.charCode;n._timeoutEventId&&(window.clearTimeout(n._timeoutEventId),n._timeoutEventId=null);var r=String.fromCharCode(t||a).toLowerCase(),o=n.props.selects,i=!1,s=-1;if(r===n.state.periodInput||""===n.state.periodInput)o.every(function(e,t){return!(e.text.toLowerCase().startsWith(r)&&t>n.state.lastHint)||(s=t,!1)}),-1===s&&o.every(function(e,t){return!e.text.toLowerCase().startsWith(r)||(s=t,!1)}),-1!==s&&(n.setState({periodInput:r,lastHint:s}),i=!0);else{var l=n.state.periodInput+r;o.every(function(e,t){return!e.text.toLowerCase().startsWith(l)||(s=t,!1)}),-1!==s&&(n.setState({periodInput:l}),i=!0)}if(n._timeoutEventId=window.setTimeout(function(){n.setState({periodInput:"",timeoutEventId:null})},500),i){var u=n.refs.selects.children[0].offsetHeight;n.refs.scroller.scrollTo(s*u,!0),n.setState({selectedIndex:s})}}},n.handleSelectItemClick=function(e,t,a){var r=n.props,o=r.value,i=r.onChange,s=r.theme;!0!==t.disabled&&(n.setState({showSelects:!1,selectedIndex:a}),"footer"===s?i(e,a,t.value):o!==t.value&&i(e,a,t.value))},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keypress",this.handleKeyPress)}},{key:"renderSelects",value:function(){var e=this,t=this.props,a=t.selects,n=t.renderItem,r=this.state.selectedIndex;return a.map(function(t,a){var o=t.text;n&&(o=n(t,!0));var i=["active"];return _.default.createElement("div",{className:e.ss("selectItem",a===r&&!t.disabled&&e.ss.apply(e,i),t.disabled&&"disabled"),value:t.value,key:t.value,onClick:function(n){return e.handleSelectItemClick(n,t,a)}},o)})}},{key:"renderCaseScroller",value:function(){return this.props.selects.length>5?_.default.createElement(y.default,{theme:"light",fade:!1,className:this.ss("scroller"),ref:"scroller"},_.default.createElement("div",{className:this.ss("selects"),ref:"selects"},this.renderSelects())):_.default.createElement("div",{className:this.ss("selects")},this.renderSelects())}},{key:"renderDescription",value:function(){var e=this.props.description;return e?_.default.createElement("div",{className:this.ss("description")},e):null}},{key:"renderErrorText",value:function(){var e=this.props.errorText;return e?_.default.createElement("div",{className:this.ss("errorText")},this.__(e)):null}},{key:"renderIcon",value:function(){var e=this.props.renderIcon;return e?e():_.default.createElement("div",{className:this.ss("triangle","ifont","ifont-udp-arrow-drop-down")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.hintText,n=t.selects,o=t.value,i=(t.errorText,t.disabled),s=t.renderItem,l=(t.renderIcon,t.size),u=t.theme,c=t.align,d=r(t,["hintText","selects","value","errorText","disabled","renderItem","renderIcon","size","theme","align"]),f=this.state.showSelects,m={transform:f?"scaleY(1)":"scaleY(0)",opacity:f?1:0},h=n.find(function(e){return e.value===o}),g=h?h.text:a;return s&&h&&(g=s(h,!1)),_.default.createElement("div",p({},d,{className:this.ss("container",u,l)}),_.default.createElement(v.ClickOutsideWrap,{onClickOutside:function(){return e.setState({showSelects:!1})}},_.default.createElement("div",{className:this.ss("container-inner")},_.default.createElement("button",{className:this.ss("currentText",i&&"disabled"),onClick:this.onTextClick,onKeyDown:this.onKeyDown},_.default.createElement("div",{className:this.ss("innerCurrentText")},_.default.createElement("div",{className:this.ss("text",c)},g),this.renderIcon())),_.default.createElement("div",{className:this.ss("selectsWrapContainer"),style:m},this.renderCaseScroller()),this.renderDescription(),this.renderErrorText())))}}]),t}(),d.propTypes={selects:h.default.arrayOf(h.default.shape({text:h.default.string.isRequired,value:h.default.oneOfType([h.default.number.isRequired,h.default.string.isRequired])})).isRequired,hintText:h.default.string,value:h.default.oneOfType([h.default.number.isRequired,h.default.string.isRequired]),onChange:h.default.func,disabled:h.default.bool,errorText:h.default.any,description:h.default.string,renderItem:h.default.func,renderIcon:h.default.func,size:h.default.oneOf(["xxsmall","small","medium","large"]),align:h.default.oneOf(["center"]),theme:h.default.oneOf(["default","transparent","error","gray","grizzly","footer","underline"])},d.defaultProps={theme:"default"},c=f))||c)||c);t.default=O},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(18));t.default=function(e,t,a){e=(0,n.default)(e),a=a||{};var r=Object.keys(a).map(function(e){return e+"="+a[e]}).join(",");return window.open(e,t,r)}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["",".statsMap.",".collectCount"],["",".statsMap.",".collectCount"]),_=s(["statsPath"],["statsPath"]),g=s(["id"],["id"]),v=s(["learner.collectMap.",""],["learner.collectMap.",""]),y=s(["learner.toggleCollect"],["learner.toggleCollect"]),b=n(a(2)),w=n(a(0)),E=n(a(1)),S=a(6),O=a(4),k=n(a(22)),T=a(12),P=n(a(3)),C=n(a(306)),j=n(a(7)),I=n(a(307)),M=(l=(0,S.decorator)({collectCount:(0,O.state)(h,(0,O.props)(_),(0,O.props)(g)),collected:(0,O.state)(v,(0,O.props)(g)),toggleCollect:(0,O.signal)(y)}),u=(0,P.default)(C.default),c=(0,j.default)(I.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onClick=function(e){e&&(0,T.pauseEvent)(e);var t=n.props,a=t.id,r=t.type,o=t.toggleCollect,i=t.statsPath;t.disabled||o&&o({id:a,type:r,statsPath:i})},i=a,o(n,i)}return i(t,E.default),m(t,[{key:"renderInner",value:function(){var e=this.props,t=e.collectCount,a=e.collected,n=e.theme,r=e.size,o=a?"lrn_icon_collect_filled":"lrn_icon_collect";return w.default.createElement("button",{className:this.ss("collect-button","theme-"+n,"size-"+r),onClick:this.onClick},w.default.createElement("div",{className:this.ss("icon",a&&"collected","ifont","ifont-"+o)}),w.default.createElement("div",{className:this.ss("collect-count")},t))}},{key:"renderLabel",value:function(){var e=this.props,t=e.collected,a=e.theme,n=e.size,r=e.label,o=t?"lrn_icon_collect_filled":"lrn_icon_collect";return w.default.createElement("button",{className:this.ss("collect-button","theme-"+a,"size-"+n),onClick:this.onClick},w.default.createElement("div",{className:this.ss("icon",t&&"collected","ifont","ifont-"+o)}),w.default.createElement("div",{className:this.ss("collect-label")},r))}},{key:"render",value:function(){var e=this.props.theme;return"label"===e?this.renderLabel():"no-tip"===e?this.renderInner():w.default.createElement(k.default,{text:this.__("button_collect"),position:"right"},this.renderInner())}}]),t}(),f.propTypes={id:b.default.string,type:b.default.string,collected:b.default.bool,collectCount:b.default.number,size:b.default.oneOf(["small","medium","large"]),theme:b.default.oneOf(["default","no-tip","label"]),statsPath:b.default.string.isRequired,disabled:b.default.bool,label:b.default.string,toggleCollect:b.default.func},d=p))||d)||d)||d);t.default=M},function(e,t,a){"use strict";var n=function(e){return null!==e&&void 0!==e},r=function(e){return""===e},o=function(e,t){return!n(e)||r(e)||t.test(e)},i={isValue:function(e){return!(void 0===e||""===e||null===e||!1===e||Array.isArray(e)&&!e.length)},isExisty:function(e){return n(e)},matchRegexp:function(e,t,a){return o(e,a)},isUndefined:function(e){return void 0===e},isEmptyString:function(e){return r(e)},isEmail:function(e){return o(e,/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i)},isUrl:function(e,t){return i.matchRegexp(e,t,/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i)},isTrue:function(e){return!0===e},isFalse:function(e){return!1===e},isNumeric:function(e){return"number"==typeof e||o(e,/^[-+]?(?:\d*[.])?\d+$/)},isAlpha:function(e){return o(e,/^[A-Z]+$/i)},isAlphanumeric:function(e){return o(e,/^[0-9A-Z]+$/i)},isInt:function(e){return o(e,/^(?:[-+]?(?:0|[1-9]\d*))$/)},minInt:function(e,t,a){return!!(i.isInt(e)&&e>=a)},isPhone:function(e){return o(e,/^1\d{10}$/)},isFloat:function(e){return o(e,/^(?:[-+]?(?:\d+))?(?:\.\d*)?(?:[eE][\+\-]?(?:\d+))?$/)},isWords:function(e){return o(e,/^[A-Z\s]+$/i)},isSpecialWords:function(e){return o(e,/^[A-Z\s\u00C0-\u017F]+$/i)},isLength:function(e,t,a){return!n(e)||r(e)||e.length===a},equals:function(e,t,a){return!n(e)||r(e)||e===a},equalsField:function(e,t,a){return e===t[a].value},maxLength:function(e,t,a){return!n(e)||e.length<=a},minLength:function(e,t,a){return!n(e)||r(e)||e.length>=a}};e.exports=i},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["value"],["value"]),_=n(a(0)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(4),w=n(a(327)),E=a(10),S=n(a(3)),O=n(a(129)),k=(l=(0,y.decorator)({defaultEditorState:(0,E.$editorStateFromJSON)((0,b.props)(h))}),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,v.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.defaultEditorState,n=e.renderOnly,o=e.placeholder,i=r(e,["editorKey","defaultEditorState","renderOnly","placeholder"]);return _.default.createElement(w.default,p({},i,{renderOnly:n,editorKey:t,placeholder:o,defaultEditorState:a}))}}]),t}(),d.propTypes={editorKey:g.default.string.isRequired,defaultEditorState:g.default.object,renderOnly:g.default.bool,placeholder:g.default.string},d.defaultProps={renderOnly:!1,editorKey:"editorTextArea"},c=f))||c)||c);t.default=k},function(e,t,a){e.exports=a(14)(74)},function(e,t){e.exports={search_placeholder:"search_placeholder_1dmP",sl_none:"sl_none_15yL",sl_all:"sl_all_2t78",sl_foundational:"sl_foundational_2CeB",sl_beginner:"sl_beginner_EyW4",sl_intermediate:"sl_intermediate_19Do",sl_advanced:"sl_advanced_QOIm",sl_expert:"sl_expert_b9lL",t_all:"t_all_KfPC",t_project:"t_project_3IFs",t_course:"t_course_2ZSx",t_tutorial:"t_tutorial_1ksw",t_liveSession:"t_liveSession_3o0e",t_quiz:"t_quiz_1Rgf",t_skill:"t_skill_38AP",t_competency:"t_competency_vEkz",t_mission:"t_mission_2qcW",t_pathway:"t_pathway_3Bds",t_badge:"t_badge_x31k",d_boundless_15:"d_boundless_15_Zmgp",d_15_30:"d_15_30_2nK4",d_30_60:"d_30_60_3_sj",d_60_boundless:"d_60_boundless_21ao",d_15_60:"d_15_60_3xKR",d_60_120:"d_60_120_18kT",d_120_boundless:"d_120_boundless_3QuG",ins_boundless_45:"ins_boundless_45_3mhL",ins_45_60:"ins_45_60_ytDD",ins_60_120:"ins_60_120_1fId",ins_120_300:"ins_120_300_3mV-",ins_300_boundless:"ins_300_boundless_Kp8k",age_13_14:"age_13_14_sAcw",age_15_17:"age_15_17_2OJk",age_18_boundless:"age_18_boundless_3VAY",select_sl:"select_sl_206O",select_t:"select_t_YVog",select_d:"select_d_BUNj",select_tag:"select_tag_3Ouv",select_ind:"select_ind_7OX2",select_uv:"select_uv_3jU_",select_lang:"select_lang_29OV",select_prm:"select_prm_2bIL",select_hidden:"select_hidden_1xLJ",select_status:"select_status_ckDR",select_ins:"select_ins_2-Ne",select_age:"select_age_1IPj",selected_tag:"selected_tag_3dFY",selected_ind:"selected_ind_2Tah",selected_uv:"selected_uv_2IM3",filters_show:"filters_show_1BWy",filters_hide:"filters_hide_Jx9V",prm_all:"prm_all_1f_p",prm_premium:"prm_premium_9FLz",prm_none_premium:"prm_none_premium_Ft3l",lang_all:"lang_all_dnSm",lang_en:"lang_en_32-r",lang_ja:"lang_ja_37KM",lang_zh:"lang_zh_2hJu",lang_ko:"lang_ko_WDrp",lang_ru:"lang_ru_VtmK",lang_de:"lang_de_x35U",lang_es:"lang_es_2olN",lang_pt:"lang_pt_36vR",lang_fr:"lang_fr_sY3z",hidden_all:"hidden_all_3oIS",hidden_hidden:"hidden_hidden_2yHc",hidden_none_hidden:"hidden_none_hidden_c-Ft",status_all:"status_all_3Rn6",status_draft:"status_draft_1rYl",status_published:"status_published_1mr3",owner_placeholder:"owner_placeholder_26M7",ob_none:"ob_none_1jXx",ob_starts:"ob_starts_Lu8f",ob_views:"ob_views_12Wd",ob_collects:"ob_collects_hWEB",ob_recency:"ob_recency_3mj2",ob_titleasc:"ob_titleasc_16bH",ob_titledes:"ob_titledes_3NAD",search_input_placeholder:"search_input_placeholder_13Tn",filters_checkbox_label:"filters_checkbox_label_259Y",checkbox_premium:"checkbox_premium_LkVF",checkbox_none_premium:"checkbox_none_premium_xBWD",checkbox_hidden:"checkbox_hidden_3AYL",checkbox_none_hidden:"checkbox_none_hidden_LZcV",checkbox_published:"checkbox_published_2SiP",checkbox_draft:"checkbox_draft_3srq",checkbox_singles:"checkbox_singles_YC8_",create_new:"create_new_2IDo",create_title_course:"create_title_course_kPt4",create_title_project:"create_title_project_3L6D",create_title_tutorial:"create_title_tutorial_2hZh",create_title_liveSession:"create_title_liveSession_2T7i",create_title_quiz:"create_title_quiz_1sy-",create_title_skill:"create_title_skill_1fYi",create_title_competency:"create_title_competency_11Cl",create_title_mission:"create_title_mission_2gSn",create_title_pathway:"create_title_pathway_3QG3",create_title_badge:"create_title_badge_aKhd",create_introduction_course:"create_introduction_course_ndfO",create_introduction_project:"create_introduction_project_1uGI",create_introduction_tutorial:"create_introduction_tutorial_1gDp",create_introduction_liveSession:"create_introduction_liveSession_3YGD",create_introduction_quiz:"create_introduction_quiz_3KiA",create_introduction_skill:"create_introduction_skill_2rgz",create_introduction_competency:"create_introduction_competency_3L6P",create_introduction_mission:"create_introduction_mission_BZ_f",create_introduction_pathway:"create_introduction_pathway_1wsP",create_introduction_badge:"create_introduction_badge_rbBq",submission_ob_collects:"submission_ob_collects_pXxA",all_exercises:"all_exercises_2nG1"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){for(var t=[],a=Math.round(1e4/e)/100,n=1;n<=e;n++)n===e?t.push({left:"100%"}):t.push({right:Math.round(100*a*(e-n))/100+"%"});return t}function u(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[],n=Math.round(1e4/e)/100,r=0;r<e;r++)t[r]?a.push({width:n+"%",left:Math.round(100*n*r)/100+"%"}):a.push({width:0,left:0});return a}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusDot=t.Outline=t.StickerOutline=t.ProgressBar=t.default=void 0;var c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N,D,x,R,F,A,L=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),K=s(["breadcrumb"],["breadcrumb"]),q=s(["common.setting.stickerExpanded"],["common.setting.stickerExpanded"]),z=s(["common.expandSticker"],["common.expandSticker"]),U=s(["common.collapseSticker"],["common.collapseSticker"]),B=s(["common.openShareDialog"],["common.openShareDialog"]),H=s(["learner.recordMap.",""],["learner.recordMap.",""]),V=s(["data.id"],["data.id"]),G=s(["common.setting.scrollTop"],["common.setting.scrollTop"]),W=s(["common.shareDialog.show"],["common.shareDialog.show"]),Q=s(["comment.openCommentDrawer"],["comment.openCommentDrawer"]),J=s(["common.uv"],["common.uv"]),Y=s(["common.setting.overviewExpanded"],["common.setting.overviewExpanded"]),Z=s(["common.setting.overviewScrolled"],["common.setting.overviewScrolled"]),X=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),$=s(["common.expandOverview"],["common.expandOverview"]),ee=s(["common.collapseOverview"],["common.collapseOverview"]),te=s(["common.setOverviewScrolled"],["common.setOverviewScrolled"]),ae=s(["currentHost"],["currentHost"]),ne=s(["locale"],["locale"]),re=n(a(2)),oe=n(a(0)),ie=n(a(1)),se=n(a(19)),le=a(6),ue=a(4),ce=a(5),de=n(a(16)),fe=n(a(28)),pe=n(a(140)),me=n(a(117)),he=n(a(38)),_e=a(26),ge=n(a(137)),ve=a(27),ye=a(9),be=n(a(18)),we=a(8),Ee=a(12),Se=n(a(3)),Oe=n(a(312)),ke=n(a(7)),Te=n(a(313)),Pe=(c=(0,le.decorator)({breadcrumb:(0,ue.state)(K),expanded:(0,ue.state)(q),expandSticker:(0,ue.signal)(z),collapseSticker:(0,ue.signal)(U),openShareDialog:(0,ue.signal)(B),record:(0,ue.state)(H,(0,ue.props)(V)),scrollTop:(0,ue.state)(G),isShareShow:(0,ue.state)(W),openCommentDrawer:(0,ue.signal)(Q)}),d=(0,Se.default)(Oe.default),f=(0,ke.default)(Te.default),c(p=d(p=f((h=m=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.scrollTop,a=e.expanded,r=e.collapseSticker;document.getElementById("pageBody").parentNode.scrollTop>t&&a&&r()},n.onClick=function(e){var t=n.props,a=t.expanded,r=t.expandSticker,o=t.collapseSticker;(0,ve.getClickOutside)([n.refs.recordButton,n.refs.shareButton,n.refs.commentButton],function(){a?o():r()})(e)},i=a,o(n,i)}return i(t,ie.default),L(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.expanded,n=e.breadcrumb,r=e.scrollToStep,o=e.openShareDialog,i=e.collapseSticker,s=e.record,l=e.theme,u=e.openCommentDrawer,c=e.versionId,d=t.id,f=t.type,p=t.title,m=(0,ce.get)(t,"thumbnail.url"),h=(0,ce.get)(t,"statsMap."+d),_=(0,Ee.formatNumber)((0,ce.get)(h,"commentCount")||0),g=(0,ce.get)(n,"root")||{},v=!n||!g.subNodes,y=f===we.DataTypeKeys.tutorial;return oe.default.createElement(ve.ClickOutsideWrap,{onClickOutside:function(){return i()}},oe.default.createElement("div",{className:this.ss("sticker-head-wrap")},oe.default.createElement("div",{className:this.ss("sticker-head",!v&&"breadcrumb"),onClick:v?void 0:this.onClick},oe.default.createElement("div",{className:this.ss("center","sticker-head-body")},oe.default.createElement("div",{className:this.ss("breadcrumb-tip")},!v&&oe.default.createElement("div",{className:this.ss("breadcrumb-tip-content")},oe.default.createElement(_e.BreadcrumbLabel,null),oe.default.createElement("div",{className:this.ss(a?"fold":"unfold","icon","ifont","ifont-lrn_icon_unfold")}))),oe.default.createElement("div",{className:this.ss("thumbnail-wrap")},oe.default.createElement("div",{className:this.ss("thumbnail")},oe.default.createElement(de.default,{src:m,sizes:"89px",width:89,height:50}))),oe.default.createElement("div",{className:this.ss("content-wrap")},oe.default.createElement("div",{className:this.ss("title-wrap")},oe.default.createElement("div",{className:this.ss("type")},this.__("type_"+f)),oe.default.createElement("div",{className:this.ss("dot")}),oe.default.createElement("div",{className:this.ss("title")},p),!v&&oe.default.createElement("div",{className:this.ss(a?"fold":"unfold","icon","ifont","ifont-lrn_icon_unfold")}))),oe.default.createElement("div",{className:this.ss("button-group")},y&&oe.default.createElement("a",{ref:"commentButton",className:this.ss("button-comment"),onClick:function(){return u()}},oe.default.createElement("div",{className:this.ss("comment-icon","ifont","ifont-lrn_icon_comment")}),oe.default.createElement("div",{className:this.ss("comment-count")},_)),oe.default.createElement("a",{ref:"shareButton",className:this.ss("button-share"),onClick:function(){return o()}},oe.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-lrn_icon_share")})),"quiz"===l?oe.default.createElement(me.default,{ref:"recordButton",versionId:c,theme:"sticker-head",scrollToStep:r}):oe.default.createElement(pe.default,{ref:"recordButton",versionId:c,theme:"sticker-head",data:t,scrollToStep:r}))),oe.default.createElement(Ce,{data:t,record:s,versionId:c})),!v&&oe.default.createElement(je,{root:g})))}}]),t}(),m.propTypes={breadcrumb:re.default.object,data:re.default.object,expanded:re.default.bool,scrollTop:re.default.number,isShareShow:re.default.bool,record:re.default.object,versionId:re.default.string,expandSticker:re.default.func,collapseSticker:re.default.func,scrollToStep:re.default.func,openShareDialog:re.default.func,openCommentDrawer:re.default.func,theme:re.default.oneOf(["quiz"])},p=h))||p)||p)||p);t.default=Pe;var Ce=t.ProgressBar=(_=(0,Se.default)(Oe.default),g=(0,ke.default)(Te.default),_(v=g((b=y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),L(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.record,r=t.versionId,o=(0,ye.GetRecordSubItems)({data:a,record:n,versionId:r,simple:!0}),i=o.items,s=o.completed,c=i.length,d=u(c,s),f=i.map(function(t,a){return oe.default.createElement("div",{key:"c_"+a,className:e.ss("bar"),style:d[a]})}),p=l(c),m=i.map(function(t,a){return oe.default.createElement("div",{key:"d_"+a,className:e.ss("dot"),style:p[a]})});return oe.default.createElement("div",{className:this.ss("progress-bar")},oe.default.createElement("div",{className:this.ss("dots")},m),oe.default.createElement("div",{className:this.ss("bars")},f))}}]),t}(),y.propTypes={data:re.default.object,record:re.default.object,versionId:re.default.string},v=b))||v)||v),je=t.StickerOutline=(w=(0,le.decorator)({uv:(0,ue.state)(J),expanded:(0,ue.state)(q),overviewExpanded:(0,ue.state)(Y),overviewScrolled:(0,ue.state)(Z),windowHeight:(0,ue.state)(X),expandOverview:(0,ue.signal)($),collapseOverview:(0,ue.signal)(ee),collapseSticker:(0,ue.signal)(U),setOverviewScrolled:(0,ue.signal)(te)}),E=(0,Se.default)(Oe.default),S=(0,ke.default)(Te.default),w(O=E(O=S((T=k=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={offsetHeight:0,scrolled:!1},n.onClick=function(){var e=n.props,t=e.overviewExpanded,a=e.expandOverview,r=e.collapseOverview;t?r():a()},i=a,o(n,i)}return i(t,ie.default),L(t,[{key:"componentDidMount",value:function(){this.setOutlineHeight(),this.setDefaultPosition()}},{key:"componentDidUpdate",value:function(){this.setOutlineHeight(),this.setDefaultPosition()}},{key:"getMaxHeight",value:function(){var e=this.props,t=e.overviewExpanded,a=e.windowHeight-88;return t||(a=Math.min(a,480)),a}},{key:"setOutlineHeight",value:function(){var e=se.default.findDOMNode(this.refs.outline);if(e&&0===this.state.offsetHeight){var t=e&&e.offsetHeight||0;t!==this.state.offsetHeight&&this.setState({offsetHeight:t})}}},{key:"setDefaultPosition",value:function(){var e=this,t=this.props,a=t.overviewScrolled,n=t.setOverviewScrolled,r=t.root,o=(0,ce.get)(r,"status.hasNext"),i=(0,ce.get)(r,"subNodes")||[];if(this.refs.scroller&&!a&&i.length>0){var s=0;s=!0===o?i.findIndex(function(e){return!0===(0,ce.get)(e,"status.hasNext")||!0===(0,ce.get)(e,"status.isNext")}):i.findIndex(function(e){return!0===e.active});var l=0;i.slice(0,s).forEach(function(e){e.subNodes&&(l+=e.subNodes.length)});var u=50*s+30*l;setTimeout(function(){e.refs.scroller.scrollTo(u,!1),n()})}}},{key:"render",value:function(){var e=this.props,t=e.root,a=e.expanded,n=e.overviewExpanded,r=e.collapseSticker,o=e.uv;if(!a)return null;var i=t.type,s=(0,ce.get)(t,"status.completed"),l=this.getMaxHeight(),u=this.state.offsetHeight>480,c=[];n||c.push(oe.default.createElement("div",{key:"top-cover",className:this.ss("top-cover","outline-middle","center")}),oe.default.createElement("div",{key:"bottom-cover",className:this.ss("bottom-cover","outline-middle","center")}));var d=u&&!n;return oe.default.createElement("div",{className:this.ss("outline-wrap"),style:{maxHeight:l}},oe.default.createElement("div",{className:this.ss("center","breadcrumb-tree")},oe.default.createElement("div",{className:this.ss("breadcrumb-tree-content")},oe.default.createElement(ge.default,{theme:"sticker-head",uv:o}))),oe.default.createElement("div",{className:this.ss("close-banner","outline-middle","center")},oe.default.createElement("div",{className:this.ss("close-icon","ifont","ifont-icon-close"),onClick:function(){return r()}})),oe.default.createElement(fe.default,{ref:"scroller"},oe.default.createElement("div",{className:this.ss("outline-middle","center",d&&"overview-hidden")},oe.default.createElement(Ie,{ref:"outline",data:t,allDone:s,uv:o}))),u&&c,u&&oe.default.createElement("div",{className:this.ss("button-group","outline-middle","center")},oe.default.createElement("button",{className:this.ss("button-overview"),onClick:this.onClick},this.__(n?"button_hide_"+i:"button_show_"+i))))}}]),t}(),k.propTypes={uv:re.default.string,root:re.default.object,expanded:re.default.bool,overviewExpanded:re.default.bool,overviewScrolled:re.default.bool,windowHeight:re.default.number,expandOverview:re.default.func,collapseOverview:re.default.func,collapseSticker:re.default.func,setOverviewScrolled:re.default.func},O=T))||O)||O)||O),Ie=t.Outline=(P=(0,le.decorator)({currentHost:(0,ue.state)(ae),locale:(0,ue.state)(ne)}),C=(0,Se.default)(Oe.default),j=(0,ke.default)(Te.default),P(I=C(I=j((N=M=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),L(t,[{key:"render",value:function(){var e=this,a=this.props,n=a.data,r=a.theme,o=a.allDone,i=a.parent,s=a.currentHost,l=a.locale,u=a.uv,c=n.type,d=n.subNodes;if(!d||0===d.length)return null;var f=!!i,p=d.map(function(a,n){var p=0===n,m=n===d.length-1,h=a.status,_={isFirst:p,isLast:m},g=a.type===we.DataTypeKeys.tutorial||a.type===we.DataTypeKeys.quiz,v=(0,ce.get)(a,"withManual")?(0,ce.get)(a,"manualDuration"):(0,ce.get)(a,"duration");f?(p&&(p=!1),m&&(m=i.isLast&&m)):m=g&&m;var y=(0,be.default)((0,ye.GetUrlByNavIds)(a.navIds,(0,ye.GetDetailPageURL)(a,l,u)),s);return oe.default.createElement("div",{key:"item_"+n,className:e.ss("item-wrap")},oe.default.createElement("a",{className:e.ss("item-link"),href:y},oe.default.createElement("div",{className:e.ss("item")},oe.default.createElement(Me,{theme:r,isFirst:p,isLast:m,status:h,allDone:o}),oe.default.createElement("div",{className:e.ss("item-title","text",a.active&&"active")},oe.default.createElement("div",{className:e.ss("item-index")},n+1+"."),oe.default.createElement("div",{className:e.ss("item-title-wrap")},a.type&&e.__("type_"+a.type),a.type&&oe.default.createElement("div",{className:e.ss("dot")}),a.title,g&&oe.default.createElement("div",{className:e.ss("dot")}),g&&oe.default.createElement(he.default,{duration:v}),!0===(0,ce.get)(a,"withLab")&&oe.default.createElement("div",{className:e.ss("icon","ifont","ifont-lrn_icon_streaming_lab")}))))),c!==we.DataTypeKeys.tutorial&&c!==we.DataTypeKeys.quiz&&oe.default.createElement(t,{data:a,theme:"secondary",parent:_,uv:u}))});return oe.default.createElement("div",{className:this.ss("outline-items",r)},p)}}]),t}(),M.propTypes={data:re.default.object,currentHost:re.default.string,locale:re.default.string,theme:re.default.oneOf(["primary","secondary"]),parent:re.default.object,allDone:re.default.bool,uv:re.default.string},M.defaultProps={theme:"primary"},I=N))||I)||I)||I),Me=t.StatusDot=(D=(0,Se.default)(Oe.default),x=(0,ke.default)(Te.default),D(R=x((A=F=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,ie.default),L(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.isFirst,n=e.isLast,r=e.allDone,o=e.status||{},i=o.prevCompleted,s=o.nextCompleted,l=o.completed,u=o.isNext,c=o.hasNext,d="primary"===t?oe.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}):oe.default.createElement("div",{className:this.ss("dot","completed")}),f=a&&!u&&!c&&!r&&!l,p=a&&r&&l;return oe.default.createElement("div",{className:this.ss("status",t)},!a&&oe.default.createElement("div",{className:this.ss("status-bg-up",l&&i&&"completed")},oe.default.createElement("div",{className:this.ss("vertical-line")})),!n&&oe.default.createElement("div",{className:this.ss("status-bg-down",l&&s&&"completed")},oe.default.createElement("div",{className:this.ss("vertical-line")})),oe.default.createElement("div",{className:this.ss("dot-wrap")},l?d:oe.default.createElement("div",{className:this.ss("dot")}),u&&oe.default.createElement("div",{className:this.ss("dot-label")},this.__("continue")),f&&oe.default.createElement("div",{className:this.ss("dot-label")},this.__("start_here")),p&&oe.default.createElement("div",{className:this.ss("dot-label")},this.__("start_again"))))}}]),t}(),F.propTypes={theme:re.default.oneOf(["primary","secondary"]),isFirst:re.default.bool,isLast:re.default.bool,status:re.default.object,allDone:re.default.bool},R=A))||R)||R)},function(e,t){e.exports={"inline-toolbar":"inline-toolbar_DOpC5ElV",show:"show_l-L8-Ch8","toolbar-button-wrapper":"toolbar-button-wrapper_2me48-00","toolbar-button":"toolbar-button_zYj3mdfN",active:"active_12FUn66S","link-input-wrapper":"link-input-wrapper_3-ZO4OqV","link-input":"link-input_1CG0d0kd","close-button":"close-button_bC5ol1p1"}},function(e,t){e.exports={image_tooltip:"image_tooltip_1WNe",video_tooltip:"video_tooltip_XBqY",attachment_tooltip:"attachment_tooltip_31jw",video_attachment_tooltip:"video_attachment_tooltip_3__3",html_tooltip:"html_tooltip_U8D1",tip_tooltip:"tip_tooltip_30QV"}},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(w);return{assessmentItem:t.assessmentItem&&t.assessmentItem.value||[]}}function i(e){return[function(t){var a=t.props;return{field:[].concat(w,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(m.chains.fieldChanged),[m.chains.validate])}function s(e){var t=e.state,a=l(e.missionData);t.set(w,a)}function l(e){var t=(0,h.get)(e,"draftAssessmentItem")||[];return(0,m.Form)({assessmentItem:{value:t}})}function u(e){var t=c({state:e,sid:["t:tutorial","t:quiz"]});e.set("search",{criteria:{k:JSON.stringify(t),exercise:"true"}})}function c(e){var t=e.state,a=e.sid,n=[],o=(t.get("mission.generalForm")||{}).competencyIds.value||[],i=t.get("missionData.competencyMap")||{};return o.forEach(function(e){var t=(0,h.get)(i,""+e),a=(0,h.get)(t,"skillIds")||[];n=Array.from(new Set([].concat(r(n),r(a))))}),n.forEach(function(e){a.push("sid:"+e)}),a}function d(e){var t=l(e.get("missionData")),a=e.get(w);return Object.keys(a).every(function(e){return"assessmentItem"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){var r=a.op,o=a.value,i=t[e].value[n],s=i.op,l=i.value;return r===s&&o===l}):t[e].value===a[e].value})}function f(e){var t=e.state,a=e.props.value;t.set("mission.assessmentIds",p(a))}function p(e){return e.map(function(e){return e.value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertAssessmentsParams=o,t.getAssessmentsForm=l,t.assessmentsFormSave=function(e,t){t.getSignal("mission.saveAssessments")()},t.assessmentResetSearch=u,t.getSkillIdsByMission=c,t.isValidAssessmentsForm=function(e){return(0,m.isValidForm)(e.get(w))},t.assessmentsFormSaveStatus=d;var m=a(13),h=a(5),_=a(11),g=a(8),v=a(9),y=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),b=["common","AddSimpleContentDialog"],w=["mission","assessmentsForm"],E={message:"changes_saved_successfully",type:"info2"},S={schema:g.POST_MISSION_ASSESSMENTS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/assessments",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),r.getSignal("header.showMessage")(E),s({state:n,missionData:a}))},onError:(0,v.onError)("mission")};t.default={name:e,depends:[],signals:{changeAssessmentsFormField:i(),addAssessmentContent:[function(e){var t=e.state,a=e.props,r=a.value.id,o=a.type,i=(0,v.GetItemIdByType)({id:r,type:o});"tutorial"===o&&(t.merge("missionData.tutorialMap",n({},r,a.value)),t.merge("tutorialMap",n({},r,a.value))),"quiz"===o&&(t.merge("missionData.quizMap",n({},r,a.value)),t.merge("quizMap",n({},r,a.value)));var s=t.get("mission.assessmentContent"),l=s.index,u=s.assessmentType,c=t.get([].concat(w,["assessmentItem"])).value;if(c.map(function(e){return e.value}).findIndex(function(e){return e===i})<0&&i){var d={op:u,value:i};c.splice(l+1,0,d)}return t.merge(b,{open:!1}),{fieldName:"assessmentItem",value:c}},f],deleteAssessmentConfirm:[y.default.DeleteConfirmed("mission.deleteAssessmentContent")],deleteAssessmentContent:[function(e){var t=e.props,a=e.state,n=t.index,r=a.get([].concat(w,["assessmentItem"])).value;return n>=0&&(r.splice(n,1),r.length>0&&0===n&&r[n].op===g.LevelSelectsType.Or&&(r[n].op=g.LevelSelectsType.And)),{fieldName:"assessmentItem",value:r}},f].concat(r(i())),saveAssessmentIndex:[function(e){var t=e.state,a=e.props.assessmentContent;t.set("mission.assessmentContent",a)}],changeAssessmentType:[function(e){var t=e.state,a=e.props,n=a.index,r=a.value,o=t.get([].concat(w,["assessmentItem"])).value;return o[n].op=r,t.set([].concat(w,["assessmentItem","value"]),o),{fieldName:"assessmentItem",value:o}}],assessmentResetSearch:[function(e){return u(e.state)}],saveAssessments:[function(){return{formPath:w}}].concat(r(m.chains.formValidated),[function(e){var t=e.state,a=e.path;return d(t)?a.no():a.yes()},{yes:(0,_.CallHTTP)(S),no:[]}])},getState:function(e){var t=e.missionData,a=(0,h.get)(t,"assessmentItem")||[];return{assessmentsForm:l(t),assessmentContent:{},assessmentIds:p(a)}}}}).call(t,"views/learn/modules/mission/CreateAssessmentsStore.js")},function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get("common.unityVersion.withAll");return t?{withAll:t}:e.get("common.unityVersion.defaultVersionRange")||null}Object.defineProperty(t,"__esModule",{value:!0}),t.MarshallUnityVersionRange=void 0,t.GetMinUnityVersions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[].concat(n(t)),i=(0,o.get)(e,"maxVersionId");if(i){var s=r.findIndex(function(e){return e.id===i});if(-1!==s&&r.splice(0,s),!0===a){var l=r.findIndex(function(e){return!0===(0,o.get)(e,"disabled")});-1!==l&&r.splice(l,r.length-l)}}return r},t.GetMaxUnityVersions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[].concat(n(t)),i=(0,o.get)(e,"minVersionId");if(i){var s=r.findIndex(function(e){return e.id===i});if(-1!==s&&r.splice(s+1,r.length-s+1),!0===a){var l=(0,o.findLastIndex)(r,function(e){return!0===(0,o.get)(e,"disabled")});-1!==l&&r.splice(0,l+1)}}return r},t.UnityVersionSaveStatus=function(e,t){var a=(0,o.get)(t,"unityVersionRange"),n=r(e),i=(0,o.get)(a,"minVersionId")||"",s=(0,o.get)(n,"minVersionId")||"",l=(0,o.get)(a,"maxVersionId")||"",u=(0,o.get)(n,"maxVersionId")||"";return i!==s||l!==u},t.GetCurrentUnityVersionRange=r;var o=a(5);t.MarshallUnityVersionRange=function(e){var t=[(0,o.get)(e,"minVersionId")||"",(0,o.get)(e,"maxVersionId")||""].filter(function(e){return!!e});return 0===t.length?"":t.join("_")}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectCardV2=t.StudyMethod=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["learner.recordMap.",""],["learner.recordMap.",""]),E=s(["project.id"],["project.id"]),S=s(["locale"],["locale"]),O=s(["currentHost"],["currentHost"]),k=n(a(2)),T=n(a(0)),P=n(a(1)),C=a(6),j=a(4),I=a(5),M=n(a(16)),N=n(a(49)),D=n(a(44)),x=n(a(40)),R=a(54),F=a(26),A=n(a(18)),L=a(9),K=n(a(3)),q=n(a(314)),z=n(a(7)),U=n(a(315)),B=(l=(0,C.decorator)({record:(0,j.state)(w,(0,j.props)(E)),locale:(0,j.state)(S),currentHost:(0,j.state)(O)}),u=(0,K.default)(q.default),c=(0,z.default)(U.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,P.default),b(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.project,n=t.record,r=t.statsPath,o=t.showProgress,i=t.theme,s=t.navIds,l=t.uv,u=t.locale,c=t.currentHost,d=t.architecture,f=a||{},p=f.id,m=f.title,h=f.type,_=(0,I.get)(n,"completed"),g=(0,I.get)(a,"withPay"),v=(0,L.ArchitectureLearnContentUrl)((0,A.default)((0,L.GetUrlByNavIds)(s,(0,L.GetDetailPageURL)(a,u,l)),c),d);return T.default.createElement("div",{className:this.ss("project-wrapper",i)},T.default.createElement("div",{className:this.ss("premium-wrapper")},g&&T.default.createElement(F.PaymentLabel,null)),T.default.createElement("div",{className:this.ss("project-card")},T.default.createElement("a",{className:this.ss("card-link"),href:v},T.default.createElement("div",{className:this.ss("card-img")},T.default.createElement(M.default,{src:(0,I.get)(a,"thumbnail.url"),sizes:"390px",height:220,width:390}),T.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},T.default.createElement(N.default,{id:p,type:h,statsPath:r})),o&&!!n&&T.default.createElement(R.ProgressBar,{data:a,record:n})),T.default.createElement("div",{className:this.ss("card-content")},T.default.createElement("div",{className:this.ss("content-des")},T.default.createElement(H,{data:a}),T.default.createElement("div",{className:this.ss("title")},m),T.default.createElement("div",{className:this.ss("info")},T.default.createElement(x.default,{data:a,theme:i}))),T.default.createElement("div",{className:this.ss("author")},T.default.createElement(D.default,{data:a,theme:i}))))),o&&_&&T.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),f.propTypes={statsPath:k.default.string.isRequired,project:k.default.object,navIds:k.default.array,record:k.default.object,url:k.default.string,theme:k.default.oneOf(["default","dark"]),showProgress:k.default.bool,currentHost:k.default.string,locale:k.default.string,uv:k.default.string,architecture:k.default.bool},f.defaultProps={navIds:[],theme:"default",showProgress:!1},d=p))||d)||d)||d);t.default=B;var H=t.StudyMethod=(m=(0,K.default)(q.default),h=(0,z.default)(U.default),m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,P.default),b(t,[{key:"renderLiveSession",value:function(){var e=this.props.data,t=(0,I.get)(e,"type");return 0===((0,I.get)(e,"liveSessionIds")||[]).length?null:T.default.createElement(F.LiveSessionLabelWithHelp,{type:t})}},{key:"renderStream",value:function(){return(this.props.data||{}).withLab?T.default.createElement(F.StreamIconLabelWithHelp,null):null}},{key:"render",value:function(){var e=this.props.theme,t=this.renderLiveSession(),a=this.renderStream();return t||a?T.default.createElement("div",{className:this.ss("study-method-wrapper",e)},this.renderLiveSession(),T.default.createElement("div",{className:this.ss("dot")}),this.renderStream()):null}}]),t}(),g.propTypes={data:k.default.object,theme:k.default.oneOf(["default","dark"])},g.defaultProps={theme:"default"},_=v))||_)||_);t.ProjectCardV2=function(e){return T.default.createElement(B,y({architecture:!0},e))}},function(e,t,a){"use strict";var n=a(84),r=a(61);e.exports=function(e,t){if(!("value"in t))return t;var a=t.isValue||["isValue"],o=t.isRequired||!1,i=t.value,s=t.defaultValue||i,l=t.validations||null,u=t.errorMessages||[],c=n(e,i,a),d=r(e,i,l);return t.value=i,t.defaultValue=s,t.validations=l,t.isValid=!o&&!c||d.isValid,t.errorMessages=u,t.errorMessage=d.isValid?null:u[d.failedRule],t.isValue=a,t.isRequired=o,t.hasValue=c,t.isTouched=c,t}},function(e,t,a){"use strict";var n=a(50);e.exports=function(e,t,a){var r={isValid:!0,failedRuleIndex:null};return a?Array.isArray(a)?a.reduce(function(a,r,o){if(!a.isValid)return a;if("string"==typeof r){var i=r.split(/:(.+)?/);if(r={},i[1])try{r[i[0]]=JSON.parse(i[1])}catch(e){r[i[0]]=i[1]}else r[i[0]]=void 0}return{isValid:Object.keys(r).reduce(function(a,o){return!!a&&(n[o]||function(){console.warn("Rule "+o+" is not found")})(t,e,r[o])},!0),failedRuleIndex:o}},r):void 0:r}},function(e,t){e.exports={account:"account_38qO",profile_completeness:"profile_completeness_1aD8",edit:"edit_3oQ9",unity_id:"unity_id_3brB",login_desc:"login_desc_CkRI",new_account:"new_account_2dd8",sign_out:"sign_out_1EBT",sign_in:"sign_in_2fq6",delete_confirm_default_title:"delete_confirm_default_title_1Hx0",delete_confirm_default_text:"delete_confirm_default_text_ogwn",delete_confirm_submission_step_title:"delete_confirm_submission_step_title_3p3d",delete_confirm_submission_step_text:"delete_confirm_submission_step_text_1v0m",delete_confirm_exercise_title:"delete_confirm_exercise_title_2mBC",delete_confirm_exercise_text:"delete_confirm_exercise_text_3nE2",delete_confirm_competency_skill_title:"delete_confirm_competency_skill_title_1ARb",delete_confirm_competency_skill_text:"delete_confirm_competency_skill_text_t_V_",save_confirm_publish_title:"save_confirm_publish_title_AS-J",save_confirm_publish_text:"save_confirm_publish_text_3wqL",tooltip_app_switcher:"tooltip_app_switcher_1bue",dashboard:"dashboard_3pix",menu_tutorials:"menu_tutorials_2E0J",menu_projects:"menu_projects_3sb0",menu_courses:"menu_courses_2csd",menu_live_session_calendar:"menu_live_session_calendar_3WQ8",menu_live_calendar:"menu_live_calendar_1EdB",menu_topics:"menu_topics_2An-",menu_avatar_settings:"menu_avatar_settings_1UZq",menu_admin_tool:"menu_admin_tool_1DND",menu_try_premium:"menu_try_premium_2YY5",browse_all_topics:"browse_all_topics_2LDO",browse_all_authors:"browse_all_authors_18AT",search_placeholder:"search_placeholder_21sy",type_quiz:"type_quiz_134X",type_tutorial:"type_tutorial_2Pid",type_project:"type_project_LxnA",type_course:"type_course_1U6_",popular_type_project:"popular_type_project_2FvT",popular_type_tutorial:"popular_type_tutorial_13Jv",popular_type_quiz:"popular_type_quiz_2Q6A",popular_type_course:"popular_type_course_FAAh",button_more:"button_more_12Hn",button_less:"button_less_3Soy",content_creator:"content_creator_3GJA",content_learner_architecture:"content_learner_architecture_31kS",community_moderator:"community_moderator_1KhI",my_learning:"my_learning_1FTI",faq:"faq_1TxZ",topics_title:"topics_title_3HH2",authors_title:"authors_title_38N-"}},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(S);return{customContents:t.customContents&&t.customContents.value,defaultSet:t.defaultSet&&t.defaultSet.value}}function i(e){var t=e.state,a=s(e.missionData);t.set(S,a)}function s(e){return(0,f.Form)({customContents:{value:(0,p.get)(e,"draftCustomContents")||[]},defaultSet:{value:(0,p.get)(e,"defaultSet")||null}})}function l(e){e.state.set([].concat(w),[])}function u(e){var t=e.state,a=e.contentIds,n=t.get("mission.contentMap")||{},r={},o={},i={};a.forEach(function(e){var t=(0,g.GetIdByItemId)(e),a=(0,p.get)(n,""+t),s=a.value,l=a.type;s&&("tutorial"===l&&(r[t]=s),"project"===l&&(o[t]=s),"course"===l&&(i[t]=s))}),t.merge("missionData.tutorialMap",r),t.merge("missionData.projectMap",o),t.merge("missionData.courseMap",i)}function c(e){var t=s(e.get("missionData")),a=e.get(S);return Object.keys(a).every(function(e){switch(e){case"defaultSet":return t[e].value===a[e].value;case"customContents":return t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){var r=t[e].value[n];return a.title.trim()===r.title.trim()&&(a.description.trim()===r.description.trim()&&(a.contentIds.length===r.contentIds.length&&a.contentIds.every(function(e,t){return e===r.contentIds[t]})))})}return t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertRecommendationsParams=o,t.getRecommendationsForm=s,t.recommendationsFormSave=function(e,t){t.getSignal("mission.saveRecommendations")()},t.recommendResetSearch=function(e,t){var a=e.get("mission.limitedCheck");t.getSignal("mission.limitedOnlyCheck")({checked:a})},t.isValidRecommendationsForm=function(e){return(0,f.isValidForm)(e.get(S))},t.recommendationsFormSaveStatus=c;var f=a(13),p=a(5),m=a(11),h=a(8),_=a(12),g=a(9),v=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),y=a(57),b=["common","createNewSetDialog"],w=["mission","contentIds"],E=["mission","contentMap"],S=["mission","recommendationsForm"],O=[].concat(S,["customContents","value"]),k={message:"changes_saved_successfully",type:"info2"},T={schema:h.POST_MISSION_RECOMMENDATIONS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/recommendations",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),r.getSignal("header.showMessage")(k),i({state:n,missionData:a}))},onError:(0,g.onError)("mission")},P={schema:h.POST_MISSION_ADD_SET,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n="/api/learn/mission/"+t.get("missionData.id")+"/addSet",r=a.title,i=a.description,s=a.contentIds,l=o(t);return{endpoint:n,params:d({},l,{setTitle:r,setDescription:i,setContentIds:s})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),i({state:n,missionData:a}),l({state:n}),r.getSignal("header.showMessage")(k),r.getSignal("common.closeCreateNewSetModal")())},onError:(0,g.onError)("mission")},C={schema:h.GET_MISSION_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("missionData.id"),n=!0===t.get("edit"),r=t.get("learner.parentIds")||{};return{endpoint:"/api/learn/mission/"+a+"/extends",params:d({edit:n},r)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,p.get)(a,"checkpoint")||{},o=a.breadcrumb||{},i=a.collectMap||{};n.set("checkpoint",r),n.set("breadcrumb",o),n.merge("learner.collectMap",i)}}};t.default={name:e,depends:[],signals:{getMissionExtends:(0,m.CallHTTP)(C),changeRecommendationsFormField:function(e){return[function(t){var a=t.props;return{field:[].concat(S,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(f.chains.fieldChanged),[f.chains.validate])}(),createMissionSet:[function(e){var t=e.state,a=e.path,n=t.get(b),r=n.title,o=n.description,i=t.get("mission.contentIds")||[];return!r||i.length<=0?a.no():(u({state:t,contentIds:i}),a.yes({title:r,description:o,contentIds:i}))},{yes:(0,m.CallHTTP)(P),no:[]}],saveRecommendations:[function(){return{formPath:S}}].concat(r(f.chains.formValidated),[function(e){var t=e.state,a=e.path;return c(t)?a.no():a.yes()},{yes:(0,m.CallHTTP)(T),no:[]}]),deleteCustomContentConfirm:[v.default.DeleteConfirmed("mission.deleteCustomContent")],limitedOnlyCheck:[function(e){var t=e.state,a=e.props,n=e.controller,r=a.checked;t.set("mission.limitedCheck",r);var o=["t:tutorial","t:project","t:course"];if(!0===r){var i=(0,y.getSkillIdsByMission)({state:t,sid:o});t.set("search.criteria",{k:JSON.stringify(i)})}t.set("search.criteria",{k:JSON.stringify(o)}),n.getSignal("search.doSearch")()}],addSetContent:[function(e){var t=e.state,a=e.props.idx,n=t.get([].concat(w))||[],o=t.get([].concat(r(O)))[a];n.forEach(function(e){if(o){var i=o.contentIds||[],s=(0,_.arrayInsert)(i,e);o.contentIds=s,u({state:t,contentIds:n}),t.set([].concat(r(O),[a]),d({},o))}}),t.set([].concat(w),[])}],toggleContentIds:[function(e){var t=e.state,a=e.props,r=a.value.id,o=a.type,i=a.checked,s=(0,g.GetItemIdByType)({id:r,type:o}),l=t.get(w),u=void 0;!0===i?u=(0,_.arrayInsert)(l,s):!1===i&&(u=(0,_.arrayRemove)(l,s));var c=t.get(E)||{};t.set(E,d({},c,n({},r,a))),t.set(w,u)}],deleteCustomContent:[function(e){var t=e.state,a=e.props,n=a.index,o=a.defaultSet,i=t.get([].concat(r(O)))||[],s=(0,p.get)(i,n+".id");if(i.splice(n,1),s===o||!o){var l=(0,p.get)(i,"0.id")||null;t.set([].concat(S,["defaultSet","value"]),l)}t.set([].concat(r(O)),i)}]},getState:function(e){return{show:!1,limitedCheck:!1,contentIds:[],contentMap:{},recommendationsForm:s(e.missionData)}}}}).call(t,"views/learn/modules/mission/CreateRecommendationsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){var t=e.get(b);return{prerequisiteIds:t.prerequisiteIds&&t.prerequisiteIds.value||[]}}function i(e){var t=e.props,a=e.state,n=e.controller,o=t.value,i=t.missionType,s=o.id,l=i+"Ids";a.merge("missionData.missionMap",r({},s,o)),n.getSignal("common.closeSimpleContentModal")();var u=a.get([].concat(b,[l])).value;return{fieldName:l,value:(0,g.arrayInsert)(u,s)}}function s(e){var t=e.props,a=e.state,n=t.data,r=t.missionType,o=n.id,i=r+"Ids",s=a.get([].concat(b,[i])).value;return{fieldName:i,value:(0,g.arrayRemove)(s,o)}}function l(e){return e.map(function(e){return(0,v.GetItemIdByType)({id:e,type:_.DataTypeKeys.mission})})}function u(e){var t=e.props,a=e.state,r=t.value,o=a.get("missionData"),i=(0,m.get)(o,"dependentIds")||[],s=(0,m.get)(o,"id");a.set("mission.mapMissions",l([s].concat(n(r),n(i))))}function c(e){return[function(t){var a=t.props;return{field:[].concat(b,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(p.chains.fieldChanged),[p.chains.validate])}function d(e){return(0,p.Form)({prerequisiteIds:{value:(0,m.get)(e,"prerequisiteIds")||[]},dependentIds:{value:(0,m.get)(e,"dependentIds")||[]}})}function f(e){var t=d(e.get("missionData")),a=e.get(b);return Object.keys(a).every(function(e){return"prerequisiteIds"===e||"dependentIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMapParams=o,t.addMissionNode=i,t.removeMissionNode=s,t.getMapForm=d,t.mapFormSave=function(e,t){t.getSignal("mission.saveMissionMap")()},t.isValidMapForm=function(e){return(0,p.isValidForm)(e.get(b))},t.mapFormSaveStatus=f,t.mapResetSearch=function(e){e.set("search",{criteria:{k:JSON.stringify(["t:mission"])}})};var p=a(13),m=a(5),h=a(11),_=a(8),g=a(12),v=a(9),y=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),b=["mission","mapForm"],w={message:"changes_saved_successfully",type:"info2"},E={schema:_.POST_MISSION_MAP,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/map",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),r.getSignal("header.showMessage")(w))},onError:(0,v.onError)("mission")};t.default={name:e,depends:[],signals:{changeMapFormField:c(),addMissionNode:[i,u].concat(n(c())),removeMissionNodeConfirm:[y.default.DeleteConfirmed("mission.removeMissionNode")],removeMissionNode:[s,u].concat(n(c())),saveMissionMap:[function(){return{formPath:b}}].concat(n(p.chains.formValidated),[function(e){var t=e.state,a=e.path;return f(t)?a.no():a.yes()},{yes:(0,h.CallHTTP)(E),no:[]}])},getState:function(e){var t=e.missionData,a=t.prerequisiteIds,r=t.dependentIds,o=t.id;return{mapForm:d(t),mapMissions:l([o].concat(n(a),n(r)))}}}}).call(t,"views/learn/modules/mission/CreateMapStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(E);return{missionIds:t.missionIds&&t.missionIds.value||[],missionPosition:e.get("pathway.pathwayMap.missionPosition")}}function i(e){return[function(t){var a=t.props;return{field:[].concat(E,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(h.chains.fieldChanged),[h.chains.validate])}function s(e){return(0,h.Form)({missionIds:{value:(0,_.get)(e,"missionIds")||[]}})}function l(e){var t=s(e.get("pathwayData")),a=e.get(E);return Object.keys(a).every(function(e){return"missionIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}function u(e){var t=e.get("pathwayData.missionPosition")||{},a=e.get("pathway.pathwayMap.missionPosition")||{};return t.length===a.length&&Object.keys(a).every(function(e){var n=a[e],r=t[e];return!(!n||!r||n.length!==r.length)&&Object.keys(n).every(function(e){return n[e]===r[e]})})}function c(e){return e.map(function(e){return(0,b.GetItemIdByType)({id:e,type:v.DataTypeKeys.mission})})}function d(e,t,a){function n(e,t,r){if(o[e]&&!i[e]){var f=o[e],p=a[e]?m({},a[e]):{};i[e]=p,c[t]||(c[t]=[]);var h=c[t];h[r]||(h[r]={missionIds:[]});var _=h[r].missionIds;if(!p.top&&0!==p.top&&!p.left&&0!==p.left)if(p.left=r,_.length>0){var g=_[_.length-1],v=i[g];p.top=v.top+1}else p.top=u;p.top+1>l&&(l=p.top+1),p.left+1>s&&(s=p.left+1),_.push(e),(f.dependentIds||[]).forEach(function(e){!0===d[e]&&n(e,t,r+1)})}}var r=(0,_.get)(e,"missionIds.value")||[],o=(0,_.get)(t,"missionMap")||{};a||(a=(0,_.get)(t,"missionPosition")||{});var i={},s=0,l=0,u=0,c=[],d={};r.forEach(function(e){d[e]=!0});var f=0;return r.forEach(function(e){var t=o[e];if(t){var a=(0,_.get)(t,"prerequisiteIds")||[];(0===a.length||a.every(function(e){return!d[e]}))&&(u=l,n(e,f,0),f++)}}),{missionPosition:i,maxHeight:l,maxWidth:s}}function f(e){var t=e.props,a=e.state,n=t.value;a.set("pathway.missionItemIds",c(n))}function p(e){var t=e.state,a=t.get(E),n=t.get("pathwayData")||{},r=t.get("pathway.pathwayMap.missionPosition");t.set("pathway.pathwayMap",d(a,n,r))}Object.defineProperty(t,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertMissionsParams=o,t.getMissionsForm=s,t.missionsFormSave=function(e,t){t.getSignal("pathway.saveMissions")()},t.missionsResetSearch=function(e){e.set("search",{criteria:{k:JSON.stringify(["t:mission"])}})},t.isValidMissionsForm=function(e){return(0,h.isValidForm)(e.get(E))},t.missionsFormSaveStatus=l;var h=a(13),_=a(5),g=a(11),v=a(8),y=a(12),b=a(9),w=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),E=["pathway","missionsForm"],S={message:"changes_saved_successfully",type:"info2"},O={schema:v.POST_PATHWAY_MISSIONS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/missions",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("pathwayData",a),r.getSignal("header.showMessage")(S),r.getSignal("pathway.assessmentReset")())},onError:(0,b.onError)("pathway")},k={schema:v.GET_PATHWAY_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/extends",params:{edit:!0===t.get("edit")}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,_.get)(a,"checkpoint")||{},o=a.breadcrumb||{},i=a.collectMap||{};n.set("checkpoint",r),n.set("breadcrumb",o),n.merge("learner.collectMap",i);var s=a.pathwayData||{},l=s.missionIds||[],u=s.statsMap||{},c=s.missionMap||{},d=s.courseMap||{},f=s.tutorialMap||{},p=s.quizMap||{},h=s.projectMap||{},g=m({},n.get("pathwayData"));g.statsMap=m({},g.statsMap,u),g.missionMap=m({},g.missionMap,c),g.tutorialMap=m({},g.courseMap,d),g.missionIds=l,g.tutorialMap=m({},g.tutorialMap,f),g.quizMap=m({},g.quizMap,p),g.projectMap=m({},g.projectMap,h),n.set("pathwayData",g)}}};t.default={name:e,depends:[],signals:{getPathwayExtends:(0,g.CallHTTP)(k),changeMissionsFormField:i(),addMission:[function(e){var t=e.props,a=e.state,r=e.controller,o=t.value,i=o.id;a.merge("pathwayData.missionMap",n({},i,o)),r.getSignal("common.closeSimpleContentModal")();var s=a.get([].concat(E,["missionIds"])).value;return{fieldName:"missionIds",value:(0,y.arrayInsert)(s,i)}},f].concat(r(i()),[p]),removeMissionConfirm:[w.default.DeleteConfirmed("pathway.removeMission")],removeMission:[function(e){var t=e.props,a=e.state,n=t.data.id,r=a.get([].concat(E,["missionIds"])).value;return{fieldName:"missionIds",value:(0,y.arrayRemove)(r,n)}},f].concat(r(i()),[p]),saveMissions:[function(){return{formPath:E}}].concat(r(h.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)&&u(t)?a.no():a.yes()},{yes:(0,g.CallHTTP)(O),no:[]}]),moveMissionPosition:[function(e){var t=e.props,a=e.state,n=t.missionId,r=t.position;a.set("pathway.pathwayMap.missionPosition."+n,m({},r))}],addPathwayMapGrid:[function(e){var t=e.props,a=e.state,n=t.line,r=void 0===n?0:n,o=t.column,i=void 0===o?0:o,s=a.get("pathway.pathwayMap"),l=s.maxWidth,u=s.maxHeight;a.set("pathway.pathwayMap.maxWidth",l+i),a.set("pathway.pathwayMap.maxHeight",u+r)}]},getState:function(e){var t=e.pathwayData,a=(0,_.get)(t,"missionIds")||[],n=s(t);return{missionsForm:n,missionItemIds:c(a),pathwayMap:d(n,t)}}}}).call(t,"views/learn/modules/pathway/CreateMissionsStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(E);return{assessmentItems:t.assessmentItems&&t.assessmentItems.value||[]}}function i(e){return[function(t){var a=t.props;return{field:[].concat(E,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(_.chains.fieldChanged),[_.chains.validate])}function s(e){var t=e.state,a=l(e.pathwayData);t.set(E,a)}function l(e){return(0,_.Form)({assessmentItems:{value:(0,g.get)(e,"assessmentItems")||[]}})}function u(e){var t=(e.get("pathwayData.missionIds")||[]).map(function(e){return"mid:"+e});e.set("search",{criteria:{k:JSON.stringify(["t:quiz","t:tutorial"].concat(r(t))),exercise:"true"}})}function c(e){var t=l(e.get("pathwayData")),a=e.get(E);return Object.keys(a).every(function(e){return"assessmentItems"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){var r=a.op,o=a.value,i=t[e].value[n],s=i.op,l=i.value;return r===s&&o===l}):t[e].value===a[e].value})}function d(e){var t=e.state,a=e.props,r=e.controller,o=a.value,i=a.type,s=a.assessmentIndex,l=a.assessmentType,u=o.id,c=(0,b.GetItemIdByType)({id:u,type:i});"tutorial"===i&&t.merge("pathwayData.tutorialMap",n({},u,o)),"quiz"===i&&t.merge("pathwayData.quizMap",n({},u,o)),r.getSignal("common.closeSimpleContentModal")();var d=t.get([].concat(E,["assessmentItems"])).value;return d.map(function(e){return e.value}).findIndex(function(e){return e===c})<0&&c&&d.splice(s+1,0,{op:l,value:c}),{fieldName:"assessmentItems",value:d}}function f(e){var t=e.state,a=e.props.index,n=t.get([].concat(E,["assessmentItems"])).value;return a>=0&&(n.splice(a,1),n.length>0&&0===a&&n[a].op===y.LevelSelectsType.Or&&(n[a].op=y.LevelSelectsType.And)),{fieldName:"assessmentItems",value:n}}function p(e){var t=e.state,a=e.props,n=a.value,r=a.index,o=t.get([].concat(E,["assessmentItems"])).value;return o[r].op=n,{fieldName:"assessmentItems",value:o}}function m(e){var t=e.state,a=t.get([].concat(E,["assessmentItems"])).value,n=t.get("pathwayData"),r=n.missionIds,o=n.missionMap;t.set("pathway.assessmentIds",h({assessmentItems:a,missionIds:r,missionMap:o}))}function h(e){var t=e.assessmentItems,a=void 0===t?[]:t,n=e.missionIds,o=void 0===n?[]:n,i=e.missionMap,s=void 0===i?{}:i,l=a.map(function(e){return e.value});return o.forEach(function(e){var t=s[e],a=(0,g.get)(t,"assessmentItem")||[];l=[].concat(r(l),r(a.map(function(e){return e.value})))}),l}Object.defineProperty(t,"__esModule",{value:!0}),t.convertAssessmentsParams=o,t.getAssessmentsForm=l,t.assessmentsFormSave=function(e,t){t.getSignal("pathway.saveAssessments")()},t.assessmentResetSearch=u,t.isValidAssessmentsForm=function(e){return(0,_.isValidForm)(e.get(E))},t.assessmentsFormSaveStatus=c,t.addAssessment=d,t.deleteAssessment=f,t.changeAssessment=p;var _=a(13),g=a(5),v=a(11),y=a(8),b=a(9),w=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),E=["pathway","assessmentsForm"],S={message:"changes_saved_successfully",type:"info2"},O={schema:y.POST_PATHWAY_ASSESSMENTS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/assessments",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("pathwayData",a),r.getSignal("header.showMessage")(S),s({state:n,pathwayData:a}))},onError:(0,b.onError)("pathway")};t.default={name:e,depends:[],signals:{changeAssessmentsFormField:i(),addAssessment:[d].concat(r(i()),[m]),deleteAssessmentConfirm:[w.default.DeleteConfirmed("pathway.deleteAssessment")],deleteAssessment:[f].concat(r(i()),[m]),changeAssessment:[p].concat(r(i())),assessmentReset:[function(e){var t=e.state,a=e.path;return"a"===t.get("common.tab")?a.yes():a.no()},{yes:[function(e){u(e.state)},m],no:[]}],saveAssessments:[function(){return{formPath:E}}].concat(r(_.chains.formValidated),[function(e){var t=e.state,a=e.path,n=e.controller;return c(t)?a.no():(n.getSignal("common.openVersionModal")({versionStatus:"change"}),a.yes())},{yes:(0,v.CallHTTP)(O),no:[]}])},getState:function(e){var t=e.pathwayData,a=t.assessmentItems,n=t.missionIds,r=t.missionMap;return{assessmentsForm:l(t),assessmentIds:h({assessmentItems:a,missionIds:n,missionMap:r})}}}}).call(t,"views/learn/modules/pathway/CreateAssessmentsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(g);return{points:(0,_.GetCurrentPointReward)(e),skillLevel:t.skillLevel&&t.skillLevel.value,estimationInHour:t.estimationInHour&&t.estimationInHour.value,estimationInMinute:t.estimationInMinute&&t.estimationInMinute.value,topicIds:t.topicIds&&t.topicIds.value||[],materials:t.materials&&t.materials.value||[],prerequisites:t.prerequisites&&t.prerequisites.value||[],group:t.group&&t.group.value||{},hidden:t.hidden.value,premium:t.premium.value,offline:t.offline.value,paymentItem:t.paymentItem.value||{},quizSetting:{passNumber:(0,c.get)(t,"passNumber.value",0),freezingTimeInHours:(0,c.get)(t,"freezingTime.value",0)}}}function i(e){return[function(t){var a=t.props;return{field:[].concat(g,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(u.chains.fieldChanged),[u.chains.validate])}function s(e){var t=e.get("quizData"),a=l(t),n=e.get(g);return!(0,_.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return(0,h.default)(e,a,n)})}function l(e,t,a){var n=(0,c.get)(e,"duration")||0,r=(0,p.ParseMinute)(n),o=r.hour,i=r.minute,s={skillLevel:(0,c.get)(e,"skillLevel")||"",estimationInHour:o,estimationInMinute:i,topicIds:(0,c.get)(e,"topicIds")||[],passNumber:(0,c.get)(e,"quizSetting.passNumber",0),freezingTime:(0,c.get)(e,"quizSetting.freezingTimeInHours",0),materials:(0,c.get)(e,"materials")||[],prerequisites:(0,c.get)(e,"prerequisites")||[],group:(0,c.get)(e,"group")||{},hidden:(0,c.get)(e,"hidden")||!1,premium:(0,c.get)(e,"premium")||!1,offline:(0,c.get)(e,"offline")||!1,paymentItem:(0,c.get)(e,"paymentItem")||{}},l=void 0;return l=t&&a?a.get(g):{skillLevel:{validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},estimationInHour:{},estimationInMinute:{},topicIds:{},passNumber:{validations:["isValue","lessOne"],errorMessages:["error_isRequired","error_lessOne"],isRequired:!0},freezingTime:{},materials:{},prerequisites:{},group:{},hidden:{},premium:{},offline:{},paymentItem:{}},Object.keys(s).forEach(function(e){(0,c.set)(l,e+".value",s[e])}),(0,u.Form)(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.isValidDetailsForm=function(e){return(0,u.isValidForm)(e.get(g))},t.detailsFormSave=function(e,t){t.getSignal("quiz.saveQuizDetails")()},t.detailsFormSaveStatus=s,t.getDetailsForm=l;var u=a(13),c=a(5),d=a(11),f=a(8),p=a(9),m=n(a(17)),h=n(a(23)),_=a(33),g=["quiz","detailsForm"],v={message:"changes_saved_successfully",type:"info2"},y={schema:f.POST_QUIZ_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/quiz/"+t.get("quizData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("quizData",a),n.set(g,l(a)),r.getSignal("header.showMessage")(v))},onError:(0,p.onError)("quiz")};t.default={name:e,depends:[],signals:{addQuizTopic:[function(e,t){return(0,p.AddTagAction)(e,t,g)}("topicIds","quizData.topicMap")].concat(r(i())),deleteQuizTopic:[function(e){return(0,p.DeleteTagAction)(e,g)}("topicIds")].concat(r(i())),changeDetailsFormField:i(),saveQuizDetails:[function(){return{formPath:g}}].concat(r(u.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,d.CallHTTP)(y),no:[]}]),moveMaterial:[(0,p.MoveElementAction)(g.join(".")+".materials.value")],movePrerequisites:[(0,p.MoveElementAction)(g.join(".")+".prerequisites.value")],removeGroupFieldInternal:[function(){return{value:{}}}].concat(r(i("group"))),removeGroupField:[m.default.DeleteConfirmed("quiz.removeGroupFieldInternal")],deleteDetailFormFieldItemConfirm:[m.default.DeleteConfirmed("quiz.changeDetailsFormField")]},getServices:function(){return{}},getState:function(e){return{detailsForm:l(e.quizData)}}}}).call(t,"views/learn/modules/quiz/CreateDetailsStore.js")},,,,function(e,t){e.exports=window.moment},,function(e,t,a){"use strict";function n(e){var t=e.currentUser,a=e.cookieKey,n=e.path,r=(0,i.get)(t,"id","noneUser"),o=u.getItem(a)||"";n=n||(0,i.get)(window,"location.pathname")||"/";var s=new Date;s.setFullYear(s.getFullYear()+1),0!==o.indexOf(""+r)&&(o=""+r,u.setItem(a,o,{path:n,expires:s}))}function r(e,t){var a=(0,i.get)(e,"id","noneUser");return u.getItem(t)===a}Object.defineProperty(t,"__esModule",{value:!0}),t.checkPremiumTourStatus=t.closePremiumTour=t.checkWelcomeStatus=t.closeWelcome=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(a(235)),i=a(5),s="CLOSE_LEARN_WELCOME_COVID",l="CLOSE_PREMIUM_TOUR",u=new o.default;t.closeWelcome=function(e){n({currentUser:e,cookieKey:s,path:"/"})},t.checkWelcomeStatus=function(e){return!!e||r(e,s)},t.closePremiumTour=function(e){n({currentUser:e,cookieKey:l,path:"/"})},t.checkPremiumTourStatus=function(e){return r(e,l)}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLProjectCardInternal=t.WebGLProjectCard=t.AddWebGLProject=t.SubmissionFeatured=t.SubmissionCard=t.SubmitSection=t.SubmissionDetail=t.SubmissionWebGLForm=t.SubmissionMediaForm=void 0;var r=a(642),o=n(r),i=n(a(648)),s=n(a(663)),l=n(a(637)),u=a(684),c=n(u),d=n(a(687)),f=n(a(690));t.default=o.default,t.SubmissionMediaForm=o.default,t.SubmissionWebGLForm=r.SubmissionWebGLForm,t.SubmissionDetail=i.default,t.SubmitSection=s.default,t.SubmissionCard=l.default,t.SubmissionFeatured=d.default,t.AddWebGLProject=f.default,t.WebGLProjectCard=c.default,t.WebGLProjectCardInternal=u.WebGLProjectCardInternal},function(e,t,a){"use strict";function n(e){return f.UserGroups.learnAdmin+"_"+e}function r(e){return f.UserGroups.learnEditor+"_"+e}function o(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!!(a&&a.length>0)&&a.some(function(t){return e&&-1!==e.indexOf(t)})}function i(e){return o(e,f.UserGroups.learnAdmin)}function s(e){return o.apply(void 0,[e].concat(p))}function l(e,t){var a=[f.UserGroups.learnAdmin];return t&&a.push(n(t)),o.apply(void 0,[e].concat(a))}function u(e){return o(e,f.UserGroups.learnEditor)}function c(e){return o.apply(void 0,[e].concat(m))}function d(e,t){var a=[f.UserGroups.learnEditor];return t&&a.push(r(t)),o.apply(void 0,[e].concat(a))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.isSuperAdmin=function(e){return o(e,f.UserGroups.superAdmin)},t.isAdmin=function(e){return o(e,f.UserGroups.superAdmin,f.UserGroups.admin)},t.isLearnAdmin=i,t.isLearnAdminAll=s,t.isLearnAdminLocal=l,t.isLearnCreatorAll=function(e){return o(e,f.UserGroups.learnCreator)||s(e)||c(e)},t.isLearnModeratorAll=function(e){return o(e,f.UserGroups.learnModerator)||i(e)||u(e)},t.isLearnEditor=u,t.isLearnEditorAll=c,t.isLearnEditorLocal=d,t.isLearnAdminEditor=function(e){return i(e)||u(e)},t.isLearnAdminEditorAll=function(e){return s(e)||c(e)},t.isLearnAdminEditorLocal=function(e,t){return l(e,t)||d(e,t)};var f=a(8),p=[f.UserGroups.learnAdmin,f.UserGroups.learnAdminEN,f.UserGroups.learnAdminZH,f.UserGroups.learnAdminJA,f.UserGroups.learnAdminKO,f.UserGroups.learnAdminRU,f.UserGroups.learnAdminES,f.UserGroups.learnAdminFR,f.UserGroups.learnAdminDE,f.UserGroups.learnAdminPT],m=[f.UserGroups.learnEditor,f.UserGroups.learnEditorEN,f.UserGroups.learnEditorZH,f.UserGroups.learnEditorJA,f.UserGroups.learnEditorKO,f.UserGroups.learnEditorRU,f.UserGroups.learnEditorES,f.UserGroups.learnEditorFR,f.UserGroups.learnEditorDE,f.UserGroups.learnEditorPT]},function(e,t,a){e.exports=a(14)(880)},function(e,t,a){e.exports=a(14)(885)},function(e,t,a){e.exports=a(14)(886)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e=e||{},n=a.date,r=a.hour,o=void 0===r?0:r,i=a.minute,s=void 0===i?0:i;if(!n)return null;var u=o<10?"0"+o:o,c=s<10?"0"+s:s;return(0,l.default)(n+" "+u+":"+c).utcOffset(t,!0)}function o(e,t){var a=(0,l.default)(),n={date:"",year:a.year(),month:a.month(),day:a.date(),hour:0,minute:0};if(e){var r=0===t?(0,l.default)(e).utc():(0,l.default)(e).utcOffset(t);n.date=r.format(s.DateFormat.date),n.year=r.year(),n.month=r.month(),n.day=r.date(),n.hour=r.hour(),n.minute=r.minute()}return n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={dayOfYear:0,timeOfDay:"",suffix:0};if(e){var n=0===t?(0,l.default)(e).utc():(0,l.default)(e).utcOffset(t);a.dayOfYear=n.dayOfYear(),a.timeOfDay=n.format("h:mm"),a.suffix=n.format("a")}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.GetRangeTimeValue=function(e){var t=e=e||{},a=t.startTime,n=void 0===a?"":a,r=t.endTime,o=void 0===r?"":r;return n||o?n+"#"+o:""},t.GetRangeTimeObject=function(e){var t=(e=e||"").split("#");return 2===t.length?{startTime:t[0],endTime:t[1]}:null},t.GetMomentTime=r,t.GetMomentNow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0===e?(0,l.default)().utc():(0,l.default)().utcOffset(e)},t.GetMomentTimeByValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r(o(e,t),t)},t.GetTimeValue=function(e){var t=r(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);return t?t.format():""},t.ParseTime=o,t.OmitUndefined=function(e){return e=e||{},Object.keys(e).forEach(function(t){void 0===e[t]&&delete e[t]}),e},t.ParseTimeOfDay=function(e,t){t=parseInt(t||0,10);var a={start:0,end:0};if(e){var n=e.split("_");2===n.length&&(a.start=parseInt(n[0],10)-t,a.end=parseInt(n[1],10)-t)}return a.start+"_"+a.end},t.UnParseTimeOfDay=function(e,t){t=parseInt(t||0,10);var a={start:0,end:0};if(e){var n=e.split("_");2===n.length&&(a.start=parseInt(n[0],10)+t,a.end=parseInt(n[1],10)+t)}return a.start+"_"+a.end},t.GetDayAndTime=i,t.GetLiveSessionTime=function(e){var t=e.startTime,a=e.endTime,n=e.sep,r=void 0===n?"-":n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=i(t,o),l=s.dayOfYear,c=s.timeOfDay,d=s.suffix,f=i(a,o),p=f.dayOfYear,m=f.timeOfDay,h=f.suffix;return{sessionTime:d===h?c+" "+r+" "+m+" "+d:c+" "+d+" "+r+" "+m+" "+h,timeZone:(0,u.default)().tz(u.default.tz.guess()).format("z"),daysDiff:p-l}};var s=a(8),l=n(a(71)),u=n(a(525))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(3)),_=n(a(319)),g=(s=(0,h.default)(_.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n._handleCheck=function(e){!n.props.disable&&n.props.onCheck&&n.props.onCheck(e,!n.props.checked)},i=a,o(n,i)}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.checked,n=e.disable,r=e.reverse,o=e.label,i=e.theme,s=a?["checked"]:["check"],l=o;return p.default.isValidElement(o)&&(l=""),p.default.createElement("div",{key:t,className:this.ss(r&&"reverse")},p.default.createElement("div",{className:this.ss("container",n&&"disable",""+i),onClick:this._handleCheck},p.default.createElement("button",{className:this.ss.apply(this,s),type:"button"},p.default.createElement("div",{className:this.ss("inner","ifont","ifont-lrn_icon_finish")})),o&&p.default.createElement("div",{className:this.ss("label"),title:l},o)))}}]),t}(),u.propTypes={id:f.default.string,label:f.default.oneOfType([f.default.string,f.default.array,f.default.node]),checked:f.default.bool,onCheck:f.default.func,reverse:f.default.bool,disable:f.default.bool,theme:f.default.string},u.defaultProps={disable:!1},l=c))||l;t.default=g},,function(e,t,a){"use strict";e.exports=[a(83)]},function(e,t,a){"use strict";var n=a(60),r=a(24);e.exports=function(e){var t=e.props,a=e.state,o=r(t.fieldPath).slice(),i=o.pop(),s=a.get(o),l=Object.keys(s).reduce(function(e,t){return e[t]=s[t],e},{});l[i]=n(l,t.fieldDetails),a.set(o,l)}},function(e,t,a){"use strict";function n(e){if("string"==typeof e){var t=e.split(/:(.+)?/);return t[1]?{key:t[0],params:JSON.parse(t[1])}:{key:e}}return{key:e}}var r=a(50);e.exports=function(e,t,a){return a.reduce(function(a,o){if(!a)return!1;var i=n(o);return r[i.key](t,e,i.params)},!0)}},function(e,t,a){"use strict";e.exports=[a(145)]},function(e,t,a){"use strict";e.exports=[a(146),a(147),a(148),a(149),a(150),{yes:[a(88)],no:[]}]},function(e,t,a){"use strict";e.exports=function(e){return e.isRequired&&!e.hasValue}},function(e,t,a){"use strict";var n=a(61),r=a(151),o=a(24);e.exports=function(e){var t=e.props,a=e.state,i=function(e,t,r){var o=t[r],i=n(t,o.value,o.validations);a.merge(e.concat(r),{isValid:i.isValid,errorMessage:i.isValid?null:o.errorMessages[i.failedRuleIndex]})},s=o(t.field),l=s.slice(),u=l.pop(),c=a.get(l),d=c[u];if(i(l,c,u),Array.isArray(d.dependents)&&d.dependents.length&&(console.warn("DEPRECATED: Use new field.dependsOn API instead"),d.dependents.forEach(function(e){if(Array.isArray(e)&&e.length){var n=r(s,e),o=n.pop(),l=a.get(n);i(n,l,o)}else console.warn("cerebral-module-forms: dependent path expected to be Array. Check out dependents provided for "+t.field+".")})),Array.isArray(d.dependsOn))d.dependsOn.forEach(function(e){var t=e.split("."),n=t.pop(),r=a.get(t);if(!r)throw new Error('The path "'+t.join(".")+'" used with "dependsOn" on field "'+u+'" is not correct, please check it');i(t,r,n)});else if(d.dependsOn){var f=(l=d.dependsOn.split(".")).pop();if(!(c=a.get(l)))throw new Error('The path "'+l.join(".")+'" used with "dependsOn" on field "'+u+'" is not correct, please check it');i(l,c,f)}}},function(e,t,a){"use strict";var n=a(60);e.exports=function(e){return Object.keys(e).reduce(function(t,a){return t[a]=n(e,e[a]),t},{})}},function(e,t,a){"use strict";e.exports=[a(156)]},function(e,t,a){"use strict";e.exports=[a(157)]},function(e,t,a){"use strict";var n=function e(t,a){return Object.keys(t).reduce(function(n,o){return!!n&&(Array.isArray(t[o])?r(t[o],a):"value"in t[o]?a(t[o]):e(t[o],a))},!0)},r=function(e,t){return e.reduce(function(e,a){return!!e&&n(a,t)},!0)};e.exports=n},function(e,t){e.exports={duration_hours:"duration_hours__ngJ",duration_mins:"duration_mins_Q4OM",duration_secs:"duration_secs_1BTI"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),m=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),h=s(["common.tourTips.status.scrollTop"],["common.tourTips.status.scrollTop"]),_=s(["common.tourTips.",""],["common.tourTips.",""]),g=s(["tourTipId"],["tourTipId"]),v=s(["common.addTourTip"],["common.addTourTip"]),y=s(["common.removeTourTip"],["common.removeTourTip"]),b=n(a(2)),w=n(a(0)),E=n(a(19)),S=n(a(1)),O=a(6),k=a(4),T=a(45),P=a(8),C=(l=(0,O.decorator)({windowWidth:(0,k.state)(p),windowHeight:(0,k.state)(m),scrollTop:(0,k.state)(h),tourTip:(0,k.state)(_,(0,k.props)(g)),addTourTip:(0,k.signal)(v),removeTourTip:(0,k.signal)(y)}))((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,S.default),f(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.addTourTip()},0),window.addEventListener("load",function(){return e.addTourTip()})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.windowHeight,r=a.windowWidth;(n!==e.windowHeight||r!==e.windowWidth)&&setTimeout(function(){return t.addTourTip()},0)}},{key:"componentWillUnmount",value:function(){this.removeTourTip()}},{key:"addTourTip",value:function(){if(!(0,T.isDevice)()){var e=E.default.findDOMNode(this.refs.child).getBoundingClientRect(),t=e.left,a=e.right,n=e.top,r=e.bottom,o=this.props,i=o.type,s=o.position,l=o.tourTipId,u=o.tourTip,c=o.windowHeight,d=o.scrollTop,f=o.addTourTip,p=a-t,m=r-n;if(p>0&&m>0&&n>=0){var h={id:l,type:i,position:s,targetWidth:p,targetHeight:m,left:t,top:n};u&&u.top>c&&d>0&&(h.top=n+d),f(h)}}}},{key:"removeTourTip",value:function(){if(!(0,T.isDevice)()){var e=this.props,t=e.removeTourTip;t({id:e.tourTipId})}}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.isSpan;if(!t)return null;var n=w.default.Children.only(t);n=w.default.cloneElement(n,{ref:"child"});var r=a?"span":"div";return w.default.createElement(r,null,n)}}]),t}(),c.propTypes={windowWidth:b.default.number,windowHeight:b.default.number,scrollTop:b.default.number,type:b.default.oneOf(["normal","success","warning","error","green"]),position:b.default.oneOf(P.PositionAllKeys),isSpan:b.default.bool,children:b.default.any,tourTipId:b.default.string.isRequired,tourTip:b.default.object,addTourTip:b.default.func,removeTourTip:b.default.func},c.defaultProps={type:"normal",position:P.PositionKey.bottomRight,isSpan:!1},u=d))||u;t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=n(a(379)),g=n(a(15)),v=n(a(16)),y=a(20),b=n(a(3)),w=n(a(193)),E=n(a(7)),S=n(a(194)),O=a(402),k=(s=(0,b.default)(w.default),l=(0,E.default)(S.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onConfirm=function(){n.props.onConfirm&&n.props.onConfirm()},n.onClose=function(){n.props.onClose&&n.props.onClose()},i=a,o(n,i)}return i(t,h.default),f(t,[{key:"getDialogOptions",value:function(e){var t={confirm:{text:this.__("button_ok"),theme:"thirdly"},cancel:{text:this.__("button_cancel"),theme:""}},a=this.__("title");switch(e){case"tfa":case"delete":t={confirm:{text:this.__("button_yes"),theme:"red"},cancel:{text:this.__("button_no"),theme:""}};break;case"featured":t={confirm:{text:this.__("button_featured_ok"),theme:"primary"},cancel:{text:this.__("button_cancel"),theme:"blue-border"}};break;case"publish":t={confirm:{text:this.__("button_yes"),theme:"primary"},cancel:{text:this.__("button_no"),theme:"blue-border"}}}return{button:t,title:a,description:""}}},{key:"renderIcon",value:function(){var e=this.props.theme;return"delete"===e?m.default.createElement("div",{className:this.ss("icon-wrapper")},m.default.createElement("div",{className:this.ss("icon-bg")},m.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-trash")}))):"tfa"===e?m.default.createElement("div",{className:this.ss("icon-wrapper")},m.default.createElement("div",{className:this.ss("tfa-icon")},m.default.createElement(v.default,{src:O,width:100,height:100,sizes:"200px"}))):null}},{key:"renderButtons",value:function(){var e=this.props,t=e.confirmText,a=e.negateText,n=e.confirmStatus,r=e.theme,o=e.hideCancel,i=e.hideConfirm,s=(0,y.isLoadingOrSucceeded)(n),l=[];if(!o){var u=this.getDialogOptions(r).button.cancel,c=u.text,d=u.theme;l.push(m.default.createElement(g.default,{key:"cancel",disabled:s,theme:d||"default",className:this.ss("button-cancel"),label:a||c,onClick:this.onClose}))}if(!i){var f=this.getDialogOptions(r).button.confirm,p=f.text,h=f.theme;l.push(m.default.createElement(g.default,{key:"ok",loading:s,theme:h||"default",className:this.ss("button-ok"),label:t||p,onClick:this.onConfirm}))}return"delete"===r?l.reverse():l}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.title,n=e.description,r=e.theme,o=this.getDialogOptions(r),i=o.title,s=o.description;return m.default.createElement(_.default,{open:t,position:"center",width:640,title:a||i,onCloseModal:this.onClose},m.default.createElement("div",{className:this.ss("content-wrap",r)},this.renderIcon(),m.default.createElement("div",{className:this.ss("description")},n||s),m.default.createElement("div",{className:this.ss("button-wrap")},this.renderButtons())))}}]),t}(),c.propTypes={open:p.default.bool,title:p.default.string,description:p.default.string,theme:p.default.oneOf(["default","delete","tfa","featured","publish"]),confirmText:p.default.string,negateText:p.default.string,confirmStatus:p.default.string,hideConfirm:p.default.bool,hideCancel:p.default.bool,onConfirm:p.default.func,onClose:p.default.func},c.defaultProps={theme:"default"},u=d))||u)||u);t.default=k},function(e,t){e.exports={quality:"quality_3BiY",subtitles_off:"subtitles_off_3XZN",subtitles_settings:"subtitles_settings_3jDF",captions_off:"captions_off_2ocY",captions_settings:"captions_settings_nTq0",show_transcript:"show_transcript_2dwe",hide_transcript:"hide_transcript_3cKj",expand_video:"expand_video_2D7f"}},function(e,t,a){"use strict";function n(e){return void 0!==e&&null!==e&&"function"==typeof e.then}Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=n,t.silencePromise=function(e){n(e)&&e.then(null,function(){})}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){return[].concat(r(e)).filter(function(e){return 0===e.type.indexOf("video/")}).map(function(e){return{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"videoattachment"}})}function i(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&a.getEntity(t).getType()===d},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=o,t.getSubtitleFile=function(e){var t=(e||[])[0];return t?{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:t,uploadType:"videosubtitle"}:null},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=l.default;return e.decorator&&(n=e.decorator(n)),n=(0,s.default)(n,{editorKey:t,renderOnly:a}),{handleDroppedFiles:a?void 0:function(e,t,a){var n=a.getEditorState,r=a.setEditorState,i=(0,a.getProps)().controller,s=i.getState("editor.dragOverBlockKey");if(!s)return"not-handled";var l=o(t),c=0!==l.length,f=n();return l.forEach(function(e){f=(0,u.addAtomicBlockBefore)(f,s,d,{uploadId:e.id}),i.getSignal("upload.uploadRecord")({upload:e})}),c&&r(f),c?"handled":"not-handled"},handlePastedFiles:a?void 0:function(e,t){var a=t.getEditorState,n=t.setEditorState,r=(0,t.getProps)().controller,i=a(),s=i.getSelection().getStartKey(),l=o(e),c=0!==l.length;return l.forEach(function(e){i=(0,u.addAtomicBlockBefore)(i,s,d,{uploadId:e.id}),r.getSignal("upload.uploadRecord")({upload:e})}),c&&n(i),c?"handled":"not-handled"},decorators:[{strategy:i,component:n}],SubtitleDialog:a?function(){return null}:c.default}};var s=n(a(35)),l=n(a(348)),u=a(10),c=n(a(293)),d="VIDEOATTACHMENT"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.TutorialCardV2=t.ParentLabel=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=s(["learner.recordMap.",""],["learner.recordMap.",""]),S=s(["tutorial.id"],["tutorial.id"]),O=s(["locale"],["locale"]),k=s(["currentHost"],["currentHost"]),T=n(a(2)),P=n(a(0)),C=n(a(1)),j=a(6),I=a(4),M=a(5),N=n(a(16)),D=n(a(44)),x=n(a(49)),R=a(54),F=n(a(40)),A=a(59),L=a(26),K=n(a(18)),q=a(9),z=n(a(48)),U=a(12),B=n(a(3)),H=n(a(316)),V=n(a(7)),G=n(a(317)),W={medium:{thumbnailWidth:390,thumbnailHeight:220},normal:{thumbnailWidth:285,thumbnailHeight:160}},Q=(l=(0,j.decorator)({record:(0,I.state)(E,(0,I.props)(S)),locale:(0,I.state)(O),currentHost:(0,I.state)(k)}),u=(0,B.default)(H.default),c=(0,V.default)(G.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),w(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.tutorial,n=t.record,r=t.statsPath,o=t.showProgress,i=t.size,s=t.theme,l=t.navIds,u=t.uv,c=t.locale,d=t.currentHost,f=t.architecture,p=a||{},m=p.id,h=p.title,_=p.type,g=(0,M.get)(n,"completed"),v=(0,M.get)(a,"withPay"),y=(0,q.ArchitectureLearnContentUrl)((0,K.default)((0,q.GetUrlByNavIds)(l,(0,q.GetDetailPageURL)(a,c,u)),d),f),b=W[i].thumbnailHeight,w=W[i].thumbnailWidth;return P.default.createElement("div",{className:this.ss("tutorial-wrapper",s,i)},P.default.createElement("div",{className:this.ss("eyebrow-wrapper")},v&&P.default.createElement(L.PaymentLabel,null)),P.default.createElement("div",{className:this.ss("tutorial-card")},P.default.createElement("a",{className:this.ss("card-link"),href:y},P.default.createElement("div",{className:this.ss("card-img")},P.default.createElement(N.default,{src:(0,M.get)(a,"thumbnail.url"),sizes:w+"px",height:b,width:w}),P.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},P.default.createElement(x.default,{id:m,type:_,statsPath:r})),o&&!!n&&P.default.createElement(R.ProgressBar,{data:a,record:n})),P.default.createElement("div",{className:this.ss("card-content")},P.default.createElement("div",{className:this.ss("content-des")},P.default.createElement(A.StudyMethod,{data:a}),P.default.createElement("div",{className:this.ss("title")},h),P.default.createElement("div",{className:this.ss("info")},P.default.createElement(F.default,{data:a,theme:s,durationTheme:"minute"}))),P.default.createElement("div",{className:this.ss("author")},P.default.createElement(D.default,{data:a,theme:s})),P.default.createElement(J,{ref:function(t){e.parentRef=t},data:a,architecture:f})))),o&&g&&P.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),f.propTypes={statsPath:T.default.string.isRequired,tutorial:T.default.object,navIds:T.default.array,record:T.default.object,url:T.default.string,theme:T.default.oneOf(["default","dark"]),size:T.default.oneOf(["normal","medium"]),showProgress:T.default.bool,currentHost:T.default.string,locale:T.default.string,uv:T.default.string,architecture:T.default.bool},f.defaultProps={navIds:[],size:"normal",theme:"default",showProgress:!1},d=p))||d)||d)||d);t.default=Q;var J=t.ParentLabel=(m=(0,j.decorator)({currentHost:(0,I.state)(k)}),h=(0,B.default)(H.default),_=(0,V.default)(G.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e,t){e&&(0,U.pauseEvent)(e),(0,z.default)(t)},i=a,o(n,i)}return i(t,C.default),w(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.currentHost,r=t.architecture,o=(0,q.GetParentByData)(a);if(!o)return null;var i=(0,M.get)(o,"title"),s=(0,M.get)(o,"id"),l=(0,M.get)(o,"type"),u=(0,q.ArchitectureLearnContentUrl)((0,K.default)("/"+l+"/"+s,n),r);return P.default.createElement("div",{className:this.ss("parent",!i&&"hidden")},P.default.createElement("div",{className:this.ss("part-of")},this.__("part_of")),P.default.createElement("div",{className:this.ss("parent-link")},P.default.createElement("button",{className:this.ss("link-text"),onClick:function(t){return e.onClick(t,u)}},i)))}}]),t}(),v.propTypes={data:T.default.object,currentHost:T.default.string,architecture:T.default.bool},g=y))||g)||g)||g);t.TutorialCardV2=function(e){return P.default.createElement(Q,b({architecture:!0},e))}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(T).map(function(t,a){var n=(0,S.default)(e,a),r=t||{},o=r.id,i=r.type,s=r.labForm,l=r.submissionForm;return h({},t,{title:(0,g.get)(n,"title",t.title),body:(0,g.get)(n,"body",t.body),id:o,type:i,labUrl:(0,g.get)(s,"labUrl.value",""),submissionType:(0,g.get)(l,"submissionType.value")||""})}),a=(0,w.GetCurrentUnityVersionRange)(e),n=e.get(k);return{unityVersionRange:a,skillLevel:n.skillLevel&&n.skillLevel.value,estimationInHour:n.estimationInHour&&n.estimationInHour.value,estimationInMinute:n.estimationInMinute&&n.estimationInMinute.value,sections:t}}function i(e,t,a){return[function(n){var o=n.props;return{field:[].concat(r(C(a||o.index,e||o.form)),[t||o.fieldName]),value:o.value,touched:!0}}].concat(r(_.chains.fieldChanged),[_.chains.validate])}function s(e){var t=(0,g.get)(e,"duration")||0,a=(0,b.ParseMinute)(t),n=a.hour,r=a.minute;return(0,_.Form)({skillLevel:{value:(0,g.get)(e,"skillLevel")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},estimationInHour:{value:n},estimationInMinute:{value:r}})}function l(e){return e=e||{},(0,_.Form)({labUrl:{value:(0,g.get)(e,"labUrl")||"",validations:["isValue","isUrl"],errorMessages:["error_isRequired","error_URL"],isRequired:!0}})}function u(e){return e=e||{},(0,_.Form)({submissionType:{value:(0,g.get)(e,"submissionType")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}function c(e){var t=e.state,a=t.get(T).map(function(e,a){var n=(0,S.default)(t,a),r=n.title,o=n.body;return h({},e,{title:r,body:o})});t.set(T,a)}function d(e,t){var a={};(e.get(T)||[]).forEach(function(e){a[e.id]=e});var n=(0,g.get)(t,"sections")||[];e.set("tutorialData.sections",n),e.set(T,n.map(function(e,t){return D(a,e,t)}))}function f(e){return(e.get(T)||[]).every(function(e){return e.type===y.StepTypes.lab?(0,_.isValidForm)(e.labForm):e.type!==y.StepTypes.submission||(0,_.isValidForm)(e.submissionForm)})}function p(e,t){return!!t&&(e.type===t.type&&(e.type===y.StepTypes.lab?((0,g.get)(e,"labForm.labUrl.value")||"")===t.labUrl:e.type!==y.StepTypes.submission||((0,g.get)(e,"submissionForm.submissionType.value")||"")===t.submissionType))}function m(e){var t=e.get("tutorialData"),a=e.get("tutorial"),n=s(t),r=e.get(k);if((0,w.UnityVersionSaveStatus)(e,t))return!1;var o=Object.keys(r).every(function(e){return n[e].value===r[e].value});if(o){var i=(0,g.get)(t,"sections"),l=(0,g.get)(a,"sections");o=i.length===l.length&&i.every(function(t,a){var n=(0,S.default)(e,a),r=(0,b.cleanKeyForEditorBody)(n.body),o=(0,b.cleanKeyForEditorBody)(t.body);if(t.optionType===(0,g.get)(l,a+".optionType")){if(o===r)return t.title===n.title&&p(l[a],t);if(!(0,E.getDraftPlainText)(t.body))return t.title===n.title&&!(0,E.getDraftPlainText)(n.body)&&p(l[a],t)}return!1})}return o}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertStepsParams=o,t.getStepsForm=s,t.getStepLabForm=l,t.syncStepsSections=d,t.isValidStepsForm=function(e){return(0,_.isValidForm)(e.get(k))&&f(e)},t.stepsFormSave=function(e,t){t.getSignal("tutorial.saveTutorialSteps")()},t.stepsFormSaveStatus=m;var _=a(13),g=a(5),v=a(11),y=a(8),b=a(9),w=a(58),E=a(21),S=n(E),O=n(a(17)),k=["tutorial","stepsForm"],T="tutorial.sections",P="tutorial.collapseMap",C=function(e,t){return["tutorial","sections",e,t]},j={message:"changes_saved_successfully",type:"info2"},I={schema:y.POST_TUTORIAL_STEPS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/steps",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("tutorialData",a),d(n,a),r.getSignal("common.syncPoint")({tutorialData:a}),r.getSignal("header.showMessage")(j))},onError:(0,b.onError)("tutorial")},M={schema:y.GET_TUTORIAL_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("tutorialData.id"),n=!0===t.get("edit"),r=t.get("learner.parentIds")||{},o="/api/learn/tutorial/"+a+"/extends",i=h({edit:n},r),s=t.get("common.uv");return s&&(i.uv=s),{endpoint:o,params:i}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;if(200===t&&a){var o=(0,g.get)(a,"tutorialData"),i=(0,g.get)(o,"solutionPlan"),s=(0,g.get)(o,"contentMap")||{},l=(0,g.get)(o,"tipMap")||{},u=(0,g.get)(o,"statsMap")||{},c=(0,g.get)(a,"commentData")||{},f=(0,g.get)(a,"collectMap")||{},p=(0,g.get)(a,"likeMap")||{},m=(0,g.get)(a,"reportMap")||{},_=(0,g.get)(a,"breadcrumb")||{},v=(0,g.get)(a,"checkpoint")||{};n.set("breadcrumb",_),n.set("checkpoint",v),d(n,o),n.set("tutorialData.contentMap",s),n.merge("tutorialData.statsMap",u),n.set("editor.contentMap",s),n.set("editor.tipDialog.tipMap",l),n.set("learner.collectMap",f),n.set("learner.likeMap",p),n.set("learner.reportMap",m),n.set("commentData",c),i&&(n.set("tutorialData.solutionPlan",i),n.set("tutorial.solutionPlan",h({},i))),r.getSignal("comment.jumpToMessage")()}}},N={schema:y.POST_TUTORIAL_ADD_STEP,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/addStep/"+(a.type||""),params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("tutorialData",a),d(n,a),r.getSignal("common.syncPoint")({tutorialData:a}),r.getSignal("header.showMessage")(j))},onError:(0,b.onError)("tutorial")},D=function(e,t){t=t||{};var a=(0,g.get)(e,t.id);return t.type===y.StepTypes.lab?h({},t,{labForm:(0,g.get)(a,"labForm")||l(t)}):t.type===y.StepTypes.submission?h({},t,{submissionForm:(0,g.get)(a,"submissionForm")||u(t)}):t};t.default={name:e,depends:[],signals:{getTutorialExtends:(0,v.CallHTTP)(M),changeStepsFormField:function(e){return[function(t){var a=t.props;return{field:[].concat(k,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(_.chains.fieldChanged),[_.chains.validate])}(),createTutorialSection:[c,function(e){var t=e.state,a=e.props,n=e.path,r=t.get(T)||[];if(r.length>0){if(a.type===y.StepTypes.lab&&r.some(function(e){return e.type===y.StepTypes.lab}))return n.no({message:"tutorial_exceed_lab_limit_1"});if(a.type===y.StepTypes.submission&&r.some(function(e){return e.type===y.StepTypes.submission}))return n.no({message:"tutorial_exercise_exceed_submission_limit_1"})}return n.yes()},{yes:(0,v.CallHTTP)(N),no:[function(e){var t=e.controller,a=e.props;t.getSignal("header.showMessage")({message:a.message})}]}],saveTutorialSteps:[c,function(e){var t=_.chains.formValidated[0];e.props.formPath=k,t(e),(e.state.get(T)||[]).forEach(function(a,n){a.type===y.StepTypes.lab&&(e.props.formPath=C(n,"labForm"),t(e)),a.type===y.StepTypes.submission&&(e.props.formPath=C(n,"submissionForm"),t(e))})},function(e){var t=e.state,a=e.path;return m(t)?a.no():a.yes()},{yes:(0,v.CallHTTP)(I),no:[]}],moveSection:[c,(0,b.MoveElementAction)(T)],deleteSection:[c,function(e){var t=e.state,a=e.props.index,n=t.get(T);n.splice(a,1),t.set(T,n)}],deleteSectionConfirm:[O.default.DeleteConfirmed("tutorial.deleteSection")],deleteSubmissionSectionConfirm:[O.default.DeleteConfirmed("tutorial.deleteSection","submission_step")],changeLabUrl:[c].concat(r(i("labForm","labUrl"))),changeSubmissionType:[c].concat(r(i("submissionForm","submissionType"))),changeCollapseStatus:[function(e){var t=e.state,a=e.props.id,n=t.get(P),r={};r[a]=!(0,g.get)(n,""+a),t.merge(P,r)}],changeAllCollapseStatus:[function(e){var t=e.state,a=e.props.value,n=t.get(P),r={};t.get(T).forEach(function(e){n[e.id]!==a&&(r[e.id]=a)}),t.merge(P,r)}],changeSectionOption:[c,function(e){var t=e.state,a=e.props,n=[].concat(r(t.get(T)||[])),o=a.index,i=a.value;o<n.length&&(n[o].optionType=i,t.set(T,n))}]},getServices:function(){return{}},getState:function(e){var t=e.tutorialData,a=(0,g.get)(t,"sections")||[];return{stepsForm:s(t),sections:a.map(function(e,t){return D({},e,t)}),collapseMap:{}}}}}).call(t,"views/learn/modules/tutorial/CreateStepsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(y);return{points:(0,v.GetCurrentPointReward)(e),tagIds:t.tagIds&&t.tagIds.value||[],packageIds:t.packageIds&&t.packageIds.value||[],topicIds:t.topicIds&&t.topicIds.value||[],industryIds:t.industryIds&&t.industryIds.value||[],materials:t.materials&&t.materials.value||[],documents:t.documents&&t.documents.value||[],asset:t.asset&&t.asset.value||{},group:t.group&&t.group.value||{},authorId:(0,f.get)(t,"authorId.value",""),hidden:t.hidden.value,premium:t.premium.value,offline:t.offline.value,paymentItem:t.paymentItem.value||{},skillIds:t.skillIds&&t.skillIds.value||[]}}function i(e){return[function(t){var a=t.props;return{field:[].concat(y,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e,t){return(0,h.AddTagAction)(e,t,y)}function l(e){return(0,h.DeleteTagAction)(e,y)}function u(e){var t=e.get("tutorialData"),a=c(t),n=e.get(y);return!(0,v.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return(0,g.default)(e,a,n)})}function c(e){return(0,d.Form)({tagIds:{value:(0,f.get)(e,"tagIds")||[]},packageIds:{value:(0,f.get)(e,"packageIds")||[]},topicIds:{value:(0,f.get)(e,"topicIds")||[]},industryIds:{value:(0,f.get)(e,"industryIds")||[]},materials:{value:(0,f.get)(e,"materials")||[]},documents:{value:(0,f.get)(e,"documents")||[]},asset:{value:(0,f.get)(e,"asset",{})},group:{value:(0,f.get)(e,"group",{})},authorId:{value:(0,f.get)(e,"authorId","")},hidden:{value:(0,f.get)(e,"hidden",!1)},premium:{value:(0,f.get)(e,"premium",!1)},offline:{value:(0,f.get)(e,"offline",!1)},paymentItem:{value:(0,f.get)(e,"paymentItem",{})},skillIds:{value:(0,f.get)(e,"skillIds")||[]}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.detailsFormSave=function(e,t){u(e)||t.getSignal("tutorial.saveTutorialDetails")()},t.detailsFormSaveStatus=u,t.getDetailsForm=c;var d=a(13),f=a(5),p=a(11),m=a(8),h=a(9),_=n(a(17)),g=n(a(23)),v=a(33),y=["tutorial","detailsForm"],b={message:"changes_saved_successfully",type:"info2"},w={schema:m.POST_TUTORIAL_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("tutorialData",a),n.set(y,c(a)),r.getSignal("header.showMessage")(b))},onError:(0,h.onError)("tutorial")},E={schema:m.GET_TUTORIAL_SYNC,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state.get("tutorialData");return{endpoint:"/api/learn/tutorial/"+(0,f.get)(t,"id")+"/sync"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,f.get)(a,"skillIds")||[];(0,h.MergeFormIdsValue)({state:n,fieldName:[].concat(y,["skillIds","value"]),resourceIds:n.get("tutorialData.skillIds")||[],targetIds:r}),n.set("tutorialData.skillIds",r),n.merge("tutorialData.learnSkillMap",(0,f.get)(a,"learnSkillMap")||{})}},onError:(0,h.onError)("tutorial")};t.default={name:e,depends:[],signals:{addTutorialTag:[s("tagIds","tutorialData.skillMap")].concat(r(i())),addTutorialPackage:[s("packageIds","tutorialData.packageMap")].concat(r(i())),addTutorialTopic:[s("topicIds","tutorialData.topicMap")].concat(r(i())),addTutorialIndustry:[s("industryIds","tutorialData.industryMap")].concat(r(i())),deleteTutorialTag:[l("tagIds")].concat(r(i())),deleteTutorialPackage:[l("packageIds")].concat(r(i())),deleteTutorialTopic:[l("topicIds")].concat(r(i())),deleteTutorialIndustry:[l("industryIds")].concat(r(i())),addTutorialSkill:[s("skillIds")].concat(r(i())),deleteTutorialSkill:[l("skillIds")].concat(r(i())),moveSkillContent:[(0,h.MoveElementAction)(y.join(".")+".skillIds.value")],changeDetailsFormField:i(),saveTutorialDetails:[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(w),no:[]}],moveMaterial:[(0,h.MoveElementAction)(y.join(".")+".materials.value")],moveDocument:[(0,h.MoveElementAction)(y.join(".")+".documents.value")],removeAssetFieldInternal:[function(){return{value:{}}}].concat(r(i("asset"))),removeAssetField:[_.default.DeleteConfirmed("tutorial.removeAssetFieldInternal")],removeGroupFieldInternal:[function(){return{value:{}}}].concat(r(i("group"))),removeGroupField:[_.default.DeleteConfirmed("tutorial.removeGroupFieldInternal")],deleteDetailFormFieldItemConfirm:[_.default.DeleteConfirmed("tutorial.changeDetailsFormField")],resourceUpdated:[function(e){var t=e.state,a=e.props,n=e.controller;t.get("tutorialData").id===a.id&&n.getSignal("common.openForceResourceDialog")()}],syncTutorial:(0,p.CallHTTP)(E)},getServices:function(){return{}},getState:function(e){return{detailsForm:c(e.tutorialData)}}}}).call(t,"views/learn/modules/tutorial/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.state,a=e.projectData,n=l(a),r=_(a);t.set(T,n),t.set(P,r)}function i(e){var t=e.get(T),a=t.contentIds&&t.contentIds.value||[],n=e.get("projectData"),r=n.tutorialMap,o=n.quizMap,i=function(e){return!!(0,S.GetDataByItemId)({itemId:e,tutorialMap:r,quizMap:o})},s=t.isChallenge&&t.isChallenge.value,l=(e.get(P)||[]).map(function(e){var t=e.groupForm,a=t.contentIds&&t.contentIds.value||[];return{title:t.title&&t.title.value,contentIds:a.filter(i)}}),u=(0,y.get)(t,"estimationInHour.value")||0,c=(0,y.get)(t,"estimationInMinute.value")||0,d=(0,y.get)(t,"withManual.value"),f=d?60*u+c:0;return{skillLevel:t.skillLevel&&t.skillLevel.value,contentIds:a.filter(i),isChallenge:s,tutorialGroups:l,withManual:d,manualDuration:f}}function s(e){return[function(t){var a=t.props;return{field:[].concat(T,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(v.chains.fieldChanged),[v.chains.validate])}function l(e){var t=(0,y.get)(e,"withManual"),a=t?(0,y.get)(e,"manualDuration"):(0,y.get)(e,"duration"),n=(0,S.ParseMinute)(a),r=n.hour,o=n.minute;return(0,v.Form)({skillLevel:{value:(0,y.get)(e,"skillLevel")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},contentIds:{value:(0,y.get)(e,"draftContentIds")||[]},isChallenge:{value:(0,y.get)(e,"isChallenge",!1)},estimationInHour:{value:r},estimationInMinute:{value:o},withManual:{value:t}})}function u(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("projectData"),o=r.tutorialMap,i=r.quizMap,s=n.reduce(function(e,t){var a=(0,S.GetDataByItemId)({itemId:t,tutorialMap:o,quizMap:i});return a&&!0===a.published&&!0===a.public&&(e+=a.duration),e},0);a.set("projectData.duration",s)}function c(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("projectData"),o=r.tutorialMap,i=r.quizMap,s=(0,k.GetEstimationPoints)({contentIds:n,tutorialMap:o,quizMap:i});a.set("projectData.estimationPoints",s)}function d(e){var t=e.get("projectData"),a=l(t),n=e.get(T),r=Object.keys(n).every(function(e){return"contentIds"===e?a[e].value.length===n[e].value.length&&n[e].value.every(function(t,n){return t===a[e].value[n]}):a[e].value===n[e].value});if(r&&!0===n.isChallenge.value){var o=e.get(P),i=_(t);if(o.length!==i.length)return!1;r=o.every(function(e,t){if(!o[t]||!i[t])return!1;var a=o[t].groupForm,n=i[t].groupForm;return["title","contentIds"].every(function(e){return"contentIds"===e?n[e].value.length===a[e].value.length&&a[e].value.every(function(t,a){return t===n[e].value[a]}):a[e].value===n[e].value})})}return r}function f(e){return e=e||{},(0,v.Form)({title:{value:(0,y.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},contentIds:{value:(0,y.get)(e,"draftContentIds")||[]}})}function p(e){return[function(t){var a=t.props;return{field:[].concat(r(D(a.groupIndex)),[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(v.chains.fieldChanged),[v.chains.validate])}function m(e){var t=e.props,a=e.path;return"groupIndex"in t&&t.groupIndex>=0?a.yes(g({},t,{statePath:D(t.groupIndex).join(".")+".contentIds.value"})):a.no()}function h(e){var t=[];return(e.state.get("project.contentGroups")||[]).forEach(function(e){var a=e.groupForm,n=a.contentIds&&a.contentIds.value;t.push.apply(t,r(n))}),{value:(0,y.uniq)(t)}}function _(e){var t=(0,y.get)(e,"tutorialGroups")||[];return 0===t.length&&t.push(N),t.map(M)}Object.defineProperty(t,"__esModule",{value:!0});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertContentParams=i,t.getContentForm=l,t.isValidContentForm=function(e){return(0,v.isValidForm)(e.get(T))},t.contentFormSave=function(e,t){t.getSignal("project.saveProjectContent")()},t.contentFormSaveStatus=d,t.getContentGroupForm=f;var v=a(13),y=a(5),b=a(11),w=a(8),E=a(12),S=a(9),O=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),k=a(33),T=["project","contentForm"],P=["project","contentGroups"],C={message:"changes_saved_successfully",type:"info2"},j={schema:w.POST_PROJECT_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/project/"+t.get("projectData.id")+"/content",params:i(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("projectData",a),r.getSignal("header.showMessage")(C),o({state:n,projectData:a}))},onError:(0,S.onError)("project")},I={schema:w.GET_PROJECT_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("projectData.id"),n=!0===t.get("edit"),r=t.get("learner.parentIds")||{},o="/api/learn/project/"+a+"/extends",i=g({edit:n},r),s=t.get("common.uv");return s&&(i.uv=s),{endpoint:o,params:i}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=a.breadcrumb||{},i=a.checkpoint||{},s=a.collectMap||{};n.set("breadcrumb",r),n.set("checkpoint",i),n.merge("learner.collectMap",s);var l=a.projectData||{},u=l.contentIds||[],c=l.draftContentIds||[],d=l.tutorialGroups||[],f=l.statsMap||{},p=l.tutorialMap||{},m=l.quizMap||{},h=g({},n.get("projectData"));h.contentIds=u,h.draftContentIds=c,h.tutorialGroups=d,h.statsMap=g({},h.statsMap,f),h.tutorialMap=g({},h.tutorialMap,p),h.quizMap=g({},h.quizMap,m),n.set("projectData",h),o({state:n,projectData:h})}}},M=function(e){return e=e||{},g({},e,{groupForm:f(e)})},N={title:"",contentIds:[]},D=function(e){return[].concat(P,[e,"groupForm"])};t.default={name:e,depends:[],signals:{getProjectExtends:(0,b.CallHTTP)(I),changeContentFormField:s(),changeContentGroupFormField:p(),saveProjectContent:[function(){return{formPath:T}},[].concat(r(v.chains.formValidated)),function(e){var t=e.state,a=e.path;return d(t)?a.no():a.yes()},{yes:(0,b.CallHTTP)(j),no:[]}],deleteContentConfirm:[O.default.DeleteConfirmed("project.deleteContent")],addContent:[m,{yes:[function(e){var t=e.props,a=e.state,o=t.groupIndex,i=t.value.id,s=t.type;"tutorial"===s&&a.merge("projectData.tutorialMap",n({},i,t.value)),"quiz"===s&&a.merge("projectData.quizMap",n({},i,t.value));var l=(0,S.GetItemIdByType)({id:i,type:s}),u=a.get([].concat(r(D(o)),["contentIds"])).value;return{fieldName:"contentIds",value:(0,E.arrayInsert)(u,l),groupIndex:o}}].concat(r(p()),[h,u,c],r(s("contentIds"))),no:[function(e){var t=e.props,a=e.state,r=t.value.id,o=t.type;"tutorial"===o&&a.merge("projectData.tutorialMap",n({},r,t.value)),"quiz"===o&&a.merge("projectData.quizMap",n({},r,t.value));var i=(0,S.GetItemIdByType)({id:r,type:o}),s=a.get([].concat(T,["contentIds"])).value;return{fieldName:"contentIds",value:(0,E.arrayInsert)(s,i)}},u,c].concat(r(s()))}],deleteContent:[m,{yes:[function(e){var t=e.props,a=e.state,n=t.groupIndex,o=t.value.id,i=t.type,s=(0,S.GetItemIdByType)({id:o,type:i}),l=a.get([].concat(r(D(n)),["contentIds"])).value;return{fieldName:"contentIds",value:(0,E.arrayRemove)(l,s)}}].concat(r(p()),[h,u,c],r(s("contentIds"))),no:[function(e){var t=e.props,a=e.state,n=t.value.id,r=t.type,o=(0,S.GetItemIdByType)({id:n,type:r}),i=a.get([].concat(T,["contentIds"])).value;return{fieldName:"contentIds",value:(0,E.arrayRemove)(i,o)}},u,c].concat(r(s()))}],moveContent:[m,{yes:[(0,S.MoveElementAction)()],no:[(0,S.MoveElementAction)(T.join(".")+".contentIds.value")]}],createContentGroup:[function(e){var t=e.state,a=g({},N,{groupForm:f(N)}),n=t.get(P);n.push(a),t.set(P,n)}],removeContentGroupInternal:[function(e){var t=e.props,a=e.state,n=t.groupIndex,r=a.get(P);r.splice(n,1),a.set(P,r)}],removeContentGroup:[O.default.DeleteConfirmed("project.removeContentGroupInternal")]},getServices:function(){return{}},getState:function(e){var t=e.projectData;return{contentForm:l(t),contentGroups:_(t)}}}}).call(t,"views/learn/modules/project/CreateContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(y);return{points:(0,v.GetCurrentPointReward)(e),tagIds:t.tagIds&&t.tagIds.value||[],packageIds:t.packageIds&&t.packageIds.value||[],topicIds:t.topicIds&&t.topicIds.value||[],industryIds:t.industryIds&&t.industryIds.value||[],materials:t.materials&&t.materials.value||[],documents:t.documents&&t.documents.value||[],asset:t.asset&&t.asset.value||{},group:t.group&&t.group.value||{},authorId:(0,f.get)(t,"authorId.value",""),hidden:t.hidden.value,premium:t.premium.value,offline:t.offline.value,paymentItem:t.paymentItem.value||{}}}function i(e){return[function(t){var a=t.props;return{field:[].concat(y,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e,t){return(0,_.AddTagAction)(e,t,y)}function l(e){return(0,_.DeleteTagAction)(e,y)}function u(e){var t=e.get("projectData"),a=c(t),n=e.get(y);return!(0,v.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return(0,g.default)(e,a,n)})}function c(e){return(0,d.Form)({tagIds:{value:(0,f.get)(e,"tagIds")||[]},packageIds:{value:(0,f.get)(e,"packageIds")||[]},topicIds:{value:(0,f.get)(e,"topicIds")||[]},industryIds:{value:(0,f.get)(e,"industryIds")||[]},materials:{value:(0,f.get)(e,"materials")||[]},documents:{value:(0,f.get)(e,"documents")||[]},asset:{value:(0,f.get)(e,"asset",{})},group:{value:(0,f.get)(e,"group",{})},authorId:{value:(0,f.get)(e,"authorId","")},hidden:{value:(0,f.get)(e,"hidden",!1)},premium:{value:(0,f.get)(e,"premium",!1)},offline:{value:(0,f.get)(e,"offline",!1)},paymentItem:{value:(0,f.get)(e,"paymentItem",{})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.detailsFormSave=function(e,t){u(e)||t.getSignal("project.saveProjectDetails")()},t.detailsFormSaveStatus=u,t.getDetailsForm=c;var d=a(13),f=a(5),p=n(a(17)),m=a(11),h=a(8),_=a(9),g=n(a(23)),v=a(33),y=["project","detailsForm"],b={message:"changes_saved_successfully",type:"info2"},w={schema:h.POST_PROJECT_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/project/"+t.get("projectData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("projectData",a),n.set(y,c(a)),r.getSignal("header.showMessage")(b))},onError:(0,_.onError)("project")};t.default={name:e,depends:[],signals:{addProjectTag:[s("tagIds","projectData.skillMap")].concat(r(i())),addProjectPackage:[s("packageIds","projectData.packageMap")].concat(r(i())),addProjectTopic:[s("topicIds","projectData.topicMap")].concat(r(i())),addProjectIndustry:[s("industryIds","projectData.industryMap")].concat(r(i())),deleteProjectTag:[l("tagIds")].concat(r(i())),deleteProjectPackage:[l("packageIds")].concat(r(i())),deleteProjectTopic:[l("topicIds")].concat(r(i())),deleteProjectIndustry:[l("industryIds")].concat(r(i())),changeDetailsFormField:i(),saveProjectDetails:[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,m.CallHTTP)(w),no:[]}],moveMaterial:[(0,_.MoveElementAction)(y.join(".")+".materials.value")],moveDocument:[(0,_.MoveElementAction)(y.join(".")+".documents.value")],removeAssetFieldInternal:[function(){return{value:{}}}].concat(r(i("asset"))),removeAssetField:[p.default.DeleteConfirmed("project.removeAssetFieldInternal")],removeGroupFieldInternal:[function(){return{value:{}}}].concat(r(i("group"))),removeGroupField:[p.default.DeleteConfirmed("project.removeGroupFieldInternal")],deleteDetailFormFieldItemConfirm:[p.default.DeleteConfirmed("project.changeDetailsFormField")]},getServices:function(){return{}},getState:function(e){return{detailsForm:c(e.projectData)}}}}).call(t,"views/learn/modules/project/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return{questions:s(e),unityVersionRange:(0,y.GetCurrentUnityVersionRange)(e)}}function r(e){return[i,function(t){var a=t.state,n=t.props.index,r=a.get(E);r.length>n&&(0,m.get)(r,n+".quizFeedback")&&(delete r[n].quizFeedback[e],a.set(E,r))}]}function o(e){return[i,function(t){var a=t.state,n=t.props.index,r=a.get(E)||[],o=r[n].quizFeedback||{};(0,m.set)(o,e,JSON.stringify(T)),r[n].quizFeedback=p({},o),a.set(E,r)}]}function i(e){var t=e.state,a=s(t);t.set(E,a)}function s(e){return e.get(E).map(function(t,a){var n=(0,m.get)(t,"quizFeedback.correct");n=n&&((0,v.parseEditorContent)(e,"editorQuestionCorrect_"+a).body||n);var r=(0,m.get)(t,"quizFeedback.wrong");r=r&&((0,v.parseEditorContent)(e,"editorQuestionWrong_"+a).body||r);var o=(0,m.get)(t,"body"),i=(0,v.parseEditorContent)(e,"editor_quiz_question_"+a).body||o,s=p({},t);i&&(s.body=i);var u=l(t,a,e);return u&&u.length>0&&(s.options=u),(n||r)&&(s.quizFeedback={correct:n,wrong:r}),s})}function l(e,t,a){return((0,m.get)(e,"options")||[]).map(function(e,n){var r=(0,m.get)(e,"body"),o=(0,v.parseEditorContent)(a,"editor_quiz_question_"+t+"_option_"+n).body||r,i=p({},e);return o&&(i.body=o),i})}function u(e){var t=e.get("quizData"),a=e.get("quiz"),n=(0,m.get)(t,"questions"),r=(0,m.get)(a,"questions");if((0,y.UnityVersionSaveStatus)(e,t))return!1;return r.length===n.length&&r.every(function(e,t){var a=n[t],r=(0,g.cleanKeyForEditorBody)((0,m.get)(a,"body")),o=(0,g.cleanKeyForEditorBody)((0,m.get)(e,"body")),i=(0,g.cleanKeyForEditorBody)((0,m.get)(a,"quizFeedback.correct")||""),s=(0,g.cleanKeyForEditorBody)((0,m.get)(e,"quizFeedback.correct")||""),l=(0,g.cleanKeyForEditorBody)((0,m.get)(a,"quizFeedback.wrong")||""),u=(0,g.cleanKeyForEditorBody)((0,m.get)(e,"quizFeedback.wrong")||""),p=(0,m.get)(a,"shuffleOptions"),h=(0,m.get)(e,"shuffleOptions");return!!(f(r,o)&&f(i,s)&&f(l,u)&&p===h)&&(d(a,e)&&c(a,e))})}function c(e,t){var a=(0,m.get)(e,"options")||[],n=(0,m.get)(t,"options")||[];return a.length===n.length&&n.every(function(e,t){var n=a[t],r=(0,g.cleanKeyForEditorBody)((0,m.get)(n,"body")),o=(0,g.cleanKeyForEditorBody)((0,m.get)(e,"body")),i=(0,m.get)(n,"correct")||!1,s=(0,m.get)(e,"correct")||!1;return!(!f(r,o)||i!==s)})}function d(e,t){var a=(0,m.get)(e,"skillIds")||[],n=(0,m.get)(t,"skillIds")||[];return a.length===n.length&&n.every(function(e,t){return e===a[t]})}function f(e,t){return e===t||!(!e||(0,v.getDraftPlainText)(e)||!t||(0,v.getDraftPlainText)(t))}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertQuestionsParams=n,t.questionsFormSave=function(e,t){t.getSignal("quiz.saveQuizQuestions")()};var m=a(5),h=a(11),_=a(8),g=a(9),v=a(21),y=a(58),b=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),w=a(67),E="quiz.questions",S={message:"changes_saved_successfully",type:"info2"},O={schema:_.POST_QUIZ_QUESTIONS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/quiz/"+t.get("quizData.id")+"/questions",params:n(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;if(200===t&&a){n.merge("quizData",a),n.set("quiz.detailsForm",(0,w.getDetailsForm)(a,!0,n));var o=(0,m.get)(a,"questions");n.set(E,JSON.parse(JSON.stringify(o))),r.getSignal("header.showMessage")(S)}},onError:(0,g.onError)("quiz")},k={schema:_.GET_QUIZ_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=a.get("quizData.id"),r=!0===a.get("edit"),o=!0===t.detail,i=a.get("learner.parentIds")||{},s="/api/learn/quiz/"+n+"/extends",l=p({edit:r,detail:o},i),u=a.get("common.uv");return u&&(l.uv=u),{endpoint:s,params:l}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,m.get)(a,"quizData"),o=(0,m.get)(r,"questions"),i=(0,m.get)(r,"contentMap"),s=(0,m.get)(r,"recommendMap"),l=(0,m.get)(r,"statsMap"),u=(0,m.get)(a,"breadcrumb")||{},c=(0,m.get)(a,"checkpoint")||{},d=(0,m.get)(a,"collectMap")||{};n.set("breadcrumb",u),n.set("checkpoint",c),n.set(E,JSON.parse(JSON.stringify(o))),n.set("quizData.questions",o),n.set("quizData.contentMap",i),n.set("quizData.recommendMap",s),n.merge("quizData.statsMap",l),n.set("editor.contentMap",i),n.merge("learner.collectMap",d)}}},T={blocks:[{key:"b0000",text:"",type:"unstyled",depth:0,entityRanges:null,inlineStyleRanges:null}],entityMap:{}};t.default={name:e,depends:[],signals:{getQuizExtends:(0,h.CallHTTP)(k),createQuizQuestion:[i,function(e){var t=e.state,a={body:JSON.stringify(T),contentIds:[],skillIds:[],shuffleOptions:!1,options:[{body:JSON.stringify(T),correct:!1},{body:JSON.stringify(T),correct:!1}]},n=t.get(E);n.push(a),t.set(E,n)}],createQuizOption:[i,function(e){var t=e.props,a=e.state,n=t.index,r=a.get(E);if(n<r.length){var o={body:JSON.stringify(T)},i=(0,m.get)(r,n+".options")||[];i.push(o),r[n].options=i,a.set(E,r)}}],saveQuizQuestions:[i,function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,h.CallHTTP)(O),no:[]}],moveQuestion:[i,(0,g.MoveElementAction)(E)],deleteQuestion:[i,function(e){var t=e.state,a=e.props.index,n=t.get(E);n.length>a&&(n.splice(a,1),t.set(E,n))}],deleteOption:[i,function(e){var t=e.state,a=e.props,n=a.parentIndex,r=a.index,o=t.get(E);if(o.length>n){var i=(0,m.get)(o,n+".options")||[];i.length>r&&(i.splice(r,1),t.set(E,o))}}],deleteCorrectFeedback:r("correct"),deleteWrongFeedback:r("wrong"),changeShuffleOptions:[i,function(e){var t=e.state,a=e.props.index,n=t.get(E);if(n.length>a){var r=n[a].shuffleOptions;n[a].shuffleOptions=!r,t.set(E,n)}}],changeOptionCorrect:[i,function(e){var t=e.state,a=e.props,n=a.parentIndex,r=a.index,o=t.get(E);if(o.length>n){var i=o[n].options||[];if(i.length>r){var s=i[r],l=s.correct;s.correct=!l,t.set(E,o)}}}],createCorrectFeedback:o("correct"),createWrongFeedback:o("wrong"),deleteQuestionConfirm:[b.default.DeleteConfirmed("quiz.deleteQuestion")],deleteOptionConfirm:[b.default.DeleteConfirmed("quiz.deleteOption")],deleteCorrectFeedbackConfirm:[b.default.DeleteConfirmed("quiz.deleteCorrectFeedback")],deleteWrongFeedbackConfirm:[b.default.DeleteConfirmed("quiz.deleteWrongFeedback")],addQuestionSkill:[(0,g.AddSliceFieldAction)("skillIds",E.split("."))],deleteQuestionSkill:[(0,g.DeleteSliceFieldAction)("skillIds",E.split("."))],moveQuestionSkill:[function(e){var t=e.props;return{statePath:E+"."+t.questionIndex+".skillIds"}},(0,g.MoveElementAction)()]},getServices:function(){return{}},getState:function(e){var t=e.quizData;return{questions:(0,m.get)(t,"questions")||[]}}}}).call(t,"views/learn/modules/quiz/CreateQuestionsStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.state,a=l(e.courseData);t.set(w,a)}function i(e){var t=e.get(w),a=t.contentIds&&t.contentIds.value||[],n=e.get("courseData"),r=n.tutorialMap,o=n.projectMap,i=n.quizMap,s=(0,m.get)(t,"estimationInHour.value")||0,l=(0,m.get)(t,"estimationInMinute.value")||0,u=(0,m.get)(t,"withManual.value"),c=u?60*s+l:0;return{skillLevel:t.skillLevel&&t.skillLevel.value,contentIds:a.filter(function(e){return!!(0,v.GetDataByItemId)({itemId:e,tutorialMap:r,projectMap:o,quizMap:i})}),withManual:u,manualDuration:c}}function s(e){return[function(t){var a=t.props;return{field:[].concat(w,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(p.chains.fieldChanged),[p.chains.validate])}function l(e){var t=(0,m.get)(e,"withManual"),a=t?(0,m.get)(e,"manualDuration"):(0,m.get)(e,"duration"),n=(0,v.ParseMinute)(a),r=n.hour,o=n.minute;return(0,p.Form)({skillLevel:{value:(0,m.get)(e,"skillLevel")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},contentIds:{value:(0,m.get)(e,"draftContentIds")||[]},estimationInHour:{value:r},estimationInMinute:{value:o},withManual:{value:t}})}function u(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("courseData"),o=r.tutorialMap,i=r.projectMap,s=r.quizMap,l=n.reduce(function(e,t){var a=(0,v.GetDataByItemId)({itemId:t,tutorialMap:o,projectMap:i,quizMap:s});return a&&!0===a.published&&!0===a.public&&(e+=a.duration),e},0);a.set("courseData.duration",l)}function c(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("courseData"),o=r.tutorialMap,i=r.projectMap,s=r.quizMap,l=(0,b.GetEstimationPoints)({contentIds:n,tutorialMap:o,quizMap:s,projectMap:i});a.set("courseData.estimationPoints",l)}function d(e){var t=l(e.get("courseData")),a=e.get(w);return Object.keys(a).every(function(e){return"contentIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertContentParams=i,t.getContentForm=l,t.contentFormSave=function(e,t){t.getSignal("course.saveCourseContent")()},t.isValidContentForm=function(e){return(0,p.isValidForm)(e.get(w))},t.contentFormSaveStatus=d;var p=a(13),m=a(5),h=a(11),_=a(8),g=a(12),v=a(9),y=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),b=a(33),w=["course","contentForm"],E={message:"changes_saved_successfully",type:"info2"},S={schema:_.POST_COURSE_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/course/"+t.get("courseData.id")+"/content",params:i(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("courseData",a),r.getSignal("header.showMessage")(E),o({state:n,courseData:a}))},onError:(0,v.onError)("course")},O={schema:_.GET_COURSE_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("courseData.id"),n=!0===t.get("edit"),r=t.get("learner.parentIds")||{},o="/api/learn/course/"+a+"/extends",i=f({edit:n},r),s=t.get("common.uv");return s&&(i.uv=s),{endpoint:o,params:i}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=a.breadcrumb||{},i=a.checkpoint||{},s=a.collectMap||{};n.set("breadcrumb",r),n.set("checkpoint",i),n.merge("learner.collectMap",s);var l=a.courseData||{},u=l.contentIds||[],c=l.draftContentIds||[],d=l.statsMap||{},p=l.tutorialMap||{},m=l.quizMap||{},h=l.projectMap||{},_=f({},n.get("courseData"));_.contentIds=u,_.draftContentIds=c,_.statsMap=f({},_.statsMap,d),_.tutorialMap=f({},_.tutorialMap,p),_.quizMap=f({},_.quizMap,m),_.projectMap=f({},_.projectMap,h),n.set("courseData",_),o({state:n,courseData:_})}}};t.default={name:e,depends:[],signals:{getCourseExtends:(0,h.CallHTTP)(O),changeContentFormField:s(),saveCourseContent:[function(){return{formPath:w}}].concat(r(p.chains.formValidated),[function(e){var t=e.state,a=e.path;return d(t)?a.no():a.yes()},{yes:(0,h.CallHTTP)(S),no:[]}]),deleteContentConfirm:[y.default.DeleteConfirmed("course.deleteContent")],addContent:[function(e){var t=e.props,a=e.state,r=t.value.id,o=t.type;o===_.DataTypeKeys.tutorial&&a.merge("courseData.tutorialMap",n({},r,t.value)),o===_.DataTypeKeys.project&&a.merge("courseData.projectMap",n({},r,t.value)),o===_.DataTypeKeys.quiz&&a.merge("courseData.quizMap",n({},r,t.value));var i=(0,v.GetItemIdByType)({id:r,type:o}),s=a.get([].concat(w,["contentIds"])).value;return{fieldName:"contentIds",value:(0,g.arrayInsert)(s,i)}},u,c].concat(r(s())),deleteContent:[function(e){var t=e.props,a=e.state,n=t.value.id,r=t.type,o=(0,v.GetItemIdByType)({id:n,type:r}),i=a.get([].concat(w,["contentIds"])).value;return{fieldName:"contentIds",value:(0,g.arrayRemove)(i,o)}},u,c].concat(r(s())),moveContent:[(0,v.MoveElementAction)(w.join(".")+".contentIds.value")]},getServices:function(){return{}},getState:function(e){return{contentForm:l(e.courseData)}}}}).call(t,"views/learn/modules/course/CreateContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(y);return{points:(0,v.GetCurrentPointReward)(e),tagIds:t.tagIds&&t.tagIds.value||[],packageIds:t.packageIds&&t.packageIds.value||[],topicIds:t.topicIds&&t.topicIds.value||[],industryIds:t.industryIds&&t.industryIds.value||[],materials:t.materials&&t.materials.value||[],documents:t.documents&&t.documents.value||[],asset:t.asset&&t.asset.value||{},group:t.group&&t.group.value||{},authorId:(0,f.get)(t,"authorId.value",""),hidden:t.hidden.value,premium:t.premium.value,offline:t.offline.value,paymentItem:t.paymentItem.value||{}}}function i(e){return[function(t){var a=t.props;return{field:[].concat(y,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e,t){return(0,h.AddTagAction)(e,t,y)}function l(e){return(0,h.DeleteTagAction)(e,y)}function u(e){var t=e.get("courseData"),a=c(t),n=e.get(y);return!(0,v.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return(0,g.default)(e,a,n)})}function c(e){return(0,d.Form)({tagIds:{value:(0,f.get)(e,"tagIds")||[]},packageIds:{value:(0,f.get)(e,"packageIds")||[]},topicIds:{value:(0,f.get)(e,"topicIds")||[]},industryIds:{value:(0,f.get)(e,"industryIds")||[]},materials:{value:(0,f.get)(e,"materials")||[]},documents:{value:(0,f.get)(e,"documents")||[]},asset:{value:(0,f.get)(e,"asset",{})},group:{value:(0,f.get)(e,"group",{})},authorId:{value:(0,f.get)(e,"authorId","")},hidden:{value:(0,f.get)(e,"hidden",!1)},premium:{value:(0,f.get)(e,"premium",!1)},offline:{value:(0,f.get)(e,"offline",!1)},paymentItem:{value:(0,f.get)(e,"paymentItem",{})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.detailsFormSave=function(e,t){u(e)||t.getSignal("course.saveCourseDetails")()},t.detailsFormSaveStatus=u,t.getDetailsForm=c;var d=a(13),f=a(5),p=a(11),m=a(8),h=a(9),_=n(a(17)),g=n(a(23)),v=a(33),y=["course","detailsForm"],b={message:"changes_saved_successfully",type:"info2"},w={schema:m.POST_COURSE_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/course/"+t.get("courseData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("courseData",a),n.set(y,c(a)),r.getSignal("header.showMessage")(b))},onError:(0,h.onError)("course")};t.default={name:e,depends:[],signals:{addCourseTag:[s("tagIds","courseData.skillMap")].concat(r(i())),addCoursePackage:[s("packageIds","courseData.packageMap")].concat(r(i())),addCourseTopic:[s("topicIds","courseData.topicMap")].concat(r(i())),addCourseIndustry:[s("industryIds","courseData.industryMap")].concat(r(i())),deleteCourseTag:[l("tagIds")].concat(r(i())),deleteCoursePackage:[l("packageIds")].concat(r(i())),deleteCourseTopic:[l("topicIds")].concat(r(i())),deleteCourseIndustry:[l("industryIds")].concat(r(i())),changeDetailsFormField:i(),saveCourseDetails:[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(w),no:[]}],moveMaterial:[(0,h.MoveElementAction)(y.join(".")+".materials.value")],moveDocument:[(0,h.MoveElementAction)(y.join(".")+".documents.value")],removeAssetFieldInternal:[function(){return{value:{}}}].concat(r(i("asset"))),removeAssetField:[_.default.DeleteConfirmed("course.removeAssetFieldInternal")],removeGroupFieldInternal:[function(){return{value:{}}}].concat(r(i("group"))),removeGroupField:[_.default.DeleteConfirmed("course.removeGroupFieldInternal")],deleteDetailFormFieldItemConfirm:[_.default.DeleteConfirmed("course.changeDetailsFormField")]},getServices:function(){return{}},getState:function(e){return{detailsForm:c(e.courseData)}}}}).call(t,"views/learn/modules/course/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(S),a={title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,badgeThumbnailId:t.badgeThumbnail&&t.badgeThumbnail.value&&t.badgeThumbnail.value.id,competencyIds:t.competencyIds&&t.competencyIds.value||[],overviewVideoId:(0,d.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,d.get)(t,"overviewVideoTitle.value","")},n=e.get("missionData"),r=(0,m.parseEditorContent)(e,O).body;return r||(r=(0,d.get)(n,"description")),r&&(a.description=r),u({},a)}function o(e){return[function(t){var a=t.props;return{field:[].concat(S,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e){return(0,c.isValidForm)(e.get(S))}function s(e){var t=l(e.get("missionData")),a=e.get(S);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"badgeThumbnail":case"overviewVideo":return(0,d.get)(t[e],"value.id")===(0,d.get)(a[e],"value.id");case"description":return t[e].value.trim()===a[e].value.trim();case"competencyIds":return t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]})}return t[e].value===a[e].value})}function l(e){var t=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"description"))).getPlainText(),a=(0,d.get)(e,"overviewVideo.title")||(0,d.get)(e,"title")||"";return(0,c.Form)({title:{value:(0,d.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,d.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},badgeThumbnail:{value:(0,d.get)(e,"badgeThumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},competencyIds:{value:(0,d.get)(e,"draftCompetencyIds")||[]},overviewVideo:{value:(0,d.get)(e,"overviewVideo")},overviewVideoTitle:{value:a}})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("mission.saveGeneralInfo")()},t.generalResetSearch=function(e){e.set("search",{criteria:{k:JSON.stringify(["t:competency"])}})},t.generalFormSaveStatus=s;var c=a(13),d=a(5),f=a(11),p=a(8),m=a(21),h=a(10),_=a(9),g=a(57),v=a(63),y=a(64),b=a(108),w=function(e){return e&&e.__esModule?e:{default:e}}(a(31)),E=a(23),S=["mission","generalForm"],O="editorMissionDescription",k={message:"changes_saved_successfully",type:"info2"},T={schema:p.POST_MISSION_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/general",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),"a"===n.get("common.tab")&&r.getSignal("mission.assessmentResetSearch")(),r.getSignal("header.showMessage")(k))},onError:(0,_.onError)("mission")},P={schema:p.POST_MISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/validate",params:u({},r(t),(0,g.convertAssessmentsParams)(t),(0,v.convertRecommendationsParams)(t),(0,y.convertMapParams)(t),(0,b.convertDetailsParams)(t))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;if(200===t&&a){var o=n.get("learnMissionVersion")||[];a.isChangeVersion?(o.length<1&&(r.getSignal("mission.saveCreateVersion")(),r.getSignal("mission.publishMissionStatus")()),r.getSignal("mission.currentChangeIds")(),r.getSignal("common.openVersionModal")({versionStatus:"change"})):r.getSignal("mission.publishMissionStatus")()}},onError:(0,_.onError)("mission")},C={schema:p.PUBLISH_MISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("missionData"),o=(0,d.get)(n,"id"),i=(0,d.get)(n,"source"),s="/api/learn/mission/"+o+"/publish",l=u({},r(t),(0,g.convertAssessmentsParams)(t),(0,v.convertRecommendationsParams)(t),(0,y.convertMapParams)(t),(0,b.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,d.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:_.onPublishSuccess,onError:(0,_.onError)("mission")},j=[function(){return{formPath:S}}].concat(n(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(T),no:[]}]);t.default={name:e,depends:[],signals:{changeGeneralFormField:o(),changeDescription:o("description"),saveGeneralInfo:j,publishMissionInternal:(0,f.CallHTTP)(P),publishMissionStatus:[E.SetPublished].concat(n((0,f.CallHTTP)(C))),publishMission:[w.default.SaveRequired("mission.publishMissionInternal","publish")],checkFormStatus:[function(e){var t=e.state;i(t)&&(0,g.isValidAssessmentsForm)(t)&&(0,v.isValidRecommendationsForm)(t)&&(0,y.isValidMapForm)(t)&&(0,b.isValidDetailsForm)(t)?t.set("mission.isPublishDisabled",!0):t.set("mission.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:l(e.missionData)}}}}).call(t,"views/learn/modules/mission/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(_),a=t.freeAssets&&t.freeAssets.value||[];return{points:(0,h.GetCurrentPointReward)(e),freeAssets:a}}function o(e){return[function(t){var a=t.props;return{field:[].concat(_,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function i(e){return(0,l.Form)({freeAssets:{value:(0,u.get)(e,"freeAssets")||[]}})}function s(e){var t=e.get("missionData"),a=i(t),n=e.get(_);return!(0,h.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return"freeAssets"===e?a[e].value.length===n[e].value.length&&n[e].value.every(function(t,n){var r=a[e].value[n];return t.note===r.note&&t.packageId===r.packageId}):a[e].value===n[e].value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=r,t.getDetailsForm=i,t.detailsFormSave=function(e,t){t.getSignal("mission.saveMissionDetails")()},t.isValidDetailsForm=function(e){return(0,l.isValidForm)(e.get(_))&&(0,h.ValidPoints)(e)},t.detailsFormSaveStatus=s;var l=a(13),u=a(5),c=a(11),d=a(8),f=a(12),p=a(9),m=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),h=a(33),_=["mission","detailsForm"],g={message:"changes_saved_successfully",type:"info2"},v={schema:d.POST_MISSION_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/details",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),r.getSignal("header.showMessage")(g))},onError:(0,p.onError)("mission")};t.default={name:e,depends:[],signals:{changeDetailsFormField:o(),addAsset:[function(e){var t=e.props,a=e.state,r=t.value,o=a.get([].concat(_,["freeAssets"])).value,i=[].concat(n(o));return o.findIndex(function(e){return e.packageId===r.packageId})<0&&(r.note="",i.push(r)),{fieldName:"freeAssets",value:i}}].concat(n(o())),deleteAssetConfirm:[m.default.DeleteConfirmed("mission.deleteAsset")],deleteAsset:[function(e){var t=e.props,a=e.state,n=t.value,r=a.get([].concat(_,["freeAssets"])).value;return{fieldName:"freeAssets",value:(0,f.arrayRemove)(r,n)}}].concat(n(o())),changeAssetFormNote:[function(e){var t=e.props,a=e.state,n=t.value,r=t.index,o=a.get([].concat(_,["freeAssets"])).value;return o[r].note=n,{fieldName:"freeAssets",value:o}}].concat(n(o())),saveMissionDetails:[function(){return{formPath:_}}].concat(n(l.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,c.CallHTTP)(v),no:[]}])},getState:function(e){return{detailsForm:i(e.missionData)}}}}).call(t,"views/learn/modules/mission/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(b);return{points:(0,y.GetCurrentPointReward)(e),group:t.group&&t.group.value||{},highlightIds:t.highlightIds&&t.highlightIds.value||[]}}function i(e){return[function(t){var a=t.props;return{field:[].concat(b,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(f.chains.fieldChanged),[f.chains.validate])}function s(e){var t=e.state,a=l(e.pathwayData);t.set(b,a)}function l(e){return(0,f.Form)({group:{value:(0,p.get)(e,"group",null)},highlightIds:{value:(0,p.get)(e,"highlightIds")||[]}})}function u(e){var t=e.get("pathwayData"),a=l(t),n=e.get(b);return!(0,y.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){var t=a[e].value,r=n[e].value;return"group"===e?t===r||!!t&&!!r&&t.groupId===r.groupId&&t.url===r.url:"highlightIds"===e?t.length===r.length&&r.every(function(e,a){return e===t[a]}):t===r})}function c(e){var t=e.props,a=e.state,r=t.value,o=r.id,i=r.type,s=(0,v.GetItemIdByType)({id:o,type:i});a.merge("pathwayData."+i+"Map",n({},o,r));var l=a.get([].concat(b,["highlightIds"])).value;return{fieldName:"highlightIds",value:(0,g.arrayInsert)(l,s)}}function d(e){var t=e.props,a=e.state,n=t.value,r=n.id,o=n.type,i=(0,v.GetItemIdByType)({id:r,type:o}),s=a.get([].concat(b,["highlightIds"])).value;return{fieldName:"highlightIds",value:(0,g.arrayRemove)(s,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.getDetailsForm=l,t.detailsFormSave=function(e,t){t.getSignal("pathway.savePathwayDetails")()},t.isValidDetailsForm=function(e){return(0,f.isValidForm)(e.get(b))&&(0,y.ValidPoints)(e)},t.detailsFormSaveStatus=u,t.addHighlight=c,t.deleteHighlight=d;var f=a(13),p=a(5),m=a(11),h=a(8),_=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),g=a(12),v=a(9),y=a(33),b=["pathway","detailsForm"],w={message:"changes_saved_successfully",type:"info2"},E={schema:h.POST_PATHWAY_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("pathwayData",a),r.getSignal("header.showMessage")(w),s({state:n,pathwayData:a}))},onError:(0,v.onError)("pathway")};t.default={name:e,depends:[],signals:{changeDetailsFormField:i(),addHighlight:[c].concat(r(i())),deleteHighlightConfirm:[_.default.DeleteConfirmed("pathway.deleteHighlight")],deleteHighlight:[d].concat(r(i())),deleteGroupConfirm:[_.default.DeleteConfirmed("pathway.deleteGroup")],deleteGroup:[function(){return{value:null}}].concat(r(i("group"))),savePathwayDetails:[function(){return{formPath:b}}].concat(r(f.chains.formValidated),[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,m.CallHTTP)(E),no:[]}])},getState:function(e){return{detailsForm:l(e.pathwayData)}}}}).call(t,"views/learn/modules/pathway/CreateDetailsStore.js")},function(e,t,a){e.exports=a.p+"../styles/i/player@2x.21e68022b8d193174dd7c86aaf615a32.png"},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(v),a=(0,d.get)(t,"contentIds.value")||[],n=(0,d.get)(t,"utcOffset.value"),r=(0,d.get)(t,"skillLevel.value"),o=(0,d.get)(t,"registerUrl.value"),i=(0,d.get)(t,"previousVideo.value.id",""),s=(0,d.get)(t,"previousVideoTitle.value",""),l=e.get("liveSessionData"),u=l.tutorialMap,c=l.projectMap,f=l.courseMap;return{skillLevel:r,utcOffset:n,registerUrl:o,begin:(0,_.GetRangeTimeObject)((0,d.get)(t,"rangeTime.value")),contentIds:a.filter(function(e){return!!(0,g.GetDataByItemId)({itemId:e,tutorialMap:u,projectMap:c,courseMap:f})}),previousVideoId:i,previousVideoTitle:s}}function i(e){return[function(t){var a=t.props;return{field:[].concat(v,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(c.chains.fieldChanged),[c.chains.validate])}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=parseInt(t,10);var a=(0,d.get)(e,"utcOffset",t);0===a&&(a=t);var n=(0,d.get)(e,"previousVideo.title")||(0,d.get)(e,"title")||"";return(0,c.Form)({skillLevel:{value:(0,d.get)(e,"skillLevel")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},rangeTime:{value:(0,_.GetRangeTimeValue)(e.rangeTime),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},utcOffset:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},registerUrl:{value:(0,d.get)(e,"registerUrl"),validations:["isValue","isUrl"],errorMessages:["error_isRequired","error_URL"],isRequired:!0},duration:{value:(0,d.get)(e,"duration"),validations:["isValue","lessZero"],errorMessages:["error_isRequired","error_lessZero"],isRequired:!0},contentIds:{value:(0,d.get)(e,"draftContentIds")||[]},previousVideo:{value:(0,d.get)(e,"previousVideo")},previousVideoTitle:{value:n}})}function l(e){var t=s(e.get("liveSessionData"),e.get("utcOffset")),a=e.get(v);return Object.keys(a).every(function(e){return"contentIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):"previousVideo"===e?(0,d.get)(t,e+".value.id")===(0,d.get)(a,e+".value.id"):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertContentParams=o,t.getContentForm=s,t.contentFormSave=function(e,t){t.getSignal("liveSession.saveLiveSessionContent")()},t.isValidContentForm=function(e){return(0,c.isValidForm)(e.get(v))},t.contentFormSaveStatus=l;var c=a(13),d=a(5),f=a(11),p=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),m=a(8),h=a(12),_=a(79),g=a(9),v=["liveSession","contentForm"],y={message:"changes_saved_successfully",type:"info2"},b={schema:m.POST_LIVE_SESSION_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/liveSession/"+t.get("liveSessionData.id")+"/content",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("liveSessionData",a),r.getSignal("header.showMessage")(y))},onError:(0,g.onError)("liveSession")};t.default={name:e,depends:[],signals:{changeContentFormField:i(),saveLiveSessionContent:[function(){return{formPath:v}}].concat(r(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(b),no:[]}]),deleteContentConfirm:[p.default.DeleteConfirmed("liveSession.deleteContent")],addContent:[function(e){var t=e.state,a=e.controller,n=e.path;return t.get([].concat(v,["contentIds"])).value.length>0?(a.getSignal("header.showMessage")({message:"liveSession_contentIds_max_1"}),n.no()):n.yes()},{yes:[function(e){var t=e.props,a=e.state,r=t.value.id,o=t.type,i=["liveSessionData"];o===m.DataTypeKeys.tutorial?i.push("tutorialMap"):o===m.DataTypeKeys.project?i.push("projectMap"):o===m.DataTypeKeys.course&&i.push("courseMap"),a.merge(i,n({},r,t.value));var s=(0,g.GetItemIdByType)({id:r,type:o}),l=a.get([].concat(v,["contentIds"])).value;return{fieldName:"contentIds",value:(0,h.arrayInsert)(l,s)}}].concat(r(i())),no:[]}],deleteContent:[function(e){var t=e.props,a=e.state,n=t.value.id,r=t.type,o=(0,g.GetItemIdByType)({id:n,type:r}),i=a.get([].concat(v,["contentIds"])).value;return{fieldName:"contentIds",value:(0,h.arrayRemove)(i,o)}}].concat(r(i())),changeRangeTime:[function(e){var t=e.props,a=e.state,n=e.path,r=t.beginStartDate,o=t.beginEndDate,i=t.beginStartHour,s=t.beginEndHour,l=t.beginStartMinute,c=t.beginEndMinute,f=(0,_.OmitUndefined)({date:r,hour:i,minute:l}),p=(0,_.OmitUndefined)({date:o,hour:s,minute:c}),h=a.get(v),g=(0,_.GetRangeTimeObject)((0,d.get)(h,"rangeTime.value")),y=(0,d.get)(h,"utcOffset.value"),b=(0,_.ParseTime)((0,d.get)(g,"startTime"),y),w=(0,_.ParseTime)((0,d.get)(g,"endTime"),y);if(Object.keys(f).length>0){(b=u({},b,f)).date||(b.date=(0,_.GetMomentNow)(y).format(m.DateFormat.date));var E=(0,_.GetRangeTimeValue)({startTime:(0,_.GetTimeValue)(b,y),endTime:(0,_.GetTimeValue)(w,y)});return n.yes({value:E})}if(Object.keys(p).length>0){(w=u({},w,p)).date||(w.date=(0,_.GetMomentNow)(y).format(m.DateFormat.date));var S=(0,_.GetRangeTimeValue)({startTime:(0,_.GetTimeValue)(b,y),endTime:(0,_.GetTimeValue)(w,y)});return n.yes({value:S})}return n.no()},{yes:[].concat(r(i("rangeTime")),[function(e){var t=e.state.get(v),a=(0,_.GetRangeTimeObject)((0,d.get)(t,"rangeTime.value")),n=(0,d.get)(t,"utcOffset.value"),r=(0,_.GetMomentTimeByValue)((0,d.get)(a,"startTime"),n),o=(0,_.GetMomentTimeByValue)((0,d.get)(a,"endTime"),n);return r&&o?{fieldName:"duration",value:o.diff(r,"minute")}:{fieldName:"duration",value:0}}],r(i())),no:[]}]},getServices:function(){return{}},getState:function(e){return{contentForm:s(e.liveSessionData,e.utcOffset)}}}}).call(t,"views/learn/modules/liveSession/CreateContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(h);return{topicIds:t.topicIds&&t.topicIds.value||[],industryIds:t.industryIds&&t.industryIds.value||[],hidden:t.hidden.value,premium:t.premium.value}}function o(e){return[function(t){var a=t.props;return{field:[].concat(h,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e,t){return(0,m.AddTagAction)(e,t,h)}function s(e){return(0,m.DeleteTagAction)(e,h)}function l(e){var t=u(e.get("liveSessionData")),a=e.get(h);return Object.keys(a).every(function(e){return t[e].value.length===a[e].value.length&&("hidden"===e||"premium"===e?t[e].value===a[e].value:a[e].value.every(function(a,n){return a===t[e].value[n]}))})}function u(e){return(0,c.Form)({topicIds:{value:(0,d.get)(e,"topicIds")||[]},industryIds:{value:(0,d.get)(e,"industryIds")||[]},hidden:{value:(0,d.get)(e,"hidden",!1)},premium:{value:(0,d.get)(e,"premium",!1)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=r,t.detailsFormSave=function(e,t){l(e)||t.getSignal("liveSession.saveLiveSessionDetails")()},t.detailsFormSaveStatus=l;var c=a(13),d=a(5),f=a(11),p=a(8),m=a(9),h=["liveSession","detailsForm"],_={message:"changes_saved_successfully",type:"info2"},g={schema:p.POST_LIVE_SESSION_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/liveSession/"+t.get("liveSessionData.id")+"/details",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("liveSessionData",a),n.set(h,u(a)),r.getSignal("header.showMessage")(_))},onError:(0,m.onError)("liveSession")};t.default={name:e,depends:[],signals:{addLiveSessionTopic:[i("topicIds","liveSessionData.topicMap")].concat(n(o())),addLiveSessionIndustry:[i("industryIds","liveSessionData.industryMap")].concat(n(o())),deleteLiveSessionTopic:[s("topicIds")].concat(n(o())),deleteLiveSessionIndustry:[s("industryIds")].concat(n(o())),changeDetailsFormField:o(),saveLiveSessionDetails:[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(g),no:[]}]},getServices:function(){return{}},getState:function(e){return{detailsForm:u(e.liveSessionData)}}}}).call(t,"views/learn/modules/liveSession/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.state,a=s(t.get("skillData"));t.set(v,a)}function o(e){var t=e.get(v),a=t.contentIds&&t.contentIds.value||[],n=e.get("skillData"),r=n.tutorialMap,o=n.projectMap,i=n.quizMap,s=(0,d.get)(t,"estimationInHour.value")||0,l=(0,d.get)(t,"estimationInMinute.value")||0,u=(0,d.get)(t,"withManual.value"),c=u?60*s+l:0;return{skillLevel:t.skillLevel&&t.skillLevel.value,contentIds:a.filter(function(e){return!!(0,h.GetDataByItemId)({itemId:e,tutorialMap:r,projectMap:o,quizMap:i})}),withManual:u,manualDuration:c}}function i(e){return[function(t){var a=t.props;return{field:[].concat(v,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function s(e){return(0,c.Form)({contentIds:{value:(0,d.get)(e,"draftContentIds")||[]}})}function l(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("skillData").tutorialMap,o=n.reduce(function(e,t){var a=(0,h.GetDataByItemId)({itemId:t,tutorialMap:r});return a&&!0===a.published&&!0===a.public&&(e+=a.duration),e},0);a.set("skillData.duration",o)}function u(e){var t=s(e.get("skillData")),a=e.get(v);return Object.keys(a).every(function(e){return"contentIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertContentParams=o,t.getContentForm=s,t.contentFormSave=function(e,t){t.getSignal("skill.saveSkillContent")()},t.isValidContentForm=function(e){return(0,c.isValidForm)(e.get(v))},t.contentFormSaveStatus=u;var c=a(13),d=a(5),f=a(11),p=a(8),m=a(12),h=a(9),_=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),g=["common","AddContentDialog"],v=["skill","contentForm"],y={message:"changes_saved_successfully",type:"info2"},b={schema:p.POST_SKILL_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/skill/"+t.get("skillData.id")+"/content",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,o=e.controller;200===t&&a&&(n.merge("skillData",a),o.getSignal("header.showMessage")(y),r({state:n}))},onError:(0,h.onError)("skill")},w={schema:p.GET_SKILL_SYNC,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state.get("skillData");return{endpoint:"/api/learn/skill/"+(0,d.get)(t,"id")+"/sync"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,d.get)(a,"draftContentIds")||[];(0,h.MergeFormIdsValue)({state:n,fieldName:[].concat(v,["contentIds","value"]),resourceIds:n.get("skillData.draftContentIds")||[],targetIds:r}),n.set("skillData.draftContentIds",r),n.set("skillData.contentIds",(0,d.get)(a,"contentIds")||[]),n.merge("skillData.tutorialMap",(0,d.get)(a,"tutorialMap")||{})}},onError:(0,h.onError)("skill")};t.default={name:e,depends:[],signals:{changeContentFormField:i(),saveSkillContent:[function(){return{formPath:v}}].concat(n(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(b),no:[]}]),deleteContentConfirm:[_.default.DeleteConfirmed("skill.deleteContent")],addContentIds:[function(e){var t=e.state,a=t.get("common.AddContentDialog.contentIds")||[],n=t.get("common.AddContentDialog.contentMap")||{},r={};return a.forEach(function(e){var t=(0,h.GetIdByItemId)(e),a=(0,d.get)(n,""+t),o=a.value,i=a.type;o&&"tutorial"===i&&(r[t]=o)}),t.merge("skillData.tutorialMap",r),t.set([].concat(g,["open"]),!1),{fieldName:"contentIds",value:a}},l].concat(n(i())),deleteContent:[function(e){var t=e.props,a=e.state,n=t.value.id,r=t.type,o=(0,h.GetItemIdByType)({id:n,type:r}),i=a.get([].concat(v,["contentIds"])).value;return{fieldName:"contentIds",value:(0,m.arrayRemove)(i,o)}},l].concat(n(i())),resourceUpdated:[function(e){var t=e.state,a=e.props,n=e.controller;t.get("skillData").id===a.id&&n.getSignal("common.openForceResourceDialog")()}],syncSkill:(0,f.CallHTTP)(w),moveContent:[(0,h.MoveElementAction)(v.join(".")+".contentIds.value")]},getServices:function(){return{}},getState:function(e){return{contentForm:s(e.skillData)}}}}).call(t,"views/learn/modules/skill/CreateContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(p);return{topicIds:t.topicIds&&t.topicIds.value||[]}}function o(e){return[function(t){var a=t.props;return{field:[].concat(p,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function i(e){return(0,l.Form)({topicIds:{value:(0,u.get)(e,"topicIds")||[]}})}function s(e){var t=i(e.get("competencyData")),a=e.get(p);return Object.keys(a).every(function(e){return"topicIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertContentParams=r,t.getContentForm=i,t.contentFormSave=function(e,t){t.getSignal("competency.saveCompetencyContent")()},t.isValidContentForm=function(e){return(0,l.isValidForm)(e.get(p))},t.contentFormSaveStatus=s;var l=a(13),u=a(5),c=a(11),d=a(8),f=a(9),p=["competency","contentForm"],m={message:"changes_saved_successfully",type:"info2"},h={schema:d.POST_PROJECT_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/competency/"+t.get("competencyData.id")+"/content",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("competencyData",a),r.getSignal("header.showMessage")(m))},onError:(0,f.onError)("competency")};t.default={name:e,depends:[],signals:{changeContentFormField:o(),saveCompetencyContent:[function(){return{formPath:p}}].concat(n(l.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,c.CallHTTP)(h),no:[]}]),addCompetencyTopic:[function(e,t){return(0,f.AddTagAction)(e,t,p)}("topicIds","competencyData.topicMap")].concat(n(o())),deleteCompetencyTopic:[function(e){return(0,f.DeleteTagAction)(e,p)}("topicIds")].concat(n(o()))},getServices:function(){return{}},getState:function(e){return{show:!1,contentForm:i(e.competencyData)}}}}).call(t,"views/learn/modules/competency/CreateContentStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=l(["draft.editorStates.",""],["draft.editorStates.",""]),g=l(["parentEditorKey"],["parentEditorKey"]),v=l(["editorKey"],["editorKey"]),y=l(["draft.editorEditable.",""],["draft.editorEditable.",""]),b=l(["draft.editorDirty.",""],["draft.editorDirty.",""]),w=l(["project.contentMap"],["project.contentMap"]),E=l(["draft.setEditorState"],["draft.setEditorState"]),S=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),O=l(["draft.setEditorDirty"],["draft.setEditorDirty"]),k=n(a(0)),T=n(a(2)),P=n(a(1)),C=a(6),j=a(4),I=a(10),M=n(a(3)),N=n(a(343)),D=(u=(0,C.decorator)({parentEditorState:(0,j.state)(_,(0,j.props)(g)),editorState:(0,j.state)(_,(0,j.props)(v)),editable:(0,j.state)(y,(0,j.props)(v)),dirty:(0,j.state)(b,(0,j.props)(v)),contentMap:(0,j.state)(w),setEditorState:(0,j.signal)(E),setEditorEditable:(0,j.signal)(S),setEditorDirty:(0,j.signal)(O)}),c=(0,M.default)(N.default),u(d=c((p=f=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onEscape=function(){n.syncToEditor(!0)},n.onBlur=function(){n.syncToEntity()},n.onDownArrow=function(e){e.shiftKey||(0,I.isFocusAtLastLine)()&&(n.moveToNextBlock(),e.preventDefault())},n.onUpArrow=function(e){e.shiftKey||(0,I.isFocusAtFirstLine)()&&(n.moveToPrevBlock(),e.preventDefault())},n.keyBindingFn=function(e){if(!e.shiftKey){if(37===e.keyCode){var t=n.props.editorState;if((0,I.isSelectionAtBlockStart)(t))return n.moveToPrevBlock(),""}if(39===e.keyCode){var a=n.props.editorState;if((0,I.isSelectionAtBlockEnd)(a))return n.moveToNextBlock(),""}}},n.handleReturn=function(){var e=n.syncToEntity();return n.moveToNextBlock(e),"handled"},r=a,i(n,r)}return s(t,P.default),h(t,[{key:"componentWillMount",value:function(){var e=this.getEntityTitle();this.defaultEditorState=(0,I.createEditorStateWithText)(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.getEntityTitle(e);t!==this.getEntityTitle()&&(this.defaultEditorState=(0,I.createEditorStateWithText)(t));var a=e.editable;this.props.editable&&!a&&this.syncToEntity(e);var n=e.dirty,r=e.editorKey,o=e.setEditorDirty;if(!n){var i=e.editorState,s=this.props.editorState;if(s&&i){var l=i.getCurrentContent();s.getCurrentContent()!==l&&o({editorKey:r})}}}},{key:"getEntityData",value:function(e){var t=e||this.props,a=t.entityKey;return t.parentEditorState.getCurrentContent().getEntity(a).getData()}},{key:"getEntityTitle",value:function(e){var t=void 0;switch((e=e||this.props).type){case"single":t=this.getEntityData(e).title;break;case"gallery":if("itemPos"in e){var a=e.itemPos,n=this.getEntityData(e).contents,r=void 0===n?[]:n;t=r[a]&&r[a].title}}return t||""}},{key:"mergeEntityTitle",value:function(e,t,a){var n=void 0;switch(this.props.type){case"single":n=(0,I.mergeAtomicEntityData)(e,t,{title:a});break;case"gallery":if("itemPos"in this.props){var o=this.props.itemPos,i=this.getEntityData().contents,s=void 0===i?[]:i,l=s[o]||{},u=[].concat(r(s));u.splice(o,1,m({},l,{title:a})),n=(0,I.mergeAtomicEntityData)(e,t,{contents:u})}}return n||e}},{key:"syncToEntity",value:function(e){var t=e||this.props,a=t.dirty,n=t.parentEditorKey,r=t.parentEditorState,o=t.entityKey,i=t.editorKey,s=t.editorState,l=t.setEditorDirty,u=t.setEditorState;if(a){var c=s.getCurrentContent().getPlainText(),d=r.getCurrentContent();d=this.mergeEntityTitle(d,o,c);var f=I.EditorState.push(r,d,"apply-entity");return u({editorKey:n,editorState:f}),l({editorKey:i,dirty:!1}),f}return null}},{key:"syncToEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getEntityTitle(),a=this.props,n=a.dirty,r=a.editorState,o=a.editorKey,i=a.setEditorState,s=a.setEditorDirty;n&&!e||((r&&r.getCurrentContent().getPlainText()||"")!==t&&i({editorKey:o,editorState:(0,I.createEditorStateWithText)(t)}),n&&s({editorKey:o,dirty:!1}))}},{key:"moveToNextBlock",value:function(e){var t=this.props,a=t.parentEditorKey,n=t.parentEditorState,r=t.parentOffsetKey,o=t.setEditorEditable,i=t.setEditorState,s=(e=e||n).getCurrentContent(),l=I.DraftOffsetKey.decode(r).blockKey,u=s.getKeyAfter(l);if(u){o({editorKey:a});var c=new I.SelectionState({anchorKey:u,anchorOffset:0,focusKey:u,focusOffset:0});i({editorKey:a,editorState:I.EditorState.forceSelection(I.EditorState.set(e,{currentContent:s.merge({selectionAfter:c})}),c)})}}},{key:"moveToPrevBlock",value:function(){var e=this.props,t=e.parentEditorKey,a=e.parentEditorState,n=e.parentOffsetKey,r=e.setEditorEditable,o=e.setEditorState,i=a.getCurrentContent(),s=I.DraftOffsetKey.decode(n).blockKey,l=i.getBlockBefore(s);if(l){r({editorKey:t});var u=new I.SelectionState({anchorKey:l.getKey(),anchorOffset:"atomic"===l.getType()?0:l.getLength(),focusKey:l.getKey(),focusOffset:"atomic"===l.getType()?0:l.getLength()});o({editorKey:t,editorState:I.EditorState.forceSelection(I.EditorState.set(a,{currentContent:i.merge({selectionAfter:u})}),u)})}}},{key:"handlePastedText",value:function(e){return e.startsWith("CONNECT_ATOMIC_ENTITY:")?"handled":"not-handled"}},{key:"render",value:function(){var e=this.props,t=e.parentIsFocused,a=e.parentOffsetKey,n=e.editorKey,r=e.editorState,o=e.editable,i=e.dirty,s=e.placeholder,l=e.renderOnly,u=!(i&&r.getCurrentContent().getPlainText()||this.getEntityTitle()||"")&&!t&&!o;return k.default.createElement("div",{className:this.ss("caption",u&&"hide")},k.default.createElement(I.Editor,{offsetKey:a,editorKey:n,defaultEditorState:this.defaultEditorState,renderOnly:l,textAlignment:"center",placeholder:s,keyBindingFn:l?void 0:this.keyBindingFn,onDownArrow:l?void 0:this.onDownArrow,onUpArrow:l?void 0:this.onUpArrow,handleReturn:l?void 0:this.handleReturn,onEscape:l?void 0:this.onEscape,onBlur:l?void 0:this.onBlur,handlePastedText:l?void 0:this.handlePastedText}))}}]),t}(),f.propTypes={parentEditorKey:T.default.string.isRequired,parentEditorState:T.default.object,parentIsFocused:T.default.bool,parentOffsetKey:T.default.string.isRequired,editorKey:T.default.string.isRequired,editorState:T.default.object,editable:T.default.bool,dirty:T.default.bool,entityKey:T.default.string,renderOnly:T.default.bool,placeholder:T.default.any,setEditorState:T.default.func,setEditorEditable:T.default.func,setEditorDirty:T.default.func,itemPos:T.default.number,type:T.default.oneOf(["single","gallery"])},f.defaultProps={type:"single"},d=p))||d)||d);t.default=D},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DefaultLearnerLayoutOnly=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.setWindowSize"],["header.setWindowSize"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(6),y=a(4),b=n(a(139)),w=n(a(179)),E=n(a(244)),S=n(a(247)),O=n(a(233)),k=n(a(28)),T=n(a(234)),P=n(a(230)),C=n(a(255)),j=n(a(81)),I=n(a(3)),M=n(a(258)),N=t.DefaultLearnerLayoutOnly=(s=(0,I.default)(M.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),p(t,[{key:"componentDidMount",value:function(){this.props.setWindowSize()}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.refs.scroller&&this.refs.scroller.scrollTo(e,t)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.onScroll,n=e.onScrollEnd,r=e.architectureRequired,o=(0,j.default)(this.props,"children","setWindowSize");return _.default.createElement("div",{id:"pageContent"},_.default.createElement(k.default,{ref:"scroller",onScroll:a,onScrollEnd:n},!r&&_.default.createElement("div",{className:this.ss("top-bar-layout")},_.default.createElement(E.default,null),_.default.createElement(S.default,null)),_.default.createElement(O.default,null),_.default.createElement("div",{id:"pageBody",className:this.ss("default-layout")},_.default.createElement(b.default,o),t,!r&&_.default.createElement(w.default,null))),_.default.createElement(T.default,null),_.default.createElement(C.default,null),_.default.createElement(P.default,null))}}]),t}(),u.propTypes={children:h.default.node,setWindowSize:h.default.func,onScroll:h.default.func,onScrollEnd:h.default.func,architectureRequired:h.default.bool},l=c))||l,D=(d=(0,v.decorator)({setWindowSize:(0,y.signal)(m)}))(f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,N),t}())||f;t.default=D},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.QuizRetakeButton=t.QuizSubmitButton=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=s(["quizData"],["quizData"]),C=s(["learner.recordMap"],["learner.recordMap"]),j=s(["learner.quizMap"],["learner.quizMap"]),I=s(["learner.parentIds"],["learner.parentIds"]),M=s(["httpAPI.",""],["httpAPI.",""]),N=s(["learner.postRecord"],["learner.postRecord"]),D=s(["learner.setQuizRecord"],["learner.setQuizRecord"]),x=s(["learner.recordMap.",""],["learner.recordMap.",""]),R=s(["quizData.id"],["quizData.id"]),F=s(["completion.closeSummaryDialog"],["completion.closeSummaryDialog"]),A=n(a(2)),L=n(a(0)),K=n(a(1)),q=a(6),z=a(4),U=a(5),B=n(a(15)),H=n(a(295)),V=a(20),G=a(122),W=a(8),Q=n(a(3)),J=n(a(311)),Y=n(a(7)),Z=n(a(125)),X=(l=(0,q.decorator)({data:(0,z.state)(P),recordMap:(0,z.state)(C),quizMap:(0,z.state)(j),parentIds:(0,z.state)(I),postRecordData:(0,z.state)(M,W.POST_RECORD),postRecord:(0,z.signal)(N)}),u=(0,Q.default)(J.default),c=(0,Y.default)(Z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPostRecord=function(){var e=n.props,t=e.data,a=e.postRecord,r=e.disabled,o=e.versionId;if(!r){var i=t.id,s=t.type;a&&a({id:i,type:s,versionId:o})}},n.onContinueRecord=function(){var e=n.props,t=e.data,a=e.recordMap,r=e.disabled,o=e.scrollToStep,i=(0,U.get)(t,"id"),s=(0,U.get)(a,i+".nextRecordData");!r&&s&&o&&o(s)},i=a,o(n,i)}return i(t,K.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=e.quizMap,r=e.postRecordData,o=e.versionId,i=(0,U.get)(a,"id"),s=(0,U.get)(n,""+i),l=null;if((0,G.isUndefined)(s)){var u=(0,V.isLoading)((0,U.get)(r,"updateStatus"));l=L.default.createElement("div",{className:this.ss("record-item")},L.default.createElement("div",{className:this.ss("tip")},this.__("begin_quiz_tip")),L.default.createElement(B.default,{key:"quiz-begin",loading:u,label:this.__("begin_quiz"),onClick:this.onPostRecord}))}return(0,G.isDraft)(s)&&(l=L.default.createElement("div",{className:this.ss("record-item")},L.default.createElement("div",{className:this.ss("tip")},this.__("begin_quiz_tip")),L.default.createElement(B.default,{key:"quiz_continue",label:this.__("continue_quiz"),onClick:this.onContinueRecord}))),(0,G.isFreezing)(s)&&(l=L.default.createElement("div",{className:this.ss("record-item","retake-quiz-tip")},L.default.createElement("div",{className:this.ss("retake-tip")},this.__("retake_quiz_tip")),L.default.createElement(H.default,null))),(0,G.allowRetake)(s)&&(l=L.default.createElement("div",{className:this.ss("record-item")},L.default.createElement($,{versionId:o}))),L.default.createElement("div",{className:this.ss("record-button",t)},l)}}]),t}(),f.propTypes={data:A.default.object,recordMap:A.default.object,quizMap:A.default.object,parentIds:A.default.object,size:A.default.oneOf(["small","medium","large"]),theme:A.default.oneOf(["default","sticker-head"]),postRecordData:A.default.object,disabled:A.default.bool,versionId:A.default.string,postRecord:A.default.func,scrollToStep:A.default.func},d=p))||d)||d)||d);t.default=X;t.QuizSubmitButton=(m=(0,q.decorator)({quizData:(0,z.state)(P),quizMap:(0,z.state)(j),setQuizRecordData:(0,z.state)(M,W.SET_QUIZ_RECORD),setQuizRecord:(0,z.signal)(D)}),h=(0,Q.default)(J.default),_=(0,Y.default)(Z.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onSubmit=function(){var e=n.props,t=e.quizData,a=e.setQuizRecord,r=e.disabled,o=e.versionId;if(!r){var i=(0,U.get)(t,"id"),s=(0,U.get)(t,"type");i&&s&&a&&a({id:i,type:s,versionId:o,completed:!0})}},i=a,o(n,i)}return i(t,K.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.quizData,a=e.quizMap,n=e.setQuizRecordData,r=(0,U.get)(t,"id"),o=(0,U.get)(a,""+r),i=(0,G.isSubmitted)(o),s=(0,V.isLoading)((0,U.get)(n,"updateStatus"));return i?L.default.createElement("div",{className:this.ss("record-button")},L.default.createElement("div",{className:this.ss("submitted-hold")},this.__("quiz_submitted"))):L.default.createElement("div",{className:this.ss("record-button")},L.default.createElement(B.default,{key:"quiz-submit",theme:"primary",widthStyle:"full",loading:s,label:this.__("quiz_submit"),onClick:i?null:this.onSubmit}))}}]),t}(),v.propTypes={quizData:A.default.object,quizMap:A.default.object,setQuizRecordData:A.default.object,setQuizRecord:A.default.func,disabled:A.default.bool,versionId:A.default.string},g=y))||g)||g)||g);var $=t.QuizRetakeButton=(b=(0,q.decorator)({data:(0,z.state)(P),record:(0,z.state)(x,(0,z.state)(R)),setQuizRecordData:(0,z.state)(M,W.SET_QUIZ_RECORD),setQuizRecord:(0,z.signal)(D),closeDialog:(0,z.signal)(F)}),w=(0,Q.default)(J.default),E=(0,Y.default)(Z.default),b(S=w(S=E((k=O=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onRetakeRecord=function(){var e=n.props,t=e.data,a=e.setQuizRecord,r=e.disabled,o=e.versionId,i=e.closeDialog;if(!r){var s=(0,U.get)(t,"id"),l=(0,U.get)(t,"type");s&&l&&(a&&a({id:s,type:l,versionId:o,completed:!1}),i&&i())}},i=a,o(n,i)}return i(t,K.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.widthStyle,a=e.setQuizRecordData,n=e.theme,r=(0,V.isLoading)((0,U.get)(a,"updateStatus")),o="tooltip"===n?"transparent":"primary",i="tooltip"===n?"small":"medium";return L.default.createElement("div",{className:this.ss("retake-button",n)},L.default.createElement(B.default,{theme:o,size:i,widthStyle:t,key:"quiz-retake",loading:r,label:this.__("retake_quiz"),onClick:this.onRetakeRecord}))}}]),t}(),O.propTypes={data:A.default.object,widthStyle:A.default.oneOf(["auto","full"]),record:A.default.object,disabled:A.default.bool,setQuizRecord:A.default.func,setQuizRecordData:A.default.object,theme:A.default.string,versionId:A.default.string,closeDialog:A.default.func},S=k))||S)||S)||S)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.supportThemes=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=s(["common.tooltips"],["common.tooltips"]),m=s(["common.tooltipShow"],["common.tooltipShow"]),h=s(["common.tooltipHide"],["common.tooltipHide"]),_=n(a(2)),g=n(a(0)),v=n(a(19)),y=n(a(1)),b=a(6),w=a(4),E=a(45),S=0,O=t.supportThemes=["stream","flagCount"],k=(l=(0,b.decorator)({tooltips:(0,w.state)(p),tooltipShow:(0,w.signal)(m),tooltipHide:(0,w.signal)(h)}))((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={tooltipId:(S++).toString()},i=a,o(n,i)}return i(t,y.default),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.tooltips,n=t.theme,r=this.state.tooltipId,o=e.theme;a[r]&&n!==o&&this.tooltipShow(o)}},{key:"componentWillUnmount",value:function(){this.tooltipHide()}},{key:"tooltipShow",value:function(e){if(!(0,E.isDevice)()){var t=v.default.findDOMNode(this.refs.child).getBoundingClientRect(),a=t.left,n=t.right,r=t.top,o=t.bottom,i=this.props,s=i.theme,l=i.type,u=i.position,c=i.tooltipShow,d=i.contentData;c({id:this.state.tooltipId,type:l,theme:e||s,position:u,targetWidth:n-a,targetHeight:o-r,left:a,top:r,contentData:d})}}},{key:"tooltipHide",value:function(){if(!(0,E.isDevice)()){var e=this.props.tooltipHide;e({id:this.state.tooltipId})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,r=t.isSpan,o=t.clickToHide;if(!a)return null;var i=g.default.Children.only(a);i=g.default.cloneElement(i,{ref:"child"});var s=r?"span":"div";return g.default.createElement(s,{onMouseOver:function(){return e.tooltipShow()},onMouseOut:function(){return e.tooltipHide()},onClick:function(){return o&&e.tooltipHide()},className:n},i)}}]),t}(),c.propTypes={type:_.default.oneOf(["normal","success","warning","error","green"]),position:_.default.oneOf(["top","left","bottom","right","lower-right","bottom-left"]),isSpan:_.default.bool,clickToHide:_.default.bool,children:_.default.any,className:_.default.string,tooltips:_.default.object,contentData:_.default.object,tooltipShow:_.default.func,tooltipHide:_.default.func,theme:_.default.oneOf(O).isRequired},c.defaultProps={type:"normal",position:"top",isSpan:!1,clickToHide:!0,contentData:{}},u=d))||u;t.default=k},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(19)),y=a(5),b=n(a(394)),w=n(a(3)),E=n(a(527)),S=n(a(7)),O=n(a(528)),k=(l=(0,w.default)(E.default),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"onSave",value:function(){var e=v.default.findDOMNode(this.refs.textarea);if(e){var t=e.value;this.props.onSave&&this.props.onSave(t)}}},{key:"onClear",value:function(){this.props.onClear&&this.props.onClear()}},{key:"onChange",value:function(e){var t=this.props.limit,a=e.target.value||"";a.length>t&&(a=a.slice(0,t)),this.props.onChange&&this.props.onChange(e,a)}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 13:this.onSave();break;case 27:this.onClear()}}},{key:"onBlur",value:function(){this.onSave()}},{key:"renderLimitCounter",value:function(){var e=this.props,t=e.limit,a=e.disabled;if(!t)return null;var n=((0,y.get)(this.props,"value")||"").length,r=n>0?n+"/":null;return _.default.createElement("div",{className:this.ss("limit",a&&"disabled")},r,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=(t.onSave,t.onClear,t.errorText),o=t.disabled,i=t.theme,s=r(t,["value","onSave","onClear","errorText","disabled","theme"]);return _.default.createElement("div",{className:this.ss("text-area-wrap",i)},_.default.createElement("div",{className:this.ss("text-area",o&&"disabled")},!o&&_.default.createElement(b.default,p({},s,{ref:"textarea",value:a,onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onBlur:function(t){return e.onBlur(t)}})),o&&_.default.createElement("div",{className:this.ss("textarea-disabled")},a),this.renderLimitCounter()),n&&_.default.createElement("div",{className:this.ss("text-error")},this.__(n)))}}]),t}(),d.propTypes={value:h.default.string,disabled:h.default.bool,errorText:h.default.any,limit:h.default.number,onSave:h.default.func,onClear:h.default.func,onChange:h.default.func,theme:h.default.oneOf(["default","transparent","error","comment","submission"])},d.defaultProps={},c=f))||c)||c);t.default=k},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(0)),p=n(a(2)),m=n(a(1)),h=a(41),_=n(a(3)),g=n(a(253)),v=(s=(0,_.default)(g.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"renderContainer",value:function(e){var t=this,a=e.x,n=this.props,r=n.renderLeftBtn,o=n.renderRightBtn,i=n.renderItem,s=n.items,l=n.ratio,u=n.itemPos,c=n.focusPos,d=n.pageSize,p=!1;d&&s.length>d&&u>0&&(p=!0);var m=!1;d&&s.length>d&&u<s.length-d&&(m=!0);var h=Math.abs(a-(u||0))>.01,_=Math.round(1e4*(l||.6666))/100,g={};if(d){var v=Math.round(1e4/(d||1))/100;g.width=v+"%"}var y=null;if(d&&s.length>d){var b=Math.min(Math.max(0,Math.floor(a)),s.length-d),w=Math.min(Math.ceil(a+d),s.length),E=100*(b-a);g.transform="translate3d("+E+"%, 0, 0)";var S=[];s.forEach(function(e,a){var n=a>=b&&a<w?g:{display:"none"},r=i({item:e,index:a,ratio:_/100,pageSize:d,animating:h});S.push(f.default.createElement("div",{ref:function(e){t.itemContainer=e},key:a,className:t.ss("itemContainer",c===a&&"focus"),style:n},r))}),y=f.default.createElement("div",{className:this.ss("itemsWrapper")},S)}else y=f.default.createElement("div",{className:this.ss("itemsWrapper")},s.map(function(e,a){return f.default.createElement("div",{ref:function(e){t.itemContainer=e},key:a,className:t.ss("itemContainer",c===a&&"focus"),style:g},i({item:e,index:a,ratio:_/100,pageSize:d}))}));return f.default.createElement("div",{className:this.ss("sliderContainer")},f.default.createElement("div",{className:this.ss("rowWrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},f.default.createElement("div",{ref:function(e){t.rowContainer=e},className:this.ss("rowContainer")},y),p&&r&&r({isActive:p,pageSize:d,animating:h}),m&&o&&o({isActive:m,pageSize:d,animating:h})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.itemPos,n=t.defaultItemPos,r={x:void 0===n?0:n},o={x:(0,h.spring)(a||0)};return f.default.createElement(h.Motion,{defaultStyle:r,style:o},function(t){return e.renderContainer(t)})}}]),t}(),u.propTypes={renderLeftBtn:p.default.func,renderRightBtn:p.default.func,renderItem:p.default.func,items:p.default.array,pageSize:p.default.number,defaultItemPos:p.default.number,itemPos:p.default.number,focusPos:p.default.number,ratio:p.default.number},l=c))||l;t.default=v},function(e,t,a){"use strict";function n(e){return(e=e||{}).quizStatus===r.submitted}Object.defineProperty(t,"__esModule",{value:!0}),t.isSubmitted=n,t.isDraft=function(e){return(e=e||{}).quizStatus===r.draft},t.isUndefined=function(e){return void 0===(e=e||{}).quizStatus},t.isFreezing=function(e){var t=(e=e||{}).leftFreezingSeconds;return n(e)&&t>0},t.allowRetake=function(e){var t=(e=e||{}).leftFreezingSeconds;return n(e)&&t<=0};var r=(0,function(e){return e&&e.__esModule?e:{default:e}}(a(120)).default)({draft:null,submitted:null});t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){var a=e.getState("draft.editorStates."+t);if(a){var r=a.getCurrentContent().getFirstBlock();r&&(e.getSignal("draft.setEditorEditable")({editorKey:t}),e.getSignal("draft.setEditorState")({editorKey:t,editorState:n.EditorState.forceSelection(a,new n.SelectionState({anchorKey:r.getKey(),anchorOffset:0,focusKey:r.getKey(),focusOffset:0}))}))}}function t(e,t){var a=e.getState("draft.editorStates."+t);if(a){var r=a.getCurrentContent().getLastBlock();r&&(e.getSignal("draft.setEditorEditable")({editorKey:t}),e.getSignal("draft.setEditorState")({editorKey:t,editorState:n.EditorState.forceSelection(a,new n.SelectionState({anchorKey:r.getKey(),anchorOffset:"atomic"===r.getType()?0:r.getLength(),focusKey:r.getKey(),focusOffset:"atomic"===r.getType()?0:r.getLength()}))}))}}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.editorKey,o=a.nextEditorKey,i=a.prevEditorKey,s=a.renderOnly,l=a.returnToNextEditor,u=void 0!==l&&l;if(!r)throw new Error("editorKey is empty");return{keyBindingFn:s?void 0:function(a,r){var s=r.getEditorState,l=r.getProps;if(!a.shiftKey){var u=s();return 37===a.keyCode&&i&&(0,n.isSelectionAtBlockStart)(u)&&(0,n.isSelectionAtFirstBlock)(u)?(t(l().controller,i),""):39===a.keyCode&&o&&(0,n.isSelectionAtBlockEnd)(u)&&(0,n.isSelectionAtLastBlock)(u)?(e(l().controller,o),""):void 0}},onDownArrow:s?void 0:function(t,a){var r=a.getEditorState,i=a.getProps;if(!t.shiftKey){var s=r();o&&((0,n.isAtomicBlockSelected)(s)||(0,n.isFocusAtLastLine)())&&(0,n.isSelectionAtLastBlock)(s)&&(t.preventDefault(),e(i().controller,o))}},onUpArrow:s?void 0:function(e,a){var r=a.getEditorState,o=a.getProps;if(!e.shiftKey){var s=r();i&&((0,n.isAtomicBlockSelected)(s)||(0,n.isFocusAtFirstLine)())&&(0,n.isSelectionAtFirstBlock)(s)&&(e.preventDefault(),t(o().controller,i))}},handleReturn:s?void 0:u&&function(t,a,n){var r=n.getProps;return o?(e(r().controller,o),"handled"):"not-handled"}}};var n=a(10)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.BreadcrumbTip=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=l(["locale"],["locale"]),S=l(["breadcrumb"],["breadcrumb"]),O=l(["learner.parentIds"],["learner.parentIds"]),k=l(["currentHost"],["currentHost"]),T=n(a(2)),P=n(a(0)),C=n(a(1)),j=a(6),I=a(4),M=a(5),N=a(9),D=n(a(18)),x=a(26),R=n(a(408)),F=n(a(3)),A=n(a(411)),L=n(a(7)),K=n(a(135)),q=(u=(0,j.decorator)({locale:(0,I.state)(E),breadcrumb:(0,I.state)(S),parentIds:(0,I.state)(O),currentHost:(0,I.state)(k)}),c=(0,F.default)(A.default),d=(0,L.default)(K.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,C.default),w(t,[{key:"getUrl",value:function(e){var t=this.props,a=t.parentIds,n=t.currentHost,r=t.locale,o=t.uv;return(0,D.default)((0,N.GetItemUrlInBreadcrumb)({parentIds:a,item:e,locale:r,uv:o}),n)}},{key:"getActiveItem",value:function(e){var t=[];if(e&&e.length>0){var a=e.filter(function(e){return!0===e.active})[0];if(a&&(t.push(a),a.subNodes&&a.subNodes.length>0)){var n=this.getActiveItem(a.subNodes);n&&n.length>0&&t.push.apply(t,r(n))}}return t}},{key:"getBreadcrumbItems",value:function(){var e=this.props.breadcrumb,t=(0,M.get)(e,"root"),a=this.getActiveItem([t]),n=(0,M.get)(e,"selectedIds"),r=Math.max(n.length-1,0);return a.length>r&&(a=a.slice(0,r)),a}},{key:"renderItem",value:function(e){var t=e.itemData,a=e.last;if(!t)return null;var n=t.id,r=t.title,o=t.type;return P.default.createElement("div",{key:n,className:this.ss("breadcrumb-item",a&&"last")},P.default.createElement("a",{className:this.ss("link"),href:this.getUrl(t)},P.default.createElement("div",{className:this.ss("type")},this.__("breadcrumb_item_type_"+o)),P.default.createElement("div",{className:this.ss("title")},r)),!a&&P.default.createElement("div",{className:this.ss("breadcrumb-arrow","ifont","ifont-icon-arrow-right-bold")}))}},{key:"renderBreadcrumbItems",value:function(){var e=this,t=this.getBreadcrumbItems();return t.map(function(a,n){var r=n===t.length-1;return e.renderItem({itemData:a,last:r})})}},{key:"render",value:function(){var e=this.props.breadcrumb;return(0,M.get)(e,"root")?P.default.createElement("div",{className:this.ss("breadcrumb-head")},this.renderBreadcrumbItems()):null}}]),t}(),p.propTypes={locale:T.default.string,breadcrumb:T.default.object,parentIds:T.default.object,currentHost:T.default.string,uv:T.default.string},p.defaultProps={},f=m))||f)||f)||f);t.default=q;t.BreadcrumbTip=(h=(0,j.decorator)({breadcrumb:(0,I.state)(S)}),_=(0,F.default)(A.default),g=(0,L.default)(K.default),h(v=_(v=g((b=y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,C.default),w(t,[{key:"renderContent",value:function(){var e=this.props.breadcrumb;return(0,M.get)(e,"current")?P.default.createElement(R.default,{position:"right",theme:"breadcrumb",uv:this.props.uv},P.default.createElement(x.BreadcrumbLabel,null)):P.default.createElement(x.BreadcrumbLabel,null)}},{key:"render",value:function(){return P.default.createElement("div",{className:this.ss("breadcrumb-tip")},this.renderContent())}}]),t}(),y.propTypes={breadcrumb:T.default.object,uv:T.default.string},y.defaultProps={},v=b))||v)||v)||v)},function(e,t){e.exports={quiz_submit:"quiz_submit_3Ke6",quiz_submitted:"quiz_submitted_cYdB",begin_quiz:"begin_quiz_3zrG",begin_quiz_tip:"begin_quiz_tip_27lW",continue_quiz:"continue_quiz_1O_R",retake_quiz:"retake_quiz_3vMi",retake_quiz_tip:"retake_quiz_tip_1U_E",hours:"hours_Morj",minutes:"minutes_1XfI",seconds:"seconds_6t8-"}},function(e,t){e.exports={"alignment-toolbar":"alignment-toolbar_2yGN3pJK",show:"show_1kQEf-F9","toolbar-button-wrapper":"toolbar-button-wrapper_3QFX3xQk","toolbar-button":"toolbar-button_26arqPCL",active:"active_7iqbI0Ym","alignment-default":"alignment-default_3YBOBbDE","alignment-left":"alignment-left_VHo_ogyY","alignment-right":"alignment-right_22KYS0k-","alignment-center":"alignment-center_1f_SbV7n","alignment-fullscreen":"alignment-fullscreen_2PVtMKkA",popup:"popup_S8z-aizc",openSettings:"openSettings_27-ymsLH","input-wrapper":"input-wrapper_94qLfpzl","link-input":"link-input_1Fe-91mg","text-area":"text-area_sLYvGzKD","close-button":"close-button_Yp9nH4Wg"}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e&&e.endsWith(".00")?e.slice(0,e.length-3):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["editor.contentMap"],["editor.contentMap"]),_=n(a(0)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(4),w=n(a(70)),E=a(12),S=n(a(3)),O=n(a(226)),k=n(a(7)),T=n(a(227)),P=(l=(0,y.decorator)({contentMap:(0,b.state)(h)}),u=(0,S.default)(O.default),c=(0,k.default)(T.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,v.default),m(t,[{key:"renderPriceNode",value:function(e){var t=[],a=e&&e.package||{},n=a.originalPrice,r=a.finalPrice,o=a.isFree,i=a.isOnSale;return o?t.push(_.default.createElement("div",{key:"final",className:this.ss("asset-price-final")},this.__("asset_free"))):(n!==r&&t.push(_.default.createElement("div",{key:"origin",className:this.ss("asset-price-origin")},n&&this.__("asset_price",{price:s(n)}))),t.push(_.default.createElement("div",{key:"final",className:this.ss("asset-price-final")},r&&this.__("asset_price",{price:s(r)})))),i&&t.push(_.default.createElement("div",{key:"onsale",className:this.ss("asset-sale")},_.default.createElement("div",{className:this.ss("asset-sale-icon","ifont","ifont-icons-on-sale")}),_.default.createElement("div",{className:this.ss("asset-sale-text")},this.__("tag_sale")))),t}},{key:"render",value:function(){var e=this.props,t=e.contentId,a=e.contentMap,n=e.theme,r=e.renderOnly,o=t&&a&&a[t],i=o||{},s=i.externalRef,l=i.externalType,u=i.url;if(!(s&&"asset_store"===l))return null;var c=o&&o.package||{},d=c.name,f=c.publisherName,p=this.renderPriceNode(o),m=u||(0,E.buildAssetStorePackageUrl)(s);return _.default.createElement("div",{className:this.ss("asset-wrap",n),onClick:r?function(e){return e.stopPropagation()}:void 0},_.default.createElement("div",{className:this.ss("asset-info")},_.default.createElement("div",{className:this.ss("asset-publisher")},f),_.default.createElement("div",{className:this.ss("asset-name")},d),_.default.createElement("div",{className:this.ss("asset-price-wrap")},p)),_.default.createElement("div",{className:this.ss("asset-button"),onClick:r?void 0:function(e){return e.stopPropagation()}},_.default.createElement(w.default,{theme:"pink",size:"medium",href:m,target:"_blank",label:this.__("button_buy")})))}}]),t}(),f.propTypes={renderOnly:g.default.bool,contentId:g.default.string,contentMap:g.default.object,theme:g.default.oneOf(["normal","gallery"])},f.defaultProps={theme:"normal"},d=p))||d)||d)||d);t.default=P},function(e,t){e.exports={"body-wrap":"body-wrap_176taP6A",error:"error_3MmisBjF",transparent:"transparent_27-crzp1","render-only":"render-only_3LFn_jOO","transparent-live-session":"transparent-live-session_FDsb72Wi","transparent-submission":"transparent-submission_3faNcpaa",popup:"popup_1Uw2fExW","question-title":"question-title_Fu0i3gu-","question-option":"question-option_1sgoRpe2","normal-content-summary":"normal-content-summary_3OLjalz3"}},function(e,t){e.exports={"mention-toolbar":"mention-toolbar_1X1_y4rJ",show:"show_1SYxF7VC",candidates:"candidates_33UUdFZb",candidate:"candidate_3x4qzq8d",active:"active_16lUScbR",avatar:"avatar_1V9-Yasc",name:"name_upVL0YZP","mention-wrapper":"mention-wrapper_2jdPEUTb",link:"link_DEGzivHA"}},function(e,t){e.exports={"mention-toolbar":"mention-toolbar_2vJ6vece",show:"show_G3YZJ-0w",candidates:"candidates_3JinurMc",candidate:"candidate_2yizZwWB",active:"active_2x2aInLC",avatar:"avatar_zcOJ_wAI",name:"name_hHrvrEin","mention-wrapper":"mention-wrapper_3X-uyP4W",link:"link_1a7muOk2"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["common.dragAndDrop.dragItemKey"],["common.dragAndDrop.dragItemKey"]),h=s(["common.dragAndDrop.dragOverItemKey"],["common.dragAndDrop.dragOverItemKey"]),_=s(["common.changeDragItemKey"],["common.changeDragItemKey"]),g=s(["common.changeDragOverItemKey"],["common.changeDragOverItemKey"]),v=s(["common.clearDragItemKey"],["common.clearDragItemKey"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),S=a(4),O=n(a(3)),k=n(a(298)),T=(l=(0,E.decorator)({dragItemKey:(0,S.state)(m),dragOverItemKey:(0,S.state)(h),changeDragItemKey:(0,S.signal)(_),changeDragOverItemKey:(0,S.signal)(g),clearDragItemKey:(0,S.signal)(v)}),u=(0,O.default)(k.default),l(c=u((f=d=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onMouseDown=function(){a.setDraggable(!0)},a.onMouseUp=function(){a.setDraggable(!1)},a.onDragEnter=function(){},a.onDragLeave=function(){},a.onDragOver=function(e){var t=a.props,n=t.index,r=t.dragOverItemKey,o=t.dragItemKey,i=t.changeDragOverItemKey;o>=0&&(e.preventDefault(),n!==r&&i({key:n}),r===o&&(e.dataTransfer.dropEffect="none"))},a.onDrop=function(){var e=a.props,t=e.onChange,n=e.dragItemKey,r=e.index;n>=0&&t&&t({index:n,step:r-n})},a.onDrag=function(){var e=a.props,t=e.onDrag;e.dragItemKey>=0&&t&&t()},a.onDragStart=function(e){if(a.state.draggable){var t=a.props,n=t.index;(0,t.changeDragItemKey)({key:n}),e.dataTransfer.dropEffect="move",e.dataTransfer.setData("LEARN_DRAG_START",n),document.body.append(a.transferImg),e.dataTransfer.setDragImage(a.transferImg,0,5)}},a.onDragEnd=function(){document.body.removeChild(a.transferImg);var e=a.props,t=e.dragItemKey,n=e.dragOverItemKey,r=e.clearDragItemKey;t>=0&&((t||n)&&r(),a.setDraggable(!1))},a.setDraggable=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.state.draggable!==e&&a.setState({draggable:e})},a.state={draggable:!1},a}return i(t,w.default),p(t,[{key:"componentDidMount",value:function(){this.transferImg=this.refs.transferImg.cloneNode(!0),this.transferImg.style.display="block",this.refs.transferImg.remove()}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.dragOverItemKey,n=e.dragItemKey,r=e.index,o=e.theme;if(!t)return null;var i=this.state.draggable,s=a<n,l=a>n,u=a===r;return b.default.createElement("div",{className:this.ss("drag-drop-wrapper",this.counter&&"move",o),draggable:i,onDrag:this.onDrag,onDragStart:this.onDragStart,onDrop:this.onDrop,onDragEnd:this.onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver},u&&s&&b.default.createElement("div",{className:this.ss("selected","up")}),t,u&&l&&b.default.createElement("div",{className:this.ss("selected","down")}),b.default.createElement("div",{className:this.ss("drag-handle-wrapper")},b.default.createElement("div",{className:this.ss("handle"),onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown},b.default.createElement("div",{className:this.ss("line","top")}),b.default.createElement("div",{className:this.ss("line")}))),b.default.createElement("div",{ref:"transferImg",className:this.ss("transfer-img","ifont","ifont-lrn_icon_swap_vertical_circle")}))}}]),t}(),d.propTypes={children:y.default.any,index:y.default.number.isRequired,dragItemKey:y.default.number,dragOverItemKey:y.default.number,theme:y.default.oneOf(["default","tutorial-step","right"]),changeDragItemKey:y.default.func,changeDragOverItemKey:y.default.func,clearDragItemKey:y.default.func,onChange:y.default.func,onDrag:y.default.func},d.defaultProps={theme:"default"},c=f))||c)||c);t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.Language=t.Assets=t.Resources=t.UnityVersionDropDown=t.UnityVersion=t.ProjectObjective=t.CareerGoal=t.Tags=t.Summary=t.ParentList=t.ConnectGroup=t.Downloads=t.OutlineForPreview=t.Outline=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N,D,x,R,F,A,L,K,q,z,U,B,H,V,G,W,Q,J,Y,Z,X,$,ee,te,ae,ne,re,oe,ie,se,le,ue,ce,de,fe,pe,me,he,_e,ge,ve,ye,be,we,Ee,Se,Oe,ke,Te,Pe,Ce,je,Ie,Me,Ne,De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Re=l(["loginUser"],["loginUser"]),Fe=l(["common.loginTo"],["common.loginTo"]),Ae=l(["userPremium"],["userPremium"]),Le=l(["learner.parentIds"],["learner.parentIds"]),Ke=l(["currentHost"],["currentHost"]),qe=l(["header.sendCDPRequest"],["header.sendCDPRequest"]),ze=l(["breadcrumb"],["breadcrumb"]),Ue=l(["unityVersions.versionMap"],["unityVersions.versionMap"]),Be=l(["common.uv"],["common.uv"]),He=l(["option.supportUnityVersions"],["option.supportUnityVersions"]),Ve=l(["common.changeContentUnityVersion"],["common.changeContentUnityVersion"]),Ge=n(a(2)),We=n(a(0)),Qe=n(a(1)),Je=a(6),Ye=a(4),Ze=a(5),Xe=n(a(22)),$e=n(a(15)),et=n(a(51)),tt=n(a(18)),at=n(a(46)),nt=a(124),rt=a(392),ot=n(a(414)),it=a(12),st=a(9),lt=a(8),ut=n(a(3)),ct=n(a(416)),dt=n(a(7)),ft=n(a(263)),pt=function(){},mt=(t.Outline=(u=(0,Je.decorator)({loginUser:(0,Ye.state)(Re),loginTo:(0,Ye.signal)(Fe)}),c=(0,ut.default)(ct.default),d=(0,dt.default)(ft.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.loginUser,n=e.loginTo,r=e.scrollToStep,o=e.disabled,i=e.uv,s=e.versionId;return We.default.createElement("div",{className:this.ss("section-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_progress")),!a&&We.default.createElement("div",{className:this.ss("buton-sign-in")},We.default.createElement($e.default,{widthStyle:"full",label:this.__("button_sign_in"),onClick:function(){return n()}})),We.default.createElement(nt.BreadcrumbTip,{uv:i}),We.default.createElement(ot.default,{data:t,scrollToStep:r,disabled:o,uv:i,versionId:s}))}}]),t}(),p.propTypes={loginUser:Ge.default.object,disabled:Ge.default.bool,data:Ge.default.object,uv:Ge.default.string,versionId:Ge.default.string,loginTo:Ge.default.func,scrollToStep:Ge.default.func},f=m))||f)||f)||f),t.OutlineForPreview=(h=(0,ut.default)(ct.default),_=(0,dt.default)(ft.default),h(g=_((y=v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.scrollToStep,n=e.disabled;return We.default.createElement("div",{className:this.ss("section-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_progress")),We.default.createElement(ot.default,{data:t,scrollToStep:a,disabled:n}))}}]),t}(),v.propTypes={disabled:Ge.default.bool,data:Ge.default.object,scrollToStep:Ge.default.func},g=y))||g)||g),t.Downloads=(b=(0,Je.decorator)({userPremium:(0,Ye.state)(Ae),parentIds:(0,Ye.state)(Le),currentHost:(0,Ye.state)(Ke),sendCDPRequest:(0,Ye.signal)(qe)}),w=(0,ut.default)(ct.default),E=(0,dt.default)(ft.default),b(S=w(S=E((k=O=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"onMenuClick",value:function(e){var t=this.props,a=t.userPremium,n=t.parentIds,r=void 0===n?{}:n,o=(0,Ze.get)(this.props.data,"id"),i=(0,Ze.get)(this.props.data,"type"),s=De({},r,{id:o,type:i,fileName:e,userPremium:a});this.props.sendCDPRequest({type:lt.CDPLearnType.download,eventType:lt.EventType.learn,data:s})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.theme,o=t.statsPath,i=t.currentHost,s=(0,Ze.get)(a,o),l=(0,Ze.get)(a,"type"),u=!s||0===s.length;if(u)return null;var c=!u&&s.map(function(t,a){return We.default.createElement("a",{key:"ma_"+a,className:e.ss("material"),target:"_blank",href:n?"#":(0,tt.default)((0,it.securedURL)(t.url),i),onClick:n?pt():function(){return e.onMenuClick(_t(t))}},We.default.createElement("div",{className:e.ss("material-icon","ifont","ifont-"+lt.MaterialTypeIconMap[t.type])}),t.name)});return We.default.createElement("div",{className:this.ss("section-wrap","download-wrap",r)},We.default.createElement("div",{className:this.ss("section-title","download-title")},this.__("title_"+o+"_"+l)),We.default.createElement("div",{className:this.ss("links-wrap","downloads")},c))}}]),t}(),O.propTypes={parentIds:Ge.default.object,userPremium:Ge.default.bool,data:Ge.default.object,disabled:Ge.default.bool,currentHost:Ge.default.string,sendCDPRequest:Ge.default.func,theme:Ge.default.oneOf(["default","educator","quiz","solution"]),statsPath:Ge.default.oneOf(["materials","prerequisites"])},O.defaultProps={theme:"default",statsPath:"materials"},S=k))||S)||S)||S),t.ConnectGroup=(T=(0,ut.default)(ct.default),P=(0,dt.default)(ft.default),T(C=P((I=j=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled,n=t.id,r=t.group;return n&&r?We.default.createElement("div",{className:this.ss("section-wrap","connect-group-wrap")},We.default.createElement(rt.ConnectGroupCard,{data:r,disabled:a})):null}}]),t}(),j.propTypes={disabled:Ge.default.bool,data:Ge.default.object},C=I))||C)||C),t.ParentList=(M=(0,Je.decorator)({breadcrumb:(0,Ye.state)(ze),currentHost:(0,Ye.state)(Ke)}),N=(0,ut.default)(ct.default),D=(0,dt.default)(ft.default),M(x=N(x=D((F=R=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"getCleanParentIds",value:function(e){var t=((0,Ze.get)(this.props,"breadcrumb.selectedIds")||[]).reduce(function(e,t){var a=(0,st.GetTypeIdByItemId)(t),n=a.id,r=a.type;return r===lt.DataTypeKeys.project&&(e.projectId=n),r===lt.DataTypeKeys.course&&(e.courseId=n),e},{});return 0===Object.keys(t||{}).length?e:e.filter(function(e){var a=(0,st.GetTypeIdByItemId)(e),n=a.id,r=a.type;if(n&&r){if(r===lt.DataTypeKeys.project&&n===t.projectId)return!1;if(r===lt.DataTypeKeys.course&&n===t.courseId)return!1}return!0})}},{key:"renderItem",value:function(e){var t=this.props,a=t.data,n=t.currentHost,r=(0,Ze.get)(a,"parentMap"),o=(0,st.GetDataByItemId)({itemId:e,courseMap:r,projectMap:r});if(!o)return null;var i=o.id,s=o.type,l=o.title;return We.default.createElement("div",{key:"parent-list-"+i,className:this.ss("parent-list-item")},We.default.createElement("div",{className:this.ss("type")},this.__("type_"+s)),We.default.createElement("div",{className:this.ss("dot")}),We.default.createElement("a",{className:this.ss("title"),href:(0,tt.default)("/"+s+"/"+i,n)},l))}},{key:"render",value:function(){var e=this,t=this.props.data,a=(0,Ze.get)(t,"parentIds")||[];if(0===a.length)return null;var n=(this.getCleanParentIds(a)||[]).map(function(t){return e.renderItem(t)}).filter(function(e){return!!e});return 0===n.length?null:We.default.createElement("div",{className:this.ss("section-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_included_in")),We.default.createElement("div",{className:this.ss("parent-list-wrap")},n))}}]),t}(),R.propTypes={data:Ge.default.object,breadcrumb:Ge.default.object,currentHost:Ge.default.string},x=F))||x)||x)||x),t.Summary=(A=(0,ut.default)(ct.default),L=(0,dt.default)(ft.default),A(K=L((z=q=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=e.description,a=e.descPlain;return a&&a.trim()?We.default.createElement("div",{className:this.ss("section-wrap","summary-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_summary")),We.default.createElement("div",{className:this.ss("summary")},We.default.createElement(et.default,{editorKey:"editorDescription",value:t,renderOnly:!0}))):null}}]),t}(),q.propTypes={data:Ge.default.object},K=z))||K)||K),t.Tags=(U=(0,Je.decorator)({currentHost:(0,Ye.state)(Ke)}),B=(0,ut.default)(ct.default),H=(0,dt.default)(ft.default),U(V=B(V=H((W=G=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.type,o=t.theme,i=t.currentHost,s=[],l={},u="";switch(r){case"topic":s=(0,Ze.get)(a,"topicIds"),l=(0,Ze.get)(a,"topicMap"),u=lt.CriteriaKeys.tag;break;case"tag":s=(0,Ze.get)(a,"tagIds"),l=(0,Ze.get)(a,"skillMap");break;case"package":s=(0,Ze.get)(a,"packageIds"),l=(0,Ze.get)(a,"packageMap");break;case"industry":s=(0,Ze.get)(a,"industryIds"),l=(0,Ze.get)(a,"industryMap"),u=lt.CriteriaKeys.industry}if(!s||0===s.length)return null;var c=s.map(function(t,a){var r="/search?k="+encodeURIComponent(JSON.stringify([u+":"+t]));return We.default.createElement("a",{key:"tpc_"+a,className:e.ss("tag-item",!n&&"active"),href:n?"#":(0,tt.default)(r,i)},We.default.createElement("div",{className:e.ss("tag")},l&&l[t].name))});return We.default.createElement("div",{className:this.ss("section-wrap","tags-wrap",o)},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_tag_"+r)),We.default.createElement("div",{className:this.ss("tags")},c))}}]),t}(),G.propTypes={data:Ge.default.object,disabled:Ge.default.bool,type:Ge.default.oneOf(["topic","tag","package","industry"]),theme:Ge.default.oneOf(["default","keep-learn"]),currentHost:Ge.default.string},G.defaultProps={theme:"default",type:"topic"},V=W))||V)||V)||V),t.CareerGoal=(Q=(0,ut.default)(ct.default),J=(0,dt.default)(ft.default),Q(Y=J((X=Z=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=(0,Ze.get)(e,"properties.careerGoals"),a=e.goalPlain;return a&&a.trim()?We.default.createElement("div",{className:this.ss("section-wrap","careerGoal-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_career_goal")),We.default.createElement("div",{className:this.ss("careerGoal")},We.default.createElement(et.default,{value:t,editorKey:"editorCourseCareerGoals",renderOnly:!0}))):null}}]),t}(),Z.propTypes={data:Ge.default.object},Y=X))||Y)||Y),t.ProjectObjective=($=(0,ut.default)(ct.default),ee=(0,dt.default)(ft.default),$(te=ee((ne=ae=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=(0,Ze.get)(e,"properties.objective"),a=e.objPlain;return a&&a.trim()?We.default.createElement("div",{className:this.ss("section-wrap","projectObjective-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_project_objective")),We.default.createElement("div",{className:this.ss("projectObjective")},We.default.createElement(et.default,{value:t,editorKey:"editorProjectObjective",renderOnly:!0}))):null}}]),t}(),ae.propTypes={data:Ge.default.object},te=ne))||te)||te),t.UnityVersion=(re=(0,Je.decorator)({versionMap:(0,Ye.state)(Ue)}),oe=(0,ut.default)(ct.default),ie=(0,dt.default)(ft.default),re(se=oe(se=ie((ue=le=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"renderRangeTitle",value:function(){var e=this.props,t=e.data,a=e.versionMap,n=(0,Ze.get)(t,"unityVersionRange"),r=(0,Ze.get)(n,"minVersionId"),o=(0,Ze.get)(n,"maxVersionId"),i=(0,Ze.get)(n,"minVersion")||(0,Ze.get)(a,[r]),s=(0,Ze.get)(n,"maxVersion")||(0,Ze.get)(a,[o]),l=(0,Ze.get)(i,"name"),u=(0,Ze.get)(s,"name");if(!l&&!u)return null;var c="";return c=l?u?u===l?l:this.__("unity_version_range",{min:l,max:u}):this.__("unity_version_range_above",{value:l}):this.__("unity_version_range_below",{value:u}),We.default.createElement("div",{className:this.ss("tag")},c)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=(0,Ze.get)(t,"unityVersionRange"),r=(0,Ze.get)(n,"withAll");return We.default.createElement("div",{className:this.ss("section-wrap","unityVersion-wrap",a)},We.default.createElement("div",{className:this.ss("section-title","unityVersion-title")},this.__("title_unity_version_range")),We.default.createElement("div",{className:this.ss("unityVersion")},r&&"preview"===a&&We.default.createElement("div",{className:this.ss("with-all")},this.__("support_all_unity_version")),this.renderRangeTitle()))}}]),t}(),le.propTypes={data:Ge.default.object,versionMap:Ge.default.object,theme:Ge.default.string},se=ue))||se)||se)||se)),ht=(ce={},r(ce,lt.DataTypeKeys.project,!0),r(ce,lt.DataTypeKeys.course,!0),r(ce,lt.DataTypeKeys.tutorial,!0),r(ce,lt.DataTypeKeys.quiz,!0),ce),_t=(t.UnityVersionDropDown=(de=(0,Je.decorator)({uv:(0,Ye.state)(Be),supportUnityVersions:(0,Ye.state)(He),changeContentUnityVersion:(0,Ye.signal)(Ve)}),fe=(0,ut.default)(ct.default),pe=(0,dt.default)(ft.default),de(me=fe(me=pe((_e=he=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"onChangedVersion",value:function(e){this.props.changeContentUnityVersion({uv:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.uv,n=t.data,r=t.supportUnityVersions;if(!(0,Ze.get)(n,"published"))return(0,Ze.get)(n,"unityVersionRange")?We.default.createElement(mt,{data:n}):null;if(!r||!(0,Ze.get)(r,"length"))return null;var o=(0,Ze.get)(n,"type"),i=(r||[]).map(function(e){return{text:e.name,value:e.value}});return ht[o]?We.default.createElement("div",{className:this.ss("section-wrap","unityVersion-wrap")},We.default.createElement("div",{className:this.ss("section-title","detailVersion-title")},this.__("title_detail_version_range"),We.default.createElement("div",{className:this.ss("version_tooltip")},We.default.createElement(Xe.default,{position:"top-width",type:"blue",text:this.__("notification_action_"+o)},We.default.createElement("div",{className:this.ss("help-icon","ifont","ifont-lrn_icon_help_outline")})))),We.default.createElement("div",{className:this.ss("title")},this.__("last_updated",{time:(0,Ze.get)(n,"lastPublishedTime")})),We.default.createElement("div",{className:this.ss("select")},We.default.createElement(at.default,{selects:i,value:a,size:"medium",theme:"grizzly",onChange:function(t,a,n){return e.onChangedVersion(n)}}))):null}}]),t}(),he.propTypes={uv:Ge.default.string,data:Ge.default.object,supportUnityVersions:Ge.default.array,changeContentUnityVersion:Ge.default.func},me=_e))||me)||me)||me),function(e){var t=(0,Ze.get)(e,"name","");if(!t){var a=(t=(0,Ze.get)(e,"url","")).lastIndexOf("/");-1!==a&&(t=t.substring(a+1))}return t});t.Resources=(ge=(0,Je.decorator)({currentHost:(0,Ye.state)(Ke)}),ve=(0,ut.default)(ct.default),ye=(0,dt.default)(ft.default),ge(be=ve(be=ye((Ee=we=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.currentHost,o=(0,Ze.get)(a,"documents"),i=!o||0===o.length;if(i)return null;var s=!i&&o.map(function(t,a){return We.default.createElement("a",{key:"res_"+a,className:e.ss("material"),target:"_blank",href:n?"#":(0,tt.default)((0,it.securedURL)(t.url),r)},We.default.createElement("div",{className:e.ss("material-icon","ifont","ifont-icons_link")}),t.name)});return We.default.createElement("div",{className:this.ss("section-wrap","resource-wrap")},We.default.createElement("div",{className:this.ss("section-title","resource-title")},this.__("title_document")),We.default.createElement("div",{className:this.ss("links-wrap","resources")},s))}}]),t}(),we.propTypes={data:Ge.default.object,disabled:Ge.default.bool,currentHost:Ge.default.string},be=Ee))||be)||be)||be),t.Assets=(Se=(0,ut.default)(ct.default),Oe=(0,dt.default)(ft.default),Se(ke=Oe((Pe=Te=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=(0,Ze.get)(e,"asset"),a=(0,Ze.get)(t,"url");if(!a)return null;var n=We.default.createElement("a",{className:this.ss("material"),href:a,target:"_blank"},We.default.createElement("div",{className:this.ss("material-icon","ifont","ifont-icons_link")}),t.name);return We.default.createElement("div",{className:this.ss("section-wrap","asset-wrap")},We.default.createElement("div",{className:this.ss("section-title","download-title")},this.__("title_assets")),We.default.createElement("div",{className:this.ss("links-wrap","assets")},n))}}]),t}(),Te.propTypes={data:Ge.default.object,disabled:Ge.default.bool},ke=Pe))||ke)||ke),t.Language=(Ce=(0,ut.default)(ct.default),je=(0,dt.default)(ft.default),Ce(Ie=je((Ne=Me=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=(0,Ze.get)(e,"language","en");return"und"===t&&(t="en"),We.default.createElement("div",{className:this.ss("section-wrap","language-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_language")),We.default.createElement("div",{className:this.ss("language","text")},(0,st.GetLanguageText)(this.context,t)))}}]),t}(),Me.propTypes={data:Ge.default.object},Ie=Ne))||Ie)||Ie);t.default=null},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.GetLiveSessionContentData=t.GetLiveSessionFromContentData=t.RegisterButton=t.LiveSessionWidget=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=l(["currentHost"],["currentHost"]),C=l(["common.openCalendarDialog"],["common.openCalendarDialog"]),j=l(["loginUser"],["loginUser"]),I=l(["userPremium"],["userPremium"]),M=l(["header.sendCDPRequest"],["header.sendCDPRequest"]),N=l(["common.loginTo"],["common.loginTo"]),D=n(a(2)),x=n(a(0)),R=n(a(1)),F=a(6),A=a(5),L=n(a(30)),K=n(a(16)),q=a(26),z=a(42),U=n(a(15)),B=a(4),H=a(79),V=a(8),G=n(a(18)),W=a(12),Q=a(9),J=n(a(3)),Y=n(a(381)),Z=n(a(7)),X=n(a(382)),$=(u=(0,F.decorator)({currentHost:(0,B.state)(P),openCalendarDialog:(0,B.signal)(C)}),c=(0,J.default)(Y.default),d=(0,Z.default)(X.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleLearnMore=function(){var e=n.props,t=e.data;(0,e.openCalendarDialog)({data:t})},r=a,i(n,r)}return s(t,R.default),T(t,[{key:"renderReferTo",value:function(){var e=this.props,t=e.data,a=e.currentHost,n=te(t);if(!n)return null;var r=n.id,o=n.type,i=n.title;return x.default.createElement("div",{className:this.ss("calendar-refer")},this.__("live_session_referTo"),x.default.createElement("a",{className:this.ss("link"),href:(0,G.default)("/"+o+"/"+r,a)},i))}},{key:"renderSessionProperties",value:function(){var e=this,t=this.props.data,a=(0,A.get)(t,"topicMap")||{},n=(0,A.get)(t,"industryMap")||{},o=(0,A.get)(t,"skillLevel"),i=(0,A.get)(t,"industryIds")||[],s=(0,A.get)(t,"topicIds")||[],l=[];if(i.length>0){var u=i.map(function(e){return n[e]&&n[e].name});l.push.apply(l,r(u))}if(o&&l.push(o.replace(/^[a-z]/,o.slice(0,1).toUpperCase())),s.length>0){var c=s.map(function(e){return a[e]&&a[e].name});l.push.apply(l,r(c))}return l.map(function(t,a){return x.default.createElement("div",{key:"session_properties_"+a,className:e.ss("sub-item")},0!==a&&x.default.createElement("div",{className:e.ss("dot")}),x.default.createElement("span",null,t))})}},{key:"renderSessionHead",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.showImage,r=(0,A.get)(t,"title"),o=(0,A.get)(t,"thumbnail.url");return x.default.createElement("div",{className:this.ss("head")},n&&x.default.createElement("div",{className:this.ss("head-title-image")},x.default.createElement("div",{className:this.ss("head-title-image-wrap")},x.default.createElement(K.default,{sizes:"60px",src:o}))),x.default.createElement("div",{className:this.ss("head-title")},x.default.createElement("span",null,r)),x.default.createElement("div",{className:this.ss("head-sub-des")},"detail"!==a?this.renderReferTo():this.renderSessionProperties()))}},{key:"renderSessionTime",value:function(){var e=this.props.data,t=(0,A.get)(e,"rangeTime.startTime"),a=(0,A.get)(e,"rangeTime.endTime"),n=(0,H.GetLiveSessionTime)({startTime:t,endTime:a},this.moment().utcOffset()),r=n.sessionTime,o=n.timeZone,i=n.daysDiff;return i>0?r+" ("+this.__("live_session_time_diff",{total:i})+") "+o:r+" "+o}},{key:"renderSessionContent",value:function(){var e=this.props.data,t=(0,A.get)(e,"period"),a=(0,A.get)(e,"rangeTime.startTime"),n=(0,A.get)(e,"previousVideo"),r=x.default.createElement("div",{key:"date",className:this.ss("date-time-item","date-item")},x.default.createElement("div",{className:this.ss("date-item-icon","ifont","ifont-icon-event")}),x.default.createElement("div",{className:this.ss("date-item-label")},this.__("time_format",{time:a}))),o=x.default.createElement("div",{key:"time-of-day",className:this.ss("date-time-item","time-item")},x.default.createElement("div",{className:this.ss("date-item-icon","ifont","ifont-icon-schedule")}),x.default.createElement("div",{className:this.ss("date-item-label")},this.renderSessionTime())),i=[r];return t===V.CalendarTabs.previous?i.push(x.default.createElement("div",{key:"video-preview",className:this.ss("video-preview-wrapper")},x.default.createElement(z.LearnPlayerPreview,{videoContent:n}))):i.push(o),x.default.createElement("div",{className:this.ss("live-session-content")},i)}},{key:"renderFoot",value:function(){var e=[],t=this.props,a=t.size,n=t.data,r=t.disabled,o="small"===a?"xsmall":"small";return r?e.push(x.default.createElement("div",{key:"free_trial",className:this.ss("link-item-wrap")},x.default.createElement("a",{className:this.ss("link"),href:L.default.LEARN_PREMIUM_STORE_FLOW},this.__("button_start_free_trial")))):(e.push(x.default.createElement("div",{key:"learn_more",className:this.ss("link-item-wrap")},x.default.createElement("a",{className:this.ss("link"),onClick:this.handleLearnMore},this.__("button_learn_more")))),!0===((0,A.get)(n,"period")===V.CalendarTabs.opening)&&e.push(x.default.createElement("div",{key:"register",className:this.ss("link-item-wrap")},x.default.createElement(ee,{size:o,data:n})))),x.default.createElement("div",{className:this.ss("session-foot")},e)}},{key:"render",value:function(){var e=this.props.size;return x.default.createElement("div",{className:this.ss("live-session-wrap",e)},x.default.createElement("div",{className:this.ss("session-body")},this.renderSessionHead(),this.renderSessionContent()),this.renderFoot())}}]),t}(),p.propTypes={currentHost:D.default.string,data:D.default.object,titleImage:D.default.string,showImage:D.default.bool,disabled:D.default.bool,theme:D.default.oneOf(["default"]),size:D.default.oneOf(["default","small"]),openCalendarDialog:D.default.func},p.defaultProps={theme:"default",size:"default"},f=m))||f)||f)||f);t.default=$;t.LiveSessionWidget=(h=(0,J.default)(Y.default),_=(0,Z.default)(X.default),h(g=_((y=v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,R.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled;return x.default.createElement("div",{className:this.ss("live-session")},x.default.createElement("div",{className:this.ss("top")},x.default.createElement(q.LiveSessionLabel,{theme:"upcoming"})),x.default.createElement($,{data:t,disabled:a}))}}]),t}(),v.propTypes={data:D.default.object,disabled:D.default.bool},g=y))||g)||g);var ee=t.RegisterButton=(b=(0,F.decorator)({loginUser:(0,B.state)(j),userPremium:(0,B.state)(I),sendCDPRequest:(0,B.signal)(M),loginTo:(0,B.signal)(N)}),w=(0,J.default)(Y.default),E=(0,Z.default)(X.default),b(S=w(S=E((k=O=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleRegister=function(e){e&&(0,W.pauseEvent)(e);var t=n.props,a=t.loginUser,r=t.loginTo,o=t.data,i=t.sendCDPRequest,s=t.userPremium;if(a){var l=(0,A.get)(o,"id"),u=(0,A.get)(o,"registerUrl");i({type:V.CDPLearnType.live_session,eventType:V.EventType.learn,data:{sessionId:l,userPremium:s},redirectUrl:u,popup:!0})}else r()},r=a,i(n,r)}return s(t,R.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.size;return"button"===t?x.default.createElement(U.default,{onClick:this.handleRegister,size:a,label:this.__("button_register")}):x.default.createElement("a",{className:this.ss("link"),onClick:this.handleRegister},this.__("button_register"))}}]),t}(),O.propTypes={loginUser:D.default.object,theme:D.default.oneOf(["button","alink"]),size:D.default.string,data:D.default.object,userPremium:D.default.bool,sendCDPRequest:D.default.func,loginTo:D.default.func},O.defaultProps={theme:"button"},S=k))||S)||S)||S),te=(t.GetLiveSessionFromContentData=function(e){var t=(0,A.get)(e,"liveSessions")||[],a=(0,A.findLast)(t,function(e){return e.period===V.CalendarTabs.opening});return a||null},t.GetLiveSessionContentData=function(e){var t=(0,A.get)(e,"contentMap")||{},a=(0,A.get)(e,"contentIds")||[],n=(0,A.get)(a,"0","");return(0,A.get)(t,(0,Q.GetIdByItemId)(n))})},function(e,t){e.exports={breadcrumb_item_type_tutorial:"breadcrumb_item_type_tutorial_3TLE",breadcrumb_item_type_project:"breadcrumb_item_type_project_3PXX",breadcrumb_item_type_mission:"breadcrumb_item_type_mission_2L_9",breadcrumb_item_type_pathway:"breadcrumb_item_type_pathway_1A_l",breadcrumb_item_type_course:"breadcrumb_item_type_course_1OQE",breadcrumb_item_type_quiz:"breadcrumb_item_type_quiz_2N9Z"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(28)),_=n(a(3)),g=n(a(376)),v=(s=(0,_.default)(g.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={timeoutEventId:null,periodInput:"",lastHint:-1,selectedIndex:n.props.initialIndex},n.onKeyDown=function(e){var t=e.keyCode,a=n.props,r=a.selects,o=a.onSelect,i=n.state.selectedIndex,s=r.length;switch(t){case 40:e.preventDefault(),n.setState({selectedIndex:(i+1)%s});break;case 38:e.preventDefault(),n.setState({selectedIndex:(i+s-1)%s});break;case 13:e.preventDefault(),i>=0&&i<s&&o(e,i,r[i].value)}},n.handleKeyPress=function(e){if(n.refs.scroller){var t=e.keyCode,a=e.charCode;n._timeoutEventId&&(window.clearTimeout(n._timeoutEventId),n._timeoutEventId=null);var r=String.fromCharCode(t||a).toLowerCase(),o=n.props.selects,i=!1,s=-1;if(r===n.state.periodInput||""===n.state.periodInput)o.every(function(e,t){return!(e.text.toLowerCase().startsWith(r)&&t>n.state.lastHint)||(s=t,!1)}),-1===s&&o.every(function(e,t){return!e.text.toLowerCase().startsWith(r)||(s=t,!1)}),-1!==s&&(n.setState({periodInput:r,lastHint:s}),i=!0);else{var l=n.state.periodInput+r;o.every(function(e,t){return!e.text.toLowerCase().startsWith(l)||(s=t,!1)}),-1!==s&&(n.setState({periodInput:l}),i=!0)}if(n._timeoutEventId=window.setTimeout(function(){n.setState({periodInput:"",timeoutEventId:null})},500),i){var u=n.refs.selects.children[0].offsetHeight;n.refs.scroller.scrollTo(s*u,!0),n.setState({selectedIndex:s})}}},i=a,o(n,i)}return i(t,m.default),d(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick),window.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick),window.removeEventListener("keypress",this.handleKeyPress)}},{key:"renderSelects",value:function(){var e=this,t=this.props,a=t.selects,n=t.value,r=t.onSelect,o=t.renderItem,i=this.state.selectedIndex;return a.map(function(t,a){var s=function(o){e.setState({selectedIndex:a}),n!==t.value&&r(o,a,t.value)},l=t.text;o&&(l=o(t));var u=["active"];return p.default.createElement("div",{className:e.ss("selectItem",a===i&&e.ss.apply(e,u)),value:t.value,key:t.value,onClick:function(e){return s(e)}},l)})}},{key:"render",value:function(){var e=this.props,t=e.selects,a=e.theme;return t.length>5?p.default.createElement(h.default,{theme:a,fade:!1,className:this.ss("scroller"),ref:"scroller"},p.default.createElement("div",{className:this.ss("selects"),ref:"selects"},this.renderSelects())):p.default.createElement("div",{className:this.ss("selects",a)},this.renderSelects())}}]),t}(),u.propTypes={selects:f.default.arrayOf(f.default.shape({text:f.default.string.isRequired,value:f.default.oneOfType([f.default.number.isRequired,f.default.string.isRequired])})).isRequired,value:f.default.oneOfType([f.default.number.isRequired,f.default.string.isRequired]),onSelect:f.default.func,renderItem:f.default.func,initialIndex:f.default.number,theme:f.default.oneOf(["light","dark"])},u.defaultProps={initialIndex:-1,theme:"light"},l=c))||l;t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.BreadcrumbItem=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=l(["breadcrumb"],["breadcrumb"]),S=l(["locale"],["locale"]),O=l(["learner.parentIds"],["learner.parentIds"]),k=l(["currentHost"],["currentHost"]),T=n(a(2)),P=n(a(0)),C=n(a(1)),j=a(6),I=a(4),M=a(5),N=a(9),D=n(a(18)),x=n(a(3)),R=n(a(305)),F=n(a(7)),A=n(a(135)),L=(u=(0,j.decorator)({breadcrumb:(0,I.state)(E)}),c=(0,x.default)(R.default),d=(0,F.default)(A.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,C.default),w(t,[{key:"getActiveItem",value:function(e){var t=[];if(e&&e.length>0){var a=e.filter(function(e){return!0===(0,M.get)(e,"active")})[0];if(a&&(t.push(a),a.subNodes&&a.subNodes.length>0)){var n=this.getActiveItem(a.subNodes);n&&n.length>0&&t.push.apply(t,r(n))}}return t}},{key:"getBreadcrumbItems",value:function(){var e=this.props.breadcrumb,t=(0,M.get)(e,"root"),a=this.getActiveItem([t]),n=(0,M.get)(e,"selectedIds")||[];return a.length>n.length&&(a=a.slice(0,n.length)),a}},{key:"renderBreadcrumbItems",value:function(){var e=this.props,t=e.theme,a=e.uv,n=this.getBreadcrumbItems();return n.map(function(e,r){var o=r===n.length-1;return P.default.createElement(K,{theme:t,key:e.id,level:r,last:o,itemData:e,uv:a})})}},{key:"render",value:function(){return P.default.createElement("div",{className:this.ss("breadcrumb-tip-content-wrap")},this.renderBreadcrumbItems())}}]),t}(),p.propTypes={breadcrumb:T.default.object,theme:T.default.oneOf(["default","sticker-head"]),uv:T.default.string},f=m))||f)||f)||f);t.default=L;var K=t.BreadcrumbItem=(h=(0,j.decorator)({locale:(0,I.state)(S),parentIds:(0,I.state)(O),currentHost:(0,I.state)(k)}),_=(0,x.default)(R.default),g=(0,F.default)(A.default),h(v=_(v=g((b=y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,C.default),w(t,[{key:"getUrl",value:function(){var e=this.props,t=e.parentIds,a=e.itemData,n=e.currentHost,r=e.locale,o=e.uv;return(0,D.default)((0,N.GetItemUrlInBreadcrumb)({parentIds:t,item:a,locale:r,uv:o}),n)}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.level,n=e.last,r=e.itemData,o=r.title,i=r.type,s=0===a;return P.default.createElement("div",{className:this.ss("breadcrumb-item","level-"+a,n&&"last",t)},P.default.createElement("div",{className:this.ss("breadcrumb-item-content")},n?P.default.createElement("div",{className:this.ss("content","content-last")},P.default.createElement("div",{className:this.ss("type")},this.__("breadcrumb_item_type_"+i)),P.default.createElement("div",{className:this.ss("title")},o)):P.default.createElement("a",{className:this.ss("content","content-link"),href:this.getUrl()},P.default.createElement("div",{className:this.ss("type")},this.__("breadcrumb_item_type_"+i)),P.default.createElement("div",{className:this.ss("title")},o)),!s&&P.default.createElement("div",{className:this.ss("line","line-vertical","line-top")}),!n&&!s&&P.default.createElement("div",{className:this.ss("line","line-vertical","line-bottom")}),!s&&P.default.createElement("div",{className:this.ss("line","line-horizontal")})))}}]),t}(),y.propTypes={locale:T.default.string,parentIds:T.default.object,level:T.default.number,itemData:T.default.object,last:T.default.bool,theme:T.default.string,currentHost:T.default.string,uv:T.default.string},v=b))||v)||v)||v)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EndBarComponent=t.default=void 0;var s,l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=n(a(2)),g=n(a(0)),v=n(a(1)),y=n(a(15)),b=a(20),w=n(a(81)),E=n(a(3)),S=n(a(373)),O=n(a(7)),k=n(a(374)),T=(l=s=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.searchStatus,a=e.loadMoreStatus;!((0,b.isLoading)(t)||(0,b.isLoading)(a))&&n.hasMoreResult()&&n.isScrollToEnd()&&n.hasMoreResult()&&n.onPage()},i=a,o(n,i)}return i(t,v.default),h(t,[{key:"onPage",value:function(){var e=this.props,t=e.searchStatus,a=e.loadMoreStatus;!((0,b.isLoading)(t)||(0,b.isLoading)(a))&&this.hasMoreResult()&&this.props.onPage&&this.props.onPage()}},{key:"isScrollToEnd",value:function(){var e=document.getElementById("pageBody").parentNode,t=e.scrollTop,a=e.scrollHeight;return t+e.clientHeight>=a}},{key:"hasMoreResult",value:function(){var e=this.props,t=e.hasMore,a=e.page,n=e.pageSize,r=!1;if(t)r=t();else if("number"==typeof a&&"number"==typeof n)return(a+1)*n<this.props.total;return r}},{key:"render",value:function(){var e=this,t=(0,w.default)(this.props,"hasMore","onPage");return g.default.createElement(P,m({},t,{hasMore:this.hasMoreResult(),onPage:function(){return e.onPage()}}))}}]),t}(),s.propTypes={page:_.default.number,pageSize:_.default.number,total:_.default.number,searchStatus:_.default.string,loadMoreStatus:_.default.string,style:_.default.object,onPage:_.default.func,hasMore:_.default.func},l);t.default=T;var P=t.EndBarComponent=(u=(0,E.default)(S.default),c=(0,O.default)(k.default),u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.loadMoreStatus,n=e.hasMore,r=e.onPage,o=null;return(0,b.isLoading)(a)?o=g.default.createElement("div",{className:this.ss("searchInProgress")},g.default.createElement("div",{className:this.ss("loading")})):n&&(o=g.default.createElement("div",{className:this.ss("button-more")},g.default.createElement(y.default,{widthStyle:"full",label:this.__("more"),onClick:function(){return r()}}))),g.default.createElement("div",{key:"status",className:this.ss("statusBar"),style:m({},t)},o)}}]),t}(),f.propTypes={loadMoreStatus:_.default.string,hasMore:_.default.bool,style:_.default.object,onPage:_.default.func},f.defaultProps={style:{}},d=p))||d)||d)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.TranslateConfirmDialog=t.DeleteConfirmDialog=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N,D,x,R,F,A,L,K,q,z,U,B,H,V,G,W,Q,J,Y,Z,X,$,ee,te,ae,ne,re,oe,ie,se,le,ue,ce,de,fe,pe,me,he,_e,ge,ve,ye,be,we,Ee,Se,Oe,ke,Te,Pe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Ce=l(["header.setting.appSwitcherOpen"],["header.setting.appSwitcherOpen"]),je=l(["header.appSwitcherOpen"],["header.appSwitcherOpen"]),Ie=l(["header.appSwitcherClose"],["header.appSwitcherClose"]),Me=l(["common.setting.avatarExpanded"],["common.setting.avatarExpanded"]),Ne=l(["loginUser"],["loginUser"]),De=l(["userGroups"],["userGroups"]),xe=l(["currentHost"],["currentHost"]),Re=l(["common.loginTo"],["common.loginTo"]),Fe=l(["common.openAvatar"],["common.openAvatar"]),Ae=l(["common.closeAvatar"],["common.closeAvatar"]),Le=l(["currentPath"],["currentPath"]),Ke=l(["common.setting.searchBoxOpen"],["common.setting.searchBoxOpen"]),qe=l(["common.openSearchBox"],["common.openSearchBox"]),ze=l(["common.closeSearchBox"],["common.closeSearchBox"]),Ue=l(["userPremium"],["userPremium"]),Be=l(["header.deleteConfirmDialog.open"],["header.deleteConfirmDialog.open"]),He=l(["header.deleteConfirmDialog.type"],["header.deleteConfirmDialog.type"]),Ve=l(["header.closeDeleteConfirm"],["header.closeDeleteConfirm"]),Ge=l(["header.doConfirmDelete"],["header.doConfirmDelete"]),We=l(["common.saveConfirmDialog.open"],["common.saveConfirmDialog.open"]),Qe=l(["common.saveConfirmDialog.type"],["common.saveConfirmDialog.type"]),Je=l(["common.doConfirmTranslate"],["common.doConfirmTranslate"]),Ye=l(["common.skipConfirmTranslate"],["common.skipConfirmTranslate"]),Ze=n(a(2)),Xe=n(a(0)),$e=n(a(1)),et=a(6),tt=a(4),at=n(a(22)),nt=n(a(184)),rt=n(a(94)),ot=n(a(186)),it=n(a(43)),st=n(a(188)),lt=n(a(190)),ut=n(a(95)),ct=n(a(195)),dt=n(a(197)),ft=n(a(199)),pt=a(27),mt=n(a(18)),ht=a(75),_t=a(8),gt=n(a(30)),vt=(n(a(81)),n(a(3))),yt=n(a(201)),bt=n(a(7)),wt=n(a(62)),Et=(u=(0,et.decorator)({isAppSwitcherOpen:(0,tt.state)(Ce),appSwitcherOpen:(0,tt.signal)(je),appSwitcherClose:(0,tt.signal)(Ie)}),c=(0,vt.default)(yt.default),d=(0,bt.default)(wt.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"onClick",value:function(){var e=this.props,t=e.isAppSwitcherOpen,a=e.appSwitcherOpen,n=e.appSwitcherClose;t?n():a()}},{key:"render",value:function(){var e=this,t=this.props.isAppSwitcherOpen;return Xe.default.createElement("div",{className:this.ss("app-switcher-wrap")},Xe.default.createElement(at.default,{text:this.__("tooltip_app_switcher"),position:"bottom"},Xe.default.createElement("div",{className:this.ss("app-switcher-action",t&&"open"),id:"app-switcher-action"},Xe.default.createElement("button",{className:this.ss("app-switcher-icon","ifont","ifont-lrn_icon_switcher"),onClick:function(){return e.onClick()}}))),t&&Xe.default.createElement(St,null))}}]),t}(),p.propTypes={isAppSwitcherOpen:Ze.default.bool.isRequired,appSwitcherOpen:Ze.default.func,appSwitcherClose:Ze.default.func},f=m))||f)||f)||f),St=(h=(0,et.decorator)({isAppSwitcherOpen:(0,tt.state)(Ce),appSwitcherClose:(0,tt.signal)(Ie)}),_=(0,vt.default)(yt.default),g=(0,bt.default)(wt.default),h(v=_(v=g((b=y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,pt.addClickOutside)([this,"app-switcher-action"],function(){e.props.appSwitcherClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=[{name:"Asset Store",icon:"icons-app-assetstore",href:"https://assetstore.unity.com/"},{name:"Connect",icon:"icons-app-connect",href:"https://connect.unity.com/"},{name:"Dashboard",icon:"icons-app-dashboard",href:"https://dashboard.unity3d.com"},{name:"Distribute",icon:"UDP-Icon",href:"https://distribute.dashboard.unity.com/"},{name:"Forum",icon:"icons-app-forum",href:"https://forum.unity.com/"}].map(function(t){return Xe.default.createElement("a",{className:e.ss("app-item"),href:t.href,key:t.name},Xe.default.createElement("div",{className:e.ss("app-icon","ifont","ifont-"+t.icon)}),Xe.default.createElement("div",{className:e.ss("app-name")},t.name))});return Xe.default.createElement("div",{className:this.ss("app-switcher")},Xe.default.createElement("div",{className:this.ss("switcher-wrap")},t))}}]),t}(),y.propTypes={isAppSwitcherOpen:Ze.default.bool.isRequired,appSwitcherClose:Ze.default.func},v=b))||v)||v)||v),Ot=(w=(0,et.decorator)({expanded:(0,tt.state)(Me),loginUser:(0,tt.state)(Ne),userGroups:(0,tt.state)(De),currentHost:(0,tt.state)(xe),loginTo:(0,tt.signal)(Re),openAvatar:(0,tt.signal)(Fe),closeAvatar:(0,tt.signal)(Ae)}),E=(0,vt.default)(yt.default),S=(0,bt.default)(wt.default),w(O=E(O=S((T=k=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickAvatar=function(){var e=n.props,t=e.expanded,a=e.openAvatar,r=e.closeAvatar;return!0===t?r():a()},r=a,i(n,r)}return s(t,$e.default),Pe(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,pt.addClickOutside)([this],function(){e.props.closeAvatar()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderUnifiedProfile",value:function(){var e=this.props.loginUser,t=gt.default.DEFAULT_URL+"/u/"+e.id;return Xe.default.createElement("div",{className:this.ss("profile-wrap")},Xe.default.createElement("div",{className:this.ss("profile-avatar-wrap")},Xe.default.createElement(it.default,{user:e,size:"unified-profile",status:"online"}),Xe.default.createElement("div",{className:this.ss("profile-account")},Xe.default.createElement("div",{className:this.ss("profile-name")},e.name),Xe.default.createElement("div",{className:this.ss("profile-email")},e.email),Xe.default.createElement(rt.default,{tourTipId:_t.TourStepKey.menu_my_account},Xe.default.createElement("a",{className:this.ss("profile-link"),href:gt.default.BASE_ID_URL},this.__("account"))))),Xe.default.createElement("div",{className:this.ss("profile-completeness-wrap")},Xe.default.createElement("div",{className:this.ss("profile-completeness")},Xe.default.createElement("div",{className:this.ss("completeness-text")},this.__("profile_completeness",{percent:Math.round(e.profilePercent)})),Xe.default.createElement("a",{className:this.ss("edit-link"),href:t},this.__("edit"))),Xe.default.createElement("div",{className:this.ss("progress-bar")},Xe.default.createElement(st.default,{percent:e.profilePercent,width:252,theme:"unified-profile"}))))}},{key:"renderLoginAction",value:function(){var e=this.props,t=e.loginTo,a=e.currentHost;return Xe.default.createElement("div",{className:this.ss("right")},Xe.default.createElement("div",{className:this.ss("other-items")},Xe.default.createElement("a",{href:(0,mt.default)("/faq",a),className:this.ss("menu-item")},Xe.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-lrn_icon_help_outline")}),Xe.default.createElement("div",{className:this.ss("item-name")},this.__("faq"))),Xe.default.createElement("a",{className:this.ss("menu-item"),onClick:function(){return t({isReg:!0})}},Xe.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icons-anonymous")}),Xe.default.createElement("div",{className:this.ss("item-name")},this.__("new_account"))),Xe.default.createElement("a",{className:this.ss("menu-item"),onClick:function(){return t()}},Xe.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icons-sign-out")}),Xe.default.createElement("div",{className:this.ss("item-name")},this.__("sign_in")))))}},{key:"renderOtherItems",value:function(){var e=gt.default.DEFAULT_URL+"/settings#tab_learn";return Xe.default.createElement("div",{className:this.ss("other-items")},Xe.default.createElement("a",{className:this.ss("menu-item"),href:e},Xe.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icons-settings")}),Xe.default.createElement("div",{className:this.ss("item-name")},this.__("menu_avatar_settings"))),Xe.default.createElement("a",{className:this.ss("menu-item"),href:"/auth/logout"},Xe.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icons-sign-out")}),Xe.default.createElement("div",{className:this.ss("item-name")},this.__("sign_out"))))}},{key:"renderRight",value:function(){var e=this.props,t=e.userGroups,a=e.loginUser,n=e.currentHost,r=gt.default.DEFAULT_URL+"/admin/learn/report-stats";return Xe.default.createElement("div",{className:this.ss("right")},this.renderUnifiedProfile(),(0,ht.isLearnCreatorAll)(t)&&Xe.default.createElement("a",{href:(0,mt.default)("/creator/dashboard",n),className:this.ss("item")},this.__("content_creator")),(0,ht.isLearnAdminAll)(t)&&Xe.default.createElement("a",{href:(0,mt.default)("/creator/dashboard/architecture",n),className:this.ss("item")},this.__("content_learner_architecture")),(0,ht.isLearnModeratorAll)(t)&&Xe.default.createElement("a",{href:r,className:this.ss("item")},this.__("community_moderator")),Xe.default.createElement(rt.default,{tourTipId:_t.TourStepKey.menu_my_learning},Xe.default.createElement("a",{href:(0,mt.default)("/u/"+a.id,n),className:this.ss("item")},this.__("my_learning"))),Xe.default.createElement("a",{href:(0,mt.default)("/faq",n),className:this.ss("item")},this.__("faq")),this.renderOtherItems())}},{key:"render",value:function(){var e=this.props,t=e.loginUser,a=e.expanded;return Xe.default.createElement("div",{className:this.ss("avatar-action",a&&"hover")},Xe.default.createElement("button",{className:this.ss("button"),onClick:this.onClickAvatar},Xe.default.createElement("div",{className:this.ss("button-inner")},Xe.default.createElement(it.default,{user:t||{anonymous:!0},className:this.ss("avatar"),nameClassName:this.ss("avatar-name")}))),Xe.default.createElement("div",{className:this.ss("popout")},t?this.renderRight():this.renderLoginAction()))}}]),t}(),k.propTypes={expanded:Ze.default.bool,loginUser:Ze.default.object,userGroups:Ze.default.array,currentHost:Ze.default.string,loginTo:Ze.default.func,openAvatar:Ze.default.func,closeAvatar:Ze.default.func},O=T))||O)||O)||O),kt=(P=(0,et.decorator)({currentPath:(0,tt.state)(Le),searchBoxOpen:(0,tt.state)(Ke),openSearchBox:(0,tt.signal)(qe),closeSearchBox:(0,tt.signal)(ze)}),C=(0,vt.default)(yt.default),j=(0,bt.default)(wt.default),P(I=C(I=j((N=M=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=(e.openSearchBox,e.closeSearchBox,e.currentPath,e.searchBoxOpen),a=r(e,["openSearchBox","closeSearchBox","currentPath","searchBoxOpen"]),n=t;return Xe.default.createElement("div",{className:this.ss("search-wrap")},Xe.default.createElement("div",{ref:"search",className:this.ss("search")},n&&Xe.default.createElement("div",{ref:"searchBox",className:this.ss("search-box",n&&"show")},Xe.default.createElement(ft.default,a))))}}]),t}(),M.propTypes={currentPath:Ze.default.string,searchBoxOpen:Ze.default.bool,openSearchBox:Ze.default.func,closeSearchBox:Ze.default.func},I=N))||I)||I)||I),Tt=(D=(0,et.decorator)({userPremium:(0,tt.state)(Ue),currentHost:(0,tt.state)(xe)}),x=(0,vt.default)(yt.default),R=(0,bt.default)(wt.default),D(F=x(F=R((L=A=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},r=a,i(n,r)}return s(t,$e.default),Pe(t,[{key:"renderUserActions",value:function(){return Xe.default.createElement("div",{className:this.ss("user-actions")},Xe.default.createElement(Et,null),Xe.default.createElement(Ot,null))}},{key:"renderMenuItems",value:function(){return Xe.default.createElement("div",{className:this.ss("main-menu-wrapper")},Xe.default.createElement("div",{className:this.ss("main-menu")},Xe.default.createElement(Ct,null),Xe.default.createElement(jt,null),Xe.default.createElement(Pt,null),Xe.default.createElement(It,null),Xe.default.createElement(dt.default,null),Xe.default.createElement(Mt,null)),Xe.default.createElement(kt,null))}},{key:"renderLogo",value:function(){var e=this.props.currentHost;return Xe.default.createElement("div",{className:this.ss("logo")},Xe.default.createElement("a",{href:(0,mt.default)("/",e)},Xe.default.createElement("div",{className:this.ss("logo-icon","ifont","ifont-lrn_logo_unity_learn")})))}},{key:"render",value:function(){var e=this.props.theme;return Xe.default.createElement("div",null,Xe.default.createElement(nt.default,null),Xe.default.createElement(lt.default,null),Xe.default.createElement("div",{className:this.ss("header-wrap",e)},Xe.default.createElement("div",{className:this.ss("header")},this.renderLogo(),this.renderMenuItems(),this.renderUserActions())),Xe.default.createElement(ot.default,null),Xe.default.createElement(Nt,null),Xe.default.createElement(Dt,null),Xe.default.createElement(ct.default,null))}}]),t}(),A.propTypes={userPremium:Ze.default.bool,currentHost:Ze.default.string,theme:Ze.default.oneOf(["default","hidden","architecture"])},F=L))||F)||F)||F);t.default=Tt;var Pt=(K=(0,et.decorator)({currentPath:(0,tt.state)(Le),currentHost:(0,tt.state)(xe)}),q=(0,vt.default)(yt.default),z=(0,bt.default)(wt.default),K(U=q(U=z((H=B=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.currentHost,n=t&&t.endsWith("/tutorials");return Xe.default.createElement("div",{className:this.ss("tutorials",n&&"active")},Xe.default.createElement("a",{className:this.ss("link"),href:(0,mt.default)("/tutorials",a)},this.__("menu_tutorials")))}}]),t}(),B.propTypes={currentPath:Ze.default.string,currentHost:Ze.default.string},U=H))||U)||U)||U),Ct=(V=(0,et.decorator)({currentPath:(0,tt.state)(Le),currentHost:(0,tt.state)(xe)}),G=(0,vt.default)(yt.default),W=(0,bt.default)(wt.default),V(Q=G(Q=W((Y=J=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.currentHost,n=t&&t.endsWith("/projects");return Xe.default.createElement("div",{className:this.ss("projects",n&&"active")},Xe.default.createElement("a",{className:this.ss("link"),href:(0,mt.default)("/projects",a)},this.__("menu_projects")))}}]),t}(),J.propTypes={currentPath:Ze.default.string,currentHost:Ze.default.string},Q=Y))||Q)||Q)||Q),jt=(Z=(0,et.decorator)({currentPath:(0,tt.state)(Le),currentHost:(0,tt.state)(xe)}),X=(0,vt.default)(yt.default),$=(0,bt.default)(wt.default),Z(ee=X(ee=$((ae=te=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.currentHost,n=t&&t.endsWith("/courses");return Xe.default.createElement("div",{className:this.ss("courses",n&&"active")},Xe.default.createElement(rt.default,{tourTipId:_t.TourStepKey.menu_courses},Xe.default.createElement("a",{className:this.ss("link"),href:(0,mt.default)("/courses",a)},this.__("menu_courses"))))}}]),t}(),te.propTypes={currentPath:Ze.default.string,currentHost:Ze.default.string},ee=ae))||ee)||ee)||ee),It=(ne=(0,et.decorator)({currentPath:(0,tt.state)(Le),userGroups:(0,tt.state)(De),userPremium:(0,tt.state)(Ue),currentHost:(0,tt.state)(xe)}),re=(0,vt.default)(yt.default),oe=(0,bt.default)(wt.default),ne(ie=re(ie=oe((le=se=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.currentHost,n="/live-calendar",r=t&&t.endsWith(n);return Xe.default.createElement("div",{className:this.ss("learn-live",r&&"active")},Xe.default.createElement(rt.default,{tourTipId:_t.TourStepKey.menu_live_calendar},Xe.default.createElement("a",{className:this.ss("link"),href:(0,mt.default)(n,a)},this.__("menu_live_calendar"))))}}]),t}(),se.propTypes={currentPath:Ze.default.string,userGroups:Ze.default.array,userPremium:Ze.default.bool,currentHost:Ze.default.string},ie=le))||ie)||ie)||ie),Mt=(ue=(0,et.decorator)({currentPath:(0,tt.state)(Le),userGroups:(0,tt.state)(De),currentHost:(0,tt.state)(xe)}),ce=(0,vt.default)(yt.default),de=(0,bt.default)(wt.default),ue(fe=ce(fe=de((me=pe=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.userGroups,n=e.currentHost;if(!(0,ht.isLearnAdminAll)(a))return null;var r="/creator/featured",o=!(t.indexOf(r)<0);return Xe.default.createElement("div",{className:this.ss("admin-tool",o&&"active")},Xe.default.createElement("a",{className:this.ss("link"),href:(0,mt.default)(r,n)},this.__("menu_admin_tool")))}}]),t}(),pe.propTypes={currentPath:Ze.default.string,userGroups:Ze.default.array,currentHost:Ze.default.string},fe=me))||fe)||fe)||fe),Nt=t.DeleteConfirmDialog=(he=(0,et.decorator)({deleteConfirmOpen:(0,tt.state)(Be),deleteConfirmType:(0,tt.state)(He),closeDeleteConfirm:(0,tt.signal)(Ve),doConfirmDelete:(0,tt.signal)(Ge)}),_e=(0,vt.default)(yt.default),ge=(0,bt.default)(wt.default),he(ve=_e(ve=ge((be=ye=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"render",value:function(){var e=this.props,t=e.deleteConfirmOpen,a=e.deleteConfirmType,n=e.closeDeleteConfirm,r=e.doConfirmDelete;return Xe.default.createElement("div",{className:this.ss("dialog-wrapper")},Xe.default.createElement(ut.default,{open:t,theme:"delete",title:this.__("delete_confirm_"+a+"_title"),description:this.__("delete_confirm_"+a+"_text"),onConfirm:function(){return r()},onClose:function(){return n()}}))}}]),t}(),ye.propTypes={deleteConfirmOpen:Ze.default.bool,deleteConfirmType:Ze.default.oneOf(["default","submission_step","exercise","competency_skill"]),closeDeleteConfirm:Ze.default.func,doConfirmDelete:Ze.default.func},ve=be))||ve)||ve)||ve),Dt=t.TranslateConfirmDialog=(we=(0,et.decorator)({saveConfirmOpen:(0,tt.state)(We),saveConfirmType:(0,tt.state)(Qe),doConfirmTranslate:(0,tt.signal)(Je),skipConfirmTranslate:(0,tt.signal)(Ye)}),Ee=(0,vt.default)(yt.default),Se=(0,bt.default)(wt.default),we(Oe=Ee(Oe=Se((Te=ke=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,$e.default),Pe(t,[{key:"render",value:function(){var e=this.props,t=e.saveConfirmOpen,a=e.saveConfirmType,n=e.doConfirmTranslate,r=e.skipConfirmTranslate;return Xe.default.createElement(ut.default,{open:t,theme:"publish",title:this.__("save_confirm_"+a+"_title"),description:this.__("save_confirm_"+a+"_text"),onConfirm:function(){return n()},onClose:function(){return r()}})}}]),t}(),ke.propTypes={saveConfirmOpen:Ze.default.bool,saveConfirmType:Ze.default.string,doConfirmTranslate:Ze.default.func,skipConfirmTranslate:Ze.default.func},Oe=Te))||Oe)||Oe)||Oe)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.recordMap.",""],["learner.recordMap.",""]),_=s(["data.id"],["data.id"]),g=s(["learner.parentIds"],["learner.parentIds"]),v=s(["httpAPI.",""],["httpAPI.",""]),y=s(["learner.postRecord"],["learner.postRecord"]),b=s(["learner.restartRecord"],["learner.restartRecord"]),w=n(a(2)),E=n(a(0)),S=n(a(1)),O=a(6),k=a(4),T=a(5),P=n(a(15)),C=a(8),j=a(20),I=a(9),M=n(a(3)),N=n(a(308)),D=n(a(7)),x=n(a(309)),R=(l=(0,O.decorator)({record:(0,k.state)(h,(0,k.props)(_)),parentIds:(0,k.state)(g),postRecordData:(0,k.state)(v,C.POST_RECORD),restartRecordData:(0,k.state)(v,C.RESTART_RECORD),postRecord:(0,k.signal)(y),restartRecord:(0,k.signal)(b)}),u=(0,M.default)(N.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPostRecord=function(){var e=n.props,t=e.data,a=e.postRecord,r=e.disabled,o=e.versionId;if(!r){var i=t.id,s=t.type;a&&a({id:i,type:s,versionId:o})}},n.onRestartRecord=function(){var e=n.props,t=e.data,a=e.restartRecord,r=e.disabled,o=e.versionId;if(!r){var i=t.id,s=t.type;a&&a({id:i,type:s,versionId:o})}},n.onContinueRecord=function(){var e=n.props,t=e.record,a=e.disabled,r=e.scrollToStep;if(!a){var o=(0,T.get)(t,"nextRecordData")||{};r&&r(o)}},i=a,o(n,i)}return i(t,S.default),m(t,[{key:"getCompletedPercent",value:function(){var e=this.props,t=e.data,a=e.record,n=e.versionId,r=(0,I.GetRecordSubItems)({data:t,record:a,versionId:n}),o=r.items,i=r.completed;if(0===o.length)return 0;var s=Object.keys(i).filter(function(e){return!0===i[e]}).length;return Math.round(100*s/o.length)}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=e.record,r=e.postRecordData,o=e.restartRecordData,i=e.scrollToStep,s=e.versionId,l=a.type,u=[];if(n){var c=(0,I.GetRecordStatus)(n,s),d=c.completed,f=c.completedTime;if(d){f&&u.push(E.default.createElement("div",{key:"hint_restart",className:this.ss("hint")},E.default.createElement("div",{className:this.ss("hint-label")},this.__("hint_completed_"+l)),E.default.createElement("div",{className:this.ss("hint-time")},this.__("time_format",{time:f}))));var p=(0,j.isLoading)((0,T.get)(o,"updateStatus"));u.push(E.default.createElement(P.default,{key:"btn_restart",loading:p,label:this.__("button_restart"),onClick:this.onRestartRecord}))}else{var m="sticker-head"===t?this.__("button_continue"):this.__("button_resume_"+l);"sticker-head"!==t&&u.push(E.default.createElement("div",{key:"progress-info",className:this.ss("progress-info")},E.default.createElement("div",{className:this.ss("label")},this.__("progress_info_"+l,{percent:this.getCompletedPercent()})))),i&&u.push(E.default.createElement(P.default,{key:"btn_resume",label:m,onClick:this.onContinueRecord}))}}else{var h=(0,j.isLoading)((0,T.get)(r,"updateStatus"));u.push(E.default.createElement(P.default,{key:"btn_start",loading:h,label:this.__("button_start_"+l),onClick:this.onPostRecord}))}return E.default.createElement("div",{className:this.ss("record-button",t)},u)}}]),t}(),f.propTypes={data:w.default.object,record:w.default.object,parentIds:w.default.object,size:w.default.oneOf(["small","medium","large"]),theme:w.default.oneOf(["default","sticker-head"]),postRecordData:w.default.object,restartRecordData:w.default.object,disabled:w.default.bool,versionId:w.default.string,postRecord:w.default.func,restartRecord:w.default.func,scrollToStep:w.default.func},d=p))||d)||d)||d);t.default=R},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(16)),_=n(a(3)),g=n(a(404)),v=(s=(0,_.default)(g.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props.url,t=void 0===e?"":e;return p.default.createElement("div",{className:this.ss("head-bg-image-wrap")},p.default.createElement("div",{className:this.ss("head-bg-image")},p.default.createElement(h.default,{src:t,sizes:"100vw",height:810})),p.default.createElement("div",{className:this.ss("head-bg-cover")}))}}]),t}(),u.propTypes={url:f.default.string},l=c))||l;t.default=v},function(e,t){e.exports={search:{left:["type","skillLevel","tag","industry","uv","duration","language"],right:["orderBy"]},landing:{left:["search","skillLevel","tag","industry","duration","language"],right:["orderBy"]},educators:{left:["search","type","skillLevel","tag","ageRange","instruction"],right:["orderBy"]},submission:{left:["exercises"]},creator:{left:["owner","type","skillLevel","tag","industry","uv","duration","language"],check:[{key:"hidden",value:"none_hidden"},{key:"hidden",value:"hidden"},{key:"premium",value:"none_premium"},{key:"premium",value:"premium"},{key:"singles",value:"singles"},{key:"status",value:"draft"},{key:"status",value:"published"}]},architecture:{left:["search","type","skillLevel","language"],check:[{key:"status",value:"draft"},{key:"status",value:"published"}]},search_skill:{left:["skillLevel","tag","industry","duration","language","content","premium"]},mission:{left:["skillLevel","tag","industry","duration","language","uv"]}}},function(e,t){e.exports={section_eyebrow:"section_eyebrow_3PLu",section_eyebrow_login:"section_eyebrow_login_270Q",section_title:"section_title_2H7O",tab_newToUnity:"tab_newToUnity_3UsA",tab_familiarWithUnity:"tab_familiarWithUnity_IXg1",tab_powerUser:"tab_powerUser_2MV3",content_newToUnity_title:"content_newToUnity_title_2Tq-",content_familiarWithUnity_title:"content_familiarWithUnity_title_32kh",content_powerUser_title:"content_powerUser_title_15HR",start_with_first_project:"start_with_first_project_j2nE",start_with_area:"start_with_area_1VA4",start_with_industry_topic:"start_with_industry_topic_2d5x",start_here:"start_here_3X0G",sign_in_text:"sign_in_text_n_WM",sign_in_link:"sign_in_link_3hS-",start_now:"start_now_2gHu",search_input_placeholder:"search_input_placeholder_1aCH",type_topics:"type_topics_3r7S",type_industries:"type_industries_xTbq",button_more:"button_more_3uu4",button_less:"button_less_1hML",browse_all_topics:"browse_all_topics_3cMm",collapse_title:"collapse_title_mVjv",tag_name_games:"tag_name_games_2FjY",tag_name_xr:"tag_name_xr_1Hdb",tag_name_film:"tag_name_film_3j1-",tag_name_scripting:"tag_name_scripting_1LQu",tag_name_art:"tag_name_art_3xeZ",tag_name_design:"tag_name_design_3qb2",tag_desc_games:"tag_desc_games_2Fa2",tag_desc_xr:"tag_desc_xr_2I9Q",tag_desc_film:"tag_desc_film_3-L2",tag_desc_scripting:"tag_desc_scripting_1HO6",tag_desc_art:"tag_desc_art_3sMQ",tag_desc_design:"tag_desc_design_30kP"}},function(e,t,a){"use strict";var n=a(50);e.exports=function(e){return(e=e||{}).rules&&Object.keys(e.rules).forEach(function(t){n[t]=e.rules[t]}),function(e,t){e.alias("cerebral-module-forms"),e.addSignals({fieldAdded:a(82),fieldRemoved:a(85),fieldChanged:{chain:a(86),immediate:!0},formAdded:a(152),formRemoved:a(154),formValidated:a(90),reset:a(91)})}}},function(e,t,a){"use strict";var n=a(24);e.exports=function(e){var t=e.props,a=e.state,r=n(t.fieldPath);a.unset(r)}},function(e,t,a){"use strict";var n=a(24);e.exports=function(e){var t=e.props,a=e.state,r=n(t.field).concat("isTouched"),o=a.get(r);a.set(r,t.touched||o||!1)}},function(e,t,a){"use strict";var n=a(24);e.exports=function(e){var t=e.props,a=e.state,r=n(t.field);a.set(r.concat("value"),t.value)}},function(e,t,a){"use strict";var n=a(84),r=a(24);e.exports=function(e){var t=e.props,a=e.state,o=r(t.field),i=o.slice(),s=i.pop(),l=a.get(i),u=l[s];a.set(o.concat("hasValue"),n(l,u.value,u.isValue))}},function(e,t,a){"use strict";var n=a(87),r=a(24);e.exports=function(e){var t=e.props,a=e.state,o=r(t.field).slice(),i=a.get(o);a.merge(o,{isValid:t.preventValidation?i.isValid:!n(i),errorMessage:null})}},function(e,t,a){"use strict";function n(e){var t=e.state.get(e.props.field);return!e.props.preventValidation&&t.validations&&t.hasValue?e.path.yes():e.path.no()}n.outputs=["yes","no"],e.exports=n},function(e,t,a){"use strict";e.exports=function(){for(var e="."===arguments[1][0]||".."===arguments[1][0]?0:1,t=arguments[e].slice(),a=e+1;a<arguments.length;a++)t=arguments[a].reduce(function(e,t){return"."===t?e:".."===t?e.slice(0,-1):e.concat(t)},t);return t}},function(e,t,a){"use strict";e.exports=[a(153)]},function(e,t,a){"use strict";var n=a(89),r=a(24);e.exports=function(e){var t=e.props,a=e.state,o=r(t.formPath).slice(),i=a.get(o);Array.isArray(i)?a.push(o,n(t.formDetails)):a.set(o,n(t.formDetails))}},function(e,t,a){"use strict";e.exports=[a(155)]},function(e,t,a){"use strict";var n=a(24);e.exports=function(e){var t=e.props,a=e.state,r=n(t.formPath).slice(),o=a.get(r),i=r.pop();Array.isArray(o)?a.splice(r,i,1):a.unset(r.concat(i))}},function(e,t,a){"use strict";var n=a(87),r=a(61),o=a(24);e.exports=function(e){var t=e.props,a=e.state,i=o(t.formPath).slice(),s=a.get(i),l=function e(t,a){Object.keys(a).forEach(function(n){Array.isArray(a[n])?u(t.concat(n),a[n]):"value"in a[n]?c(t.concat(n),a,n):e(t.concat(n),a[n])})},u=function(e,t){t.forEach(function(t,a){l(e.concat(a),t)})},c=function(e,t,o){var i=t[o],s=r(t,i.value,i.validations),l=s.isValid&&!n(i);a.merge(e,{isValid:l,errorMessage:l?null:i.errorMessages[s.failedRuleIndex],isTouched:!0})};l(i,s)}},function(e,t,a){"use strict";var n=a(60),r=a(24);e.exports=function(e){var t=e.props,a=e.state,o=r(t.formPath).slice(),i=a.get(o),s=function e(t){return Object.keys(t).reduce(function(a,r){if(Array.isArray(t[r]))a[r]=l(t[r]);else if("value"in t[r]){var o=Object.keys(t[r]).reduce(function(e,a){return e[a]=t[r][a],e},{});o.value=o.defaultValue,a[r]=n(t,o)}else a[r]=e(t[r]);return a},{})},l=function(e){return e.reduce(function(e,t,a){return e[a]=s(t),e},[])};a.set(o,s(i))}},function(e,t,a){"use strict";var n=a(92),r=a(159);e.exports=function(e){return n(e,r)}},function(e,t,a){"use strict";e.exports=function(e){return e.isValid&&(!e.isRequired||e.isRequired&&e.hasValue)}},function(e,t,a){"use strict";var n=a(92),r=a(161);e.exports=function(e){return n(e,r)}},function(e,t,a){"use strict";e.exports=function(e){return e.isValidating}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){var n=e.getSelection(),r=n.getFocusKey(),o=e.getCurrentContent();return o=l.Modifier.insertText(o,n,t,e.getCurrentInlineStyle(),(0,l.getEntityKeyForSelection)(o,n)),e=l.EditorState.push(e,o,"insert-characters"),o=e.getCurrentContent(),o=l.Modifier.removeRange(o,o.getSelectionAfter().merge({anchorOffset:0}),"backward"),o=o.merge({blockMap:o.getBlockMap().set(r,o.getBlockForKey(r).merge({type:a,depth:0}))}),l.EditorState.push(e,o,"change-block-type")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=(0,u.default)(i.default.createElement("div",null),e),c=(0,u.default)(i.default.createElement("ul",{className:"public-DraftStyleDefault-ul"}),e),d=(0,u.default)(i.default.createElement("ol",{className:"public-DraftStyleDefault-ol"}),e),f=o({},e,{withScroller:!0}),p=(0,u.default)(i.default.createElement("pre",{className:"public-DraftStyleDefault-pre",spellCheck:!1}),f);return{handleReturn:a?void 0:function(e,t,a){var n=a.setEditorState;return(0,l.isSoftNewlineEvent)(e)&&t.getSelection().isCollapsed()?(n(l.RichUtils.insertSoftNewline(t)),"handled"):"not-handled"},handleKeyCommand:a?void 0:function(e,t,a){var n=a.setEditorState,r=l.RichUtils.handleKeyCommand(t,e);return r&&r!==t?(n(r),"handled"):"not-handled"},handleBeforeInput:a?void 0:function(e,t,a){var n=a.setEditorState,o=t.getSelection();if(!o.isCollapsed())return"not-handled";if(" "===e){var i=o.getStartKey(),s=o.getStartOffset(),l=t.getCurrentContent().getBlockForKey(i);if("unstyled"===l.getType()||"paragraph"===l.getType()){var u=l.getText().substring(0,s);if(/^[\d]\./.test(u))return n(r(t," ","ordered-list-item")),"handled";if(/^[*-]/.test(u))return n(r(t," ","unordered-list-item")),"handled"}}else if("`"===e){var c=o.getStartKey(),d=o.getStartOffset(),f=t.getCurrentContent().getBlockForKey(c);if(("unstyled"===f.getType()||"paragraph"===f.getType())&&"``"===f.getText().substring(0,d))return n(r(t,"`","code-block")),"handled"}return"not-handled"},onTab:a?void 0:function(e,t){var a=t.getEditorState,n=t.setEditorState,r=a(),o=l.RichUtils.onTab(e,r,2);return!(!o||o===r||(n(o),0))},onChange:a?void 0:function(e){var t=e.getCurrentContent(),a=t.getLastBlock();if(!a||"unstyled"!==a.getType()||0!==a.getLength()){var n=(0,l.genKey)(),r=new l.ContentBlock({key:n}),o=t.getBlockMap().set(n,r),i=t.merge({blockMap:o});return l.EditorState.set(e,{currentContent:i})}return e},customStyleMap:{CODE:{fontSize:"16px",lineHeight:"24px"}},blockRenderMap:(0,s.Map)({"header-one":{element:"h1",wrapper:n},"header-two":{element:"h2",wrapper:n},"header-three":{element:"h3",wrapper:n},"header-four":{element:"h4",wrapper:n},"header-five":{element:"h5",wrapper:n},"header-six":{element:"h6",wrapper:n},"unordered-list-item":{element:"li",wrapper:c},"ordered-list-item":{element:"li",wrapper:d},blockquote:{element:"blockquote",wrapper:n},atomic:{element:"figure",wrapper:n},"code-block":{element:"code",wrapper:p},unstyled:{element:"div",aliasedElements:["p"],wrapper:n}})}};var i=n(a(0)),s=a(52),l=a(10),u=n(a(328))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var i=e.breakoutBlockType||o.breakoutBlockType,s=e.breakoutBlocks||o.breakoutBlocks,l=e.doubleBreakoutBlocks||o.doubleBreakoutBlocks;return{handleReturn:a?void 0:function(e,t,a){var o=a.setEditorState,u=n.RichUtils.getCurrentBlockType(t),c=s.indexOf(u)>-1,d=l.indexOf(u)>-1;if(c||d){var f=t.getSelection();if(f.isCollapsed()){var p=t.getCurrentContent(),m=p.getBlockForKey(f.getEndKey()),h=f.getEndOffset(),_=h===m.getLength(),g=0===h;if(_&&c||g&&c||g&&!m.getLength()){var v=(0,n.genKey)(),y=new n.ContentBlock({key:v,text:"",type:i,characterList:(0,r.List)(),depth:0}),b=p.getBlockMap(),w=b.toSeq().takeUntil(function(e){return e===m}),E=b.toSeq().skipUntil(function(e){return e===m}).rest(),S=void 0,O=void 0;_?(S=d?[[v,y]]:[[m.getKey(),m],[v,y]],O=v):(S=[[v,y],[m.getKey(),m]],O=m.getKey());var k=w.concat(S,E).toOrderedMap(),T=p.merge({blockMap:k,selectionAfter:f.merge({anchorKey:O,anchorOffset:0,focusKey:O,focusOffset:0})});return o(n.EditorState.push(t,T,"split-block")),"handled"}}}return"not-handled"}}};var n=a(10),r=a(52),o={breakoutBlockType:"unstyled",breakoutBlocks:["header-one","header-two","header-three","header-four","header-five","header-six"],doubleBreakoutBlocks:["blockquote","unordered-list-item","ordered-list-item","code-block"]}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{decorators:[i.default],InlineToolbar:a?function(){return null}:(0,r.default)(o.default,{editorKey:t})}};var r=n(a(35)),o=n(a(333)),i=n(a(338))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly,n=e.allowImage,i=e.allowVideo,s=e.allowAttachment,l=e.allowHtml,u=e.allowTip;if(!t)throw new Error("editorKey is empty");return{SideToolbar:a?function(){return null}:(0,r.default)(o.default,{editorKey:t,allowImage:n,allowVideo:i,allowAttachment:s,allowHtml:l,allowTip:u})}};var r=n(a(35)),o=n(a(339))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.editorKey,a=e.controller,n=a.getState("editor.mentionToolbars."+t),r=a.getState("suggest.candidate"),o=[];return n&&"user"===r.st&&r.q===n.prefix&&r.user&&(o=r.user),o.length>0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onDownArrow:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.moveToNextMentionItem")({editorKey:t}),e.preventDefault())},onUpArrow:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.moveToPrevMentionItem")({editorKey:t}),e.preventDefault())},onEscape:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.hideMentionToolbar")({editorKey:t}),e.preventDefault())},onTab:a?void 0:function(e,a){var n=a.getProps,o=a.getEditorState,i=a.setEditorState,s=n().controller;if(r({editorKey:t,controller:s})){var u=s.getState("editor.mentionToolbars."+t),c=u.prefix,d=u.index,f=s.getState("suggest.candidate").user,p=f.length;i((0,l.addUserMention)(o(),c,f[(d%p+p)%p])),e.preventDefault()}},handleReturn:a?void 0:function(e,a,n){var o=n.setEditorState,i=(0,n.getProps)().controller;if(r({editorKey:t,controller:i})){var s=i.getState("editor.mentionToolbars."+t),u=s.prefix,c=s.index,d=i.getState("suggest.candidate").user,f=d.length;return o((0,l.addUserMention)(a,u,d[(c%f+f)%f])),"handled"}return"not-handled"},decorators:[s.default],MentionToolbar:a?function(){return null}:(0,o.default)(i.default,{editorKey:t})}};var o=n(a(35)),i=n(a(357)),s=n(a(358)),l=a(10)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.editorKey,a=e.controller,n=a.getState("editor.mentionLearnToolbars."+t),r=a.getState("learnSuggest.candidate"),o=[];return n&&"learn"===r.st&&r.q===n.prefix&&r.learn&&(o=r.learn),o.length>0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onDownArrow:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.moveToNextMentionLearnItem")({editorKey:t}),e.preventDefault())},onUpArrow:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.moveToPrevMentionLearnItem")({editorKey:t}),e.preventDefault())},onEscape:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.hideMentionLearnToolbar")({editorKey:t}),e.preventDefault())},onTab:a?void 0:function(e,a){var n=a.getProps,o=a.getEditorState,i=a.setEditorState,s=n().controller;if(r({editorKey:t,controller:s})){var u=s.getState("editor.mentionLearnToolbars."+t),c=u.prefix,d=u.index,f=s.getState("learnSuggest.candidate").learn,p=f.length;i((0,l.addLearnMention)(o(),c,f[(d%p+p)%p])),e.preventDefault()}},handleReturn:a?void 0:function(e,a,n){var o=n.setEditorState,i=(0,n.getProps)().controller;if(r({editorKey:t,controller:i})){var s=i.getState("editor.mentionLearnToolbars."+t),u=s.prefix,c=s.index,d=i.getState("learnSuggest.candidate").learn,f=d.length;return o((0,l.addLearnMention)(a,u,d[(c%f+f)%f])),"handled"}return"not-handled"},decorators:[s.default],MentionLearnToolbar:a?function(){return null}:(0,o.default)(i.default,{editorKey:t})}};var o=n(a(35)),i=n(a(365)),s=n(a(366)),l=a(10)},function(e,t,a){e.exports=a.p+"../styles/i/learn/logo.74999562d424719ef57f8c9ba1c5202f.jpg"},function(e,t){e.exports={"duration-label":"duration-label_68-m16F8",hour:"hour_1snx4AcL"}},function(e,t){e.exports={"input-wrap":"input-wrap_39AikixK",disabled:"disabled_oVzWoqGE",icon:"icon_3P2YxK7t",symbol:"symbol_1qOoNa8r",BEFORE:"BEFORE_IiTB_zjU",AFTER:"AFTER_DujuEpai",close:"close_eLfpdCyQ",input:"input_16nfVk-t","text-input":"text-input_1XC9dpQt",transparent:"transparent_4Ibqtk_3","transparent-inherit":"transparent-inherit_2kDoF27M","border-gray":"border-gray_1PiwVuWW","header-search":"header-search_2oOegutK",featured:"featured_3mmV7fLY",error:"error_1d07gfEh",small:"small_3Byl2Np1",medium:"medium_2tJxl9CS",large:"large_Yu51I5EN",xlarge:"xlarge_2cK39WMJ",xxxxlarge:"xxxxlarge_2QBI1ylR",box:"box_dJIv_4xk","text-error":"text-error_12llL-r7",hide:"hide_Vv7fsLy8"}},function(e,t){e.exports={numberInput:"numberInput_3iTL",numberOutput:"numberOutput_1Fgm",error_isRequired:"error_isRequired_1iWL"}},function(e,t){e.exports={avatar:"avatar_WXNNK1km","image-wrap":"image-wrap_Jd24noml",status:"status__5kAth_4",circle:"circle_Zl98PAtd","avatar-xxxxxsmall":"avatar-xxxxxsmall_3AnSDbbQ",name:"name_1vNZcZ9y","avatar-xxxxsmall":"avatar-xxxxsmall_2hq-Wqry","avatar-xxxsmall":"avatar-xxxsmall_7A1fIBoc","avatar-xxsmall":"avatar-xxsmall_21uEXH9W",followed:"followed_3B8HeR_v",check:"check_2ALzuG8N","avatar-xsmall":"avatar-xsmall_2otQtTVf",anonymous:"anonymous_30swBjBB","avatar-small":"avatar-small_t7z4W9BJ","avatar-medium":"avatar-medium_3tQzcl4Y","avatar-large":"avatar-large_FcHEO6am","avatar-xlarge":"avatar-xlarge_2ennUK4d","avatar-xxlarge":"avatar-xxlarge_36h7sASx","avatar-xxxlarge":"avatar-xxxlarge_3_qAAlVP","avatar-message-card":"avatar-message-card_IGvGi5KX","avatar-company-card":"avatar-company-card_2CRopBbW","avatar-user-card":"avatar-user-card_24xhyvAH","avatar-unified-profile":"avatar-unified-profile__nM27OsB","avatar-xxxxlarge":"avatar-xxxxlarge_6WgMO551","status-online":"status-online_1W0-fSdt","status-idle":"status-idle_2WZS6ltj","status-offline":"status-offline_3C40plEl","status-typing":"status-typing_2IrA6KZG",ellipsis:"ellipsis_KY3IizK8","default-bg":"default-bg_qzTY8Gy4"}},function(e,t){e.exports={followed:"followed_1NmM"}},function(e,t){e.exports={backdrop:"backdrop_1t7ADNYQ",modal:"modal_1VeXxnkx","modal-inner":"modal-inner_33MXwUBJ",center:"center_1TOZ4qAC",top:"top_2d635TQE","modal-content":"modal-content_9glg7cIJ",pc:"pc_6ce9b5Un",mobile:"mobile_16xKylFJ"}},function(e,t){e.exports={"raised-btn-loading-wrap":"raised-btn-loading-wrap_s2yRiPas","raised-btn-loading":"raised-btn-loading_21jFtRQ3","raised-btn":"raised-btn_1lcLt7H-","raised-btn-primary":"raised-btn-primary_QzgPZf37",disabled:"disabled_3K22Q0CX","raised-btn-default":"raised-btn-default_1IUDYJ2Q","raised-btn-grey":"raised-btn-grey_BTq1bh3g","raised-btn-transparent":"raised-btn-transparent_33UOlQoF","raised-btn-hollow-white":"raised-btn-hollow-white_14WNbFJb","raised-btn-red":"raised-btn-red_1FOUUFsn","raised-btn-white":"raised-btn-white_S2mY0NKc","raised-btn-blue-border":"raised-btn-blue-border_2pdoV-Eo","raised-btn-blue-border-transparent":"raised-btn-blue-border-transparent_1wTgxPBA","size-xsmall":"size-xsmall_1y4FHSys","size-small":"size-small_2x-HkG4m","size-medium":"size-medium_NmluUjcc","size-large":"size-large_QcJVxA4v",full:"full_2imk_jqR"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=n(a(3)),v=n(a(371)),y=(l=(0,g.default)(v.default))((d=c=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handlerClick=function(e){n.props.disabled||n.props.onCheck&&n.props.onCheck(e,n.props.value)},r=a,i(n,r)}return s(t,_.default),p(t,[{key:"renderHintLabel",value:function(){var e=this.props,t=e.hintLabel,a=e.disabled;return t?h.default.createElement("div",{className:this.ss("hintLabel",a&&"disabled")},t):null}},{key:"render",value:function(){var e=this.props,t=e.label,a=(e.hintLabel,e.onCheck,e.isChecked),n=e.name,o=e.value,i=e.disabled,s=e.children,l=e.theme,u=e.size,c=r(e,["label","hintLabel","onCheck","isChecked","name","value","disabled","children","theme","size"]),d=s||h.default.createElement("div",{className:this.ss("label",l)},t);return h.default.createElement("div",{onClick:this.handlerClick,className:this.ss("container-wrap",u&&"size-"+u)},h.default.createElement("div",{className:this.ss("container",i&&"disabled")},h.default.createElement("button",{className:this.ss("radio",a&&"active")},h.default.createElement("div",{className:this.ss("radioInner")},h.default.createElement("input",f({name:n,value:o,type:"radio",ref:"radio"},c)))),d),this.renderHintLabel())}}]),t}(),c.propTypes={label:m.default.oneOfType([m.default.string,m.default.node]),hintLabel:m.default.string,value:m.default.oneOfType([m.default.string,m.default.number,m.default.bool]),name:m.default.string,isChecked:m.default.bool,onCheck:m.default.func,disabled:m.default.bool,children:m.default.element,size:m.default.oneOf(["small","normal","medium"]),theme:m.default.oneOf(["default","light","inherit"])},c.defaultProps={theme:"default",size:"medium"},u=d))||u;t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ArchitectureAutoComplete=t.LearnAutoComplete=t.UserAutoComplete=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N,D,x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},R=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),F=l(["suggest.candidate"],["suggest.candidate"]),A=l(["suggest.candidateMap"],["suggest.candidateMap"]),L=l(["suggest.fetchCandidates"],["suggest.fetchCandidates"]),K=l(["suggest.clearCandidates"],["suggest.clearCandidates"]),q=l(["suggest.saveToMap"],["suggest.saveToMap"]),z=l(["suggest.removeFromMap"],["suggest.removeFromMap"]),U=l(["learnSuggest.candidate"],["learnSuggest.candidate"]),B=l(["learnSuggest.fetchCandidates"],["learnSuggest.fetchCandidates"]),H=l(["learnSuggest.clearCandidates"],["learnSuggest.clearCandidates"]),V=l(["learnSuggest.candidateMap"],["learnSuggest.candidateMap"]),G=l(["learnSuggest.saveToMap"],["learnSuggest.saveToMap"]),W=l(["learnSuggest.removeFromMap"],["learnSuggest.removeFromMap"]),Q=n(a(2)),J=n(a(0)),Y=a(6),Z=a(4),X=a(5),$=n(a(132)),ee=n(a(40)),te=n(a(1)),ae=n(a(299)),ne=n(a(43)),re=n(a(22)),oe=n(a(47)),ie=a(8),se=n(a(3)),le=n(a(303)),ue=n(a(7)),ce=n(a(304)),de=(u=(0,Y.decorator)({candidate:(0,Z.state)(F),candidateMap:(0,Z.state)(A),fetchCandidates:(0,Z.signal)(L),clearCandidates:(0,Z.signal)(K),saveToMap:(0,Z.signal)(q),removeFromMap:(0,Z.signal)(z)}),c=(0,se.default)(le.default),u(d=c((p=f=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isActive:!1},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"onFetchCandidate",value:function(e){var t=this.props,a=t.st,n=t.fetchCandidates,r=t.addInputValue,o=t.allPlace,i=t.skillType,s=t.t,l=void 0===s?"":s;this.setState({isActive:!0}),n({st:a,q:e,addNew:r,allPlace:o,skillType:i,t:l})}},{key:"onClearCandidate",value:function(){var e=this.props,t=e.st,a=e.clearCandidates;this.setState({isActive:!1}),a({st:t})}},{key:"onSaveToMap",value:function(e){var t=this.props,a=t.st;(0,t.saveToMap)({st:a,candidate:e})}},{key:"onRemoveFromMap",value:function(e){var t=this.props,a=t.st;(0,t.removeFromMap)({st:a,candidate:e})}},{key:"getIdToCandidateMap",value:function(){var e=this.props,t=e.st,a=e.idToCandidateMap,n=e.candidateMap,r=n&&n[t];return x({},r,a||{})}},{key:"render",value:function(){var e=this,t=this.props,a=t.st,n=t.candidate,o=t.autoFocus,i=(t.skillType,t.candidateMap,t.addInputValue,t.allPlace,t.fetchCandidates,t.clearCandidates,t.saveToMap,t.removeFromMap,t.t,r(t,["st","candidate","autoFocus","skillType","candidateMap","addInputValue","allPlace","fetchCandidates","clearCandidates","saveToMap","removeFromMap","t"]));return J.default.createElement(ae.default,x({},i,{candidates:this.state.isActive?n[a]:[],onFetchCandidate:function(t){return e.onFetchCandidate(t)},onClearCandidate:function(){return e.onClearCandidate()},onSaveToMap:function(t){return e.onSaveToMap(t)},onRemoveFromMap:function(t){return e.onRemoveFromMap(t)},selectedIds:this.props.selectedIds,idToCandidateMap:this.getIdToCandidateMap(),autoFocus:o}))}}]),t}(),f.propTypes={candidate:Q.default.object,candidateMap:Q.default.object,selectedIds:Q.default.array,idToCandidateMap:Q.default.object,t:Q.default.string,st:Q.default.string,autoFocus:Q.default.bool,addInputValue:Q.default.bool,allPlace:Q.default.bool,skillType:Q.default.string,fetchCandidates:Q.default.func,clearCandidates:Q.default.func,saveToMap:Q.default.func,removeFromMap:Q.default.func,onRenderCandidate:Q.default.func},f.defaultProps={autoFocus:!1,addInputValue:!1,allPlace:!0,skillType:""},d=p))||d)||d);t.default=de;t.UserAutoComplete=(m=(0,se.default)(le.default))((g=_=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.renderCandidate=function(e){var t=n.props.onRenderCandidate;if(t)return t(e);switch((e||{}).type){case"u":return J.default.createElement("li",null,n.renderUser(e));default:return null}},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"renderUser",value:function(e){var t=e||{},a=t.name;return J.default.createElement("div",{className:this.ss("candidate")},J.default.createElement(ne.default,{user:e,size:"xxxsmall",shape:"circle"}),J.default.createElement("div",{className:this.ss("candidate-info")},J.default.createElement("div",{className:this.ss("name")},a)))}},{key:"render",value:function(){var e=this.props,t=e.inputTheme,a=e.inputType,n=e.st,o=r(e,["inputTheme","inputType","st"]);return J.default.createElement(de,x({},o,{inputTheme:t,inputType:a,st:n,onRenderCandidate:this.renderCandidate}))}}]),t}(),_.propTypes={inputTheme:Q.default.string,inputType:Q.default.string,st:Q.default.string,onRenderCandidate:Q.default.func},_.defaultProps={inputTheme:"transparent",inputType:"single",st:"user"},h=g))||h,t.LearnAutoComplete=(v=(0,Y.decorator)({candidate:(0,Z.state)(U),fetchCandidates:(0,Z.signal)(B),clearCandidates:(0,Z.signal)(H)}),y=(0,se.default)(le.default),v(b=y((E=w=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isActive:!1,st:"learn"},n.renderCandidate=function(e){var t=n.props.onRenderCandidate,a=e.title;return t?t(e):J.default.createElement("li",null,J.default.createElement("div",{className:n.ss("candidate","learn-info")},J.default.createElement("div",{className:n.ss("title")},a),J.default.createElement(ee.default,{data:e,showLanguage:!0})))},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"onFetchCandidate",value:function(e){this.setState({isActive:!0});var t=this.props,a=t.types,n=t.st;this.props.fetchCandidates({q:e,types:a,st:n})}},{key:"onClearCandidate",value:function(){var e=this.props,t=e.clearCandidates,a=e.st;this.setState({isActive:!1}),t({st:a})}},{key:"onSaveToMap",value:function(e){var t=this.props,a=t.st;(0,t.saveToMap)({st:a,candidate:e})}},{key:"getIdToCandidateMap",value:function(){var e=this.props,t=e.idToCandidateMap,a=e.candidateMap,n=e.st,r=a&&a[n];return x({},r,t||{})}},{key:"render",value:function(){var e=this,t=this.props,a=t.candidate,n=t.autoFocus,o=(t.skillType,t.candidateMap,t.addInputValue,t.allPlace,t.fetchCandidates,t.clearCandidates,t.saveToMap,t.removeFromMap,t.t,t.st),i=r(t,["candidate","autoFocus","skillType","candidateMap","addInputValue","allPlace","fetchCandidates","clearCandidates","saveToMap","removeFromMap","t","st"]);return J.default.createElement(ae.default,x({},i,{candidates:this.state.isActive?a[o]:[],onFetchCandidate:function(t){return e.onFetchCandidate(t)},onClearCandidate:function(){return e.onClearCandidate()},onSaveToMap:function(t){return e.onSaveToMap(t)},selectedIds:this.props.selectedIds,idToCandidateMap:this.getIdToCandidateMap(),autoFocus:n,theme:"normal",onRenderCandidate:this.renderCandidate}))}}]),t}(),w.propTypes={candidate:Q.default.object,candidateMap:Q.default.object,selectedIds:Q.default.array,idToCandidateMap:Q.default.object,t:Q.default.string,types:Q.default.array,st:Q.default.string,autoFocus:Q.default.bool,addInputValue:Q.default.bool,allPlace:Q.default.bool,skillType:Q.default.string,fetchCandidates:Q.default.func,clearCandidates:Q.default.func,saveToMap:Q.default.func,removeFromMap:Q.default.func,onRenderCandidate:Q.default.func,onReaderSelectCheck:Q.default.func},w.defaultProps={types:[ie.DataTypeKeys.tutorial,ie.DataTypeKeys.project,ie.DataTypeKeys.course],autoFocus:!1,addInputValue:!1,allPlace:!0,skillType:""},b=E))||b)||b),t.ArchitectureAutoComplete=(S=(0,Y.decorator)({candidate:(0,Z.state)(U),candidateMap:(0,Z.state)(V),fetchCandidates:(0,Z.signal)(B),clearCandidates:(0,Z.signal)(H),saveToMap:(0,Z.signal)(G),removeFromMap:(0,Z.signal)(W)}),O=(0,se.default)(le.default),k=(0,ue.default)(ce.default),S(T=O(T=k((C=P=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isActive:!1},n.onFetchCandidate=function(e){var t=n.props,a=t.st,r=t.fetchCandidates,o=t.types,i=t.versionRange,s=t.defaultCriteria;n.setState({isActive:!0}),r({st:a,q:e,types:o,versionRange:i,defaultCriteria:s})},n.onClearCandidate=function(){var e=n.props,t=e.st,a=e.clearCandidates;n.setState({isActive:!1}),a({st:t})},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"onSaveToMap",value:function(e){var t=this.props,a=t.st;(0,t.saveToMap)({st:a,candidate:e})}},{key:"onRemoveFromMap",value:function(e){var t=this.props,a=t.st;(0,t.removeFromMap)({st:a,candidate:e})}},{key:"onRemoveCandidate",value:function(e,t){var a=this.props.selectedIds,n=this.getIdToCandidateMap(),r=(0,X.get)(n,a[t])||{};this.props.onRemove&&this.props.onRemove(r),this.onRemoveFromMap(r)}},{key:"getIdToCandidateMap",value:function(){var e=this.props,t=e.st,a=e.idToCandidateMap,n=e.candidateMap,r=n&&n[t];return x({},r,a||{})}},{key:"getSelectedValues",value:function(){var e=this.props.selectedIds,t=this.getIdToCandidateMap(),a=[];return e&&e.length>0&&e.forEach(function(e){e&&t&&t[e]&&a.push(t[e])}),a}},{key:"renderCandidate",value:function(e){var t=this.props,a=t.st,n=t.onRenderCandidate;if(n)return n(e);var r=(0,X.get)(e,"title")||"",o=(0,X.get)(e,"internalID.current")||"";return J.default.createElement("li",null,J.default.createElement("div",{className:this.ss("architecture-item-info")},o&&J.default.createElement("div",{className:this.ss("internal-id")},this.__(a+"_internalID",{internalID:o})),J.default.createElement("div",{className:this.ss("title")},r)))}},{key:"renderResult",value:function(){var e=this,t=this.props.onMoveElement,a=this.getSelectedValues();if(0===a.length)return null;var n=a.map(function(a,n){var r=(0,X.get)(a,"id");return J.default.createElement("div",{key:"selected-item-"+r,className:e.ss("item-row-wrapper")},J.default.createElement(fe,{index:n,item:a,onDeleteItem:function(){return e.onRemoveCandidate(r,n)},onMoveElement:t}))});return J.default.createElement("div",{className:this.ss("result")},n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.candidate,n=t.autoFocus,o=(t.skillType,t.candidateMap,t.inputTheme,t.st),i=(t.onMoveElement,t.hintText),s=(t.fetchCandidates,t.clearCandidates,t.saveToMap,t.removeFromMap,t.versionRange,t.defaultCriteria,r(t,["candidate","autoFocus","skillType","candidateMap","inputTheme","st","onMoveElement","hintText","fetchCandidates","clearCandidates","saveToMap","removeFromMap","versionRange","defaultCriteria"]));return J.default.createElement("div",{className:this.ss("architecture-auto-complete-wrapper")},J.default.createElement("div",{className:this.ss("architecture-auto-complete")},J.default.createElement(ae.default,x({},s,{theme:"normal",size:"medium",inputTheme:"transparent",iconName:"icons-search",hintText:i||this.__("search_for_skills"),autoFocus:n,hideResult:!0,candidates:this.state.isActive?a[o]:[],selectedIds:this.props.selectedIds,onFetchCandidate:(0,X.debounce)(this.onFetchCandidate,300),onClearCandidate:(0,X.debounce)(this.onClearCandidate,300),onSaveToMap:function(t){return e.onSaveToMap(t)},onRemoveFromMap:function(t){return e.onRemoveFromMap(t)},idToCandidateMap:this.getIdToCandidateMap(),onRenderCandidate:function(t){return e.renderCandidate(t)}}))),this.renderResult())}}]),t}(),P.propTypes={candidate:Q.default.object,candidateMap:Q.default.object,selectedIds:Q.default.array,idToCandidateMap:Q.default.object,types:Q.default.array,st:Q.default.string,versionRange:Q.default.object,defaultCriteria:Q.default.object,autoFocus:Q.default.bool,skillType:Q.default.string,inputTheme:Q.default.string,hintText:Q.default.string,fetchCandidates:Q.default.func,clearCandidates:Q.default.func,saveToMap:Q.default.func,removeFromMap:Q.default.func,onRenderCandidate:Q.default.func,onReaderSelectCheck:Q.default.func,onRemove:Q.default.func,onMoveElement:Q.default.func},P.defaultProps={types:[ie.DataTypeKeys.skill],inputTheme:"transparent",autoFocus:!1,skillType:"",versionRange:{},defaultCriteria:{}},T=C))||T)||T)||T);var fe=(j=(0,se.default)(le.default),I=(0,ue.default)(ce.default),j(M=I((D=N=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onEditItem=function(e){var t=e.id,a="/"+e.type+"/"+t+"/edit";(0,oe.default)(a)},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"renderButtons",value:function(e,t){var a=this;if(!e||0===e.length)return null;var n=(0,X.get)(t,"editable")||!1,r=e.map(function(e){var r=e.name,o=e.iconName,i=e.onClick,s=e.disabled;return"edit"===r&&!1===n?null:J.default.createElement(re.default,{key:"button_"+r,text:a.__("button_"+r),position:"top"},J.default.createElement("button",{className:a.ss("button",r,"ifont","ifont-"+o),onClick:i?function(){return i(t)}:void 0,disabled:s}))}).filter(function(e){return!!e});return J.default.createElement("div",{className:this.ss("item-buttons")},r)}},{key:"renderInternalID",value:function(){var e=(this.props||{}).item,t=(0,X.get)(e,"internalID.current")||"";return t?J.default.createElement("div",{className:this.ss("info-item")},J.default.createElement("div",{className:this.ss("dot")}),t):null}},{key:"render",value:function(){var e=this.props||{},t=e.item,a=e.onMoveElement,n=e.index,r=e.onDeleteItem;if(!t)return null;var o=(0,X.get)(t,"title"),i=[{name:"delete",iconName:"lrn-icon-delete",onClick:r},{name:"edit",iconName:"lrn-icon-edit-pen",onClick:this.onEditItem}];return J.default.createElement($.default,{index:n,onChange:a,theme:"right"},J.default.createElement("div",{className:this.ss("item-row")},J.default.createElement("div",{className:this.ss("content")},J.default.createElement("div",{className:this.ss("info-item")},o),this.renderInternalID()),this.renderButtons(i,t)))}}]),t}(),N.propTypes={index:Q.default.number,item:Q.default.object,onDeleteItem:Q.default.func,onMoveElement:Q.default.func},N.defaultProps={},M=D))||M)||M)},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["footer.langStatus"],["footer.langStatus"]),_=s(["footer.languageChange"],["footer.languageChange"]),g=s(["footer.switchLangStatus"],["footer.switchLangStatus"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(4),S=n(a(30)),O=a(27),k=n(a(46)),T=a(12),P=n(a(3)),C=n(a(242)),j=n(a(7)),I=n(a(243)),M=(l=(0,w.decorator)({langStatus:(0,E.state)(h),languageChange:(0,E.signal)(_),switchLangStatus:(0,E.signal)(g)}),u=(0,P.default)(C.default),c=(0,j.default)(I.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChangeLang=function(e){n.props.languageChange({locale:e})},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutsideLang=(0,O.addClickOutside)([this.refs.language],function(){e.onSwitchStatus(!1,0)})}},{key:"componentWillUnmount",value:function(){this.removeClickOutsideLang()}},{key:"onSwitchStatus",value:function(e,t){var a=this.props.langStatus;e?0===t&&this.props.switchLangStatus({open:!a}):0===t&&a&&this.props.switchLangStatus({open:!1})}},{key:"render",value:function(){var e=this,t=this.props.theme,a=[];["https://unity3d.com/legal/","https://unity3d.com/legal/privacy-policy","https://unity3d.com/legal/cookie-policy#cookies"].forEach(function(t,n){a.push(y.default.createElement("div",{key:"link"+n,className:e.ss("link")},y.default.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},e.__("link_text_"+n))))});var n=y.default.createElement("div",{className:this.ss("shares")},y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_youtube"),href:"https://www.youtube.com/user/Unity3D",target:"_blank"}),y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_linkedin"),href:"https://www.linkedin.com/company/unity-technologies",target:"_blank"}),y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_twitter"),href:"http://www.twitter.com/unity3d",target:"_blank"}),y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_fb"),href:"http://www.facebook.com/unity3d",target:"_blank"}),y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_instagram"),href:"https://www.instagram.com/unitytechnologies",target:"_blank"})),r=S.default.LOCALES.map(function(e){return{text:(0,T.getLangText)(e),value:e}}),o=this.context.locale||"en_US";return y.default.createElement("div",{ref:"footer",className:this.ss("footer",t)},y.default.createElement("div",{className:this.ss("context")},y.default.createElement("div",{className:this.ss("row","row-logo")},y.default.createElement("a",{href:"//unity.com",className:this.ss("logo")},y.default.createElement("div",{className:this.ss("logo-icon","ifont","ifont-lrn_logo_unity")})),n),y.default.createElement("div",{className:this.ss("row","second")},y.default.createElement("div",{className:this.ss("copyright-and-links")},y.default.createElement("div",{className:this.ss("copyright")},this.__("copyright",{year:(new Date).getFullYear()})),y.default.createElement("div",{className:this.ss("links")},a)),y.default.createElement("div",{className:this.ss("choice-control")},y.default.createElement("span",{className:this.ss("label")},this.__("choice_lang")),y.default.createElement(k.default,{theme:"footer",selects:r,value:o,onChange:function(t,a,n){return e.onChangeLang(n)}})))))}}]),t}(),f.propTypes={theme:v.default.string,langStatus:v.default.bool,languageChange:v.default.func,switchLangStatus:v.default.func},d=p))||d)||d)||d);t.default=M},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n(e)||r};var n=a(573),r="\n"},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(19)),_=n(a(1)),g=n(a(375)),v=n(a(385)),y=a(45),b=n(a(3)),w=n(a(387)),E=n(a(7)),S=n(a(53)),O=(s=(0,b.default)(w.default),l=(0,E.default)(S.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isSticky:!1},n.onChangeIsSticky=function(e){e!==n.state.isSticky&&n.setState({isSticky:e})},n.onHandleScroll=function(){var e=document.getElementById("pageBody").parentNode,t=e.scrollTop,a=e.scrollHeight,r=e.clientHeight;if((0,y.isTouch)())n.state.isSticky&&n.onChangeIsSticky(!1);else{var o=h.default.findDOMNode(n);t<(o&&o.offsetTop)?n.onChangeIsSticky(!1):t<=a-r&&n.onChangeIsSticky(!0)}},i=a,o(n,i)}return i(t,_.default),f(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=t.optionType,r=t.searchOptions,o=t.defaultItemId,i=t.sticky,s=t.onCreate,l=this.state.isSticky;return m.default.createElement("div",{className:this.ss("search-bar-wrap",a,n)},m.default.createElement("div",{ref:function(t){e.searchBarRef=t},className:this.ss("search-bar",l&&i&&"sticky")},m.default.createElement("div",{className:this.ss("search-container")},m.default.createElement(g.default,{optionType:n,theme:a,searchOptions:r,defaultItemId:o,onCreate:s}),m.default.createElement(v.default,{optionType:n,theme:a,searchOptions:r}))))}}]),t}(),c.propTypes={optionType:p.default.oneOf(["default","creator","search","landing","educators","submission","architecture"]),theme:p.default.oneOf(["default","dark"]),defaultItemId:p.default.string,searchOptions:p.default.object,sticky:p.default.bool,onCreate:p.default.func},c.defaultProps={sticky:!0,optionType:"default",theme:"default",searchOptions:{}},u=d))||u)||u);t.default=O},function(e,t,a){e.exports=a.p+"../styles/i/unity-logo-only.f688162d59f85318573b598d4c5b6e26.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p,m,h,_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.tooltips"],["header.tooltips"]),v=n(a(2)),y=n(a(0)),b=n(a(19)),w=n(a(1)),E=a(6),S=a(4),O=n(a(5)),k=n(a(3)),T=n(a(185)),P=(s=(0,k.default)(T.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={left:0,top:0},i=a,o(n,i)}return i(t,w.default),_(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tooltip,t=e.position,a=e.targetWidth,n=e.targetHeight,r=e.left,o=e.top,i=b.default.findDOMNode(this),s=r,l=o;switch(t){case"left":s+=-i.offsetWidth,l+=n/2-i.offsetHeight/2;break;case"right":s+=a,l+=n/2-i.offsetHeight/2;break;case"bottom":s+=a/2-i.offsetWidth/2,l+=n;break;case"bottom-left":s+=a-i.offsetWidth,l+=n;break;case"top-left":s+=a/2-i.offsetWidth+20,l+=-i.offsetHeight;break;case"top":default:s+=a/2-i.offsetWidth/2,l+=-i.offsetHeight}this.setState({left:s,top:l})}},{key:"render",value:function(){var e=this.props.tooltip,t=e.text,a=e.type,n=e.position,r=this.state,o=r.left,i=r.top;return y.default.createElement("div",{className:this.ss("tooltip","tooltip-"+n,"tooltip-"+a),style:{left:o,top:i}},t)}}]),t}(),u.propTypes={tooltip:v.default.object.isRequired},l=c))||l,C=(d=(0,E.decorator)({tooltips:(0,S.state)(g)}),f=(0,k.default)(T.default),d(p=f((h=m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),_(t,[{key:"render",value:function(){var e=this.props.tooltips,t=O.default.map(e,function(e){return e.text&&y.default.createElement(P,{key:e.id,tooltip:e})});return y.default.createElement("div",{className:this.ss("tooltips")},t)}}]),t}(),m.propTypes={tooltips:v.default.object.isRequired},p=h))||p)||p);t.default=C},function(e,t){e.exports={tooltips:"tooltips_32oC74pg",tooltip:"tooltip_3AMoGACD","tooltip-top":"tooltip-top_1l66RR8e","tooltip-top-width":"tooltip-top-width_2W8Ii6KI","tooltip-bottom":"tooltip-bottom_t-BeI8Ek","tooltip-top-left":"tooltip-top-left_3gH2VNml","tooltip-bottom-left":"tooltip-bottom-left_1FVfUxCm","tooltip-left":"tooltip-left_1I0pqzmO","tooltip-right":"tooltip-right_1I8qrkiC","tooltip-error":"tooltip-error_1veSNXFR","tooltip-success":"tooltip-success_KlKPOvul","tooltip-green":"tooltip-green_3wbhuKGb","tooltip-blue":"tooltip-blue_3pZQ-zdV","tooltip-warning":"tooltip-warning_UKlPb118","tooltip-dark":"tooltip-dark_1Ur4iQvp"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["common.watermark.open"],["common.watermark.open"]),h=s(["common.watermark.text"],["common.watermark.text"]),_=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),g=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(4),S=n(a(3)),O=n(a(187)),k={fontStyle:"16px sans-serif",rotateAngle:-20*Math.PI/180,fontColor:"rgba(100, 100, 100, 0.2)",textBaseline:"middle",firstLinePositionX:-10,firstLinePositionY:60,secondLinePositionX:-20,secondLinePositionY:80},T=(l=(0,w.decorator)({open:(0,E.state)(m),text:(0,E.state)(h),windowWidth:(0,E.state)(_),windowHeight:(0,E.state)(g)}),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),p(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.open&&this.props.text!==e.text)this.updateCanvas();else{var a=this.props,n=a.windowHeight,r=a.windowWidth;(n!==e.windowHeight||r!==e.windowWidth)&&setTimeout(function(){return t.updateCanvas()})}}},{key:"wrapText",value:function(e,t){var a=[],n="";if(e&&t){for(var r=Math.max(0,160),o=0;o<t.length;o++)e.measureText(n).width<r&&e.measureText(n+t[o]).width<=r?n+=t[o]:(a.push(n),n=t[o]);n.length>0&&a.push(n)}return a}},{key:"updateCanvas",value:function(){var e=this.refs,t=e.watermark,a=e.repeat_watermark;if(t&&a){var n=t.getContext("2d");n.clearRect(0,0,180,100),n.font=k.fontStyle,n.fillStyle=k.fontColor,n.textBaseline=k.textBaseline;var r=this.wrapText(n,this.props.text);n.rotate(k.rotateAngle),r.length>=1&&n.fillText(r[0],k.firstLinePositionX,k.firstLinePositionY),r.length>=2&&n.fillText(r[1],k.secondLinePositionX,k.secondLinePositionY),n.rotate(-k.rotateAngle);var o=a.getContext("2d");o.clearRect(0,0,a.width,a.height);var i=o.createPattern(t,"repeat");o.fillStyle=i,o.fillRect(0,0,a.width,a.height)}}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.windowWidth,n=e.windowHeight;return t?y.default.createElement("div",{className:this.ss("water-mark")},y.default.createElement("canvas",{ref:"watermark",className:this.ss("watermark"),width:180,height:100}),y.default.createElement("canvas",{ref:"repeat_watermark",className:this.ss("repeat-watermark"),width:a,height:n})):null}}]),t}(),d.propTypes={open:v.default.bool,text:v.default.string,windowWidth:v.default.number,windowHeight:v.default.number},c=f))||c)||c);t.default=T},function(e,t){e.exports={"water-mark":"water-mark_UT_jQkxW","repeat-watermark":"repeat-watermark_1qx2lkLC",watermark:"watermark_2XmxdAKp"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(3)),_=n(a(189)),g=(s=(0,h.default)(_.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.percent,a=void 0===t?0:t,n=e.width,r=e.theme,o=void 0===r?"default":r,i={marginLeft:n*(a/100-1)};return p.default.createElement("div",{className:this.ss("progress-bar",o),style:{width:n}},p.default.createElement("div",{style:i,className:this.ss("progress-bar-inner")},p.default.createElement("div",{className:this.ss("left")}),p.default.createElement("div",{className:this.ss("right")})))}}]),t}(),u.propTypes={percent:f.default.number,width:f.default.number,theme:f.default.string},u.defaultProps={width:269},l=c))||l;t.default=g},function(e,t){e.exports={"progress-bar":"progress-bar_2wLxQkdE","progress-bar-inner":"progress-bar-inner_G0iqk6jr",default:"default_2xPhIY01",left:"left_HFfJCs5O",right:"right_3zpdSBR9","unified-profile":"unified-profile_1sEURfjE"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["header.setting.scrollTop"],["header.setting.scrollTop"]),_=s(["header.setting.currHeaderTop"],["header.setting.currHeaderTop"]),g=s(["header.popupMessages"],["header.popupMessages"]),v=s(["header.hideMessage"],["header.hideMessage"]),y=n(a(2)),b=n(a(0)),w=a(6),E=a(4),S=n(a(1)),O=a(41),k=n(a(3)),T=n(a(191)),P=n(a(7)),C=n(a(192)),j=O.presets.stiff,I=(l=(0,w.decorator)({scrollTop:(0,E.state)(h),currHeaderTop:(0,E.state)(_),messages:(0,E.state)(g),hideMessage:(0,E.signal)(v)}),u=(0,k.default)(T.default),c=(0,P.default)(C.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.timerId=null,n.handleClose=function(){clearInterval(n.timerId),n.timerId=null,n.props.hideMessage()},i=a,o(n,i)}return i(t,S.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.messages||{},n=a.lastClicking,r=a.duration,o=void 0===r?0:r;n&&null===this.timerId&&this.isOpen(n,o)&&(this.timerId=setInterval(function(){return t.checkToClose(n,o)},1e3))}},{key:"isOpen",value:function(e,t){if(e){var a=Date.now()-e;return this.duration(a).asMilliseconds()<1e3*t}return!1}},{key:"checkToClose",value:function(e,t){this.isOpen(e,t)||this.handleClose()}},{key:"render",value:function(){var e=this,t=this.props,a=t.messages,n=t.className,r=a||{},o=r.lastClicking,i=r.duration,s=void 0===i?0:i,l=r.message,u=r.type,c=r.params,d=void 0===c?{}:c,f={modalScale:.75,modalOpacity:0},p=this.isOpen(o,s)?{modalScale:(0,O.spring)(1,j),modalOpacity:(0,O.spring)(1,j)}:{modalScale:(0,O.spring)(.75,j),modalOpacity:(0,O.spring)(0,j)};return b.default.createElement(O.Motion,{defaultStyle:f,style:p},function(t){var a=t.modalScale,r=t.modalOpacity;if(r<.1)return null;var o={transform:"scale3d("+a+", "+a+", 1)",opacity:r},i="";if(l instanceof Array){var s=l.map(function(t){return e.__(t)}).join(", ");i=e.__("project_fields_required",{fields:s})}else i=e.__(l,d);return b.default.createElement("div",{className:e.ss("message-wrap",u)},b.default.createElement("div",{className:e.ss(n,"message",u||"error"),style:o},i))})}}]),t}(),f.propTypes={className:y.default.string,scrollTop:y.default.number,currHeaderTop:y.default.number,messages:y.default.object.isRequired,hideMessage:y.default.func},d=p))||d)||d)||d);t.default=I},function(e,t){e.exports={"message-wrap":"message-wrap_37GM_f3n",info2:"info2_2Oz6Dp5F",message:"message_2SH0iQw1",error:"error_29dF9php",info:"info_3mIBbU_d",message_error:"message_error_19SxtfhJ"}},function(e,t){e.exports={changes_saved_successfully:"changes_saved_successfully_1ioH",upload_InvalidParameter_forbidden_file_type:"upload_InvalidParameter_forbidden_file_type_evHd",upload_InvalidParameter_attachment_too_large_1_GB:"upload_InvalidParameter_attachment_too_large_1_GB_2iSn",upload_InvalidParameter_attachment_too_large_3_GB:"upload_InvalidParameter_attachment_too_large_3_GB_2L0B",project_InvalidParameter_empty_tutorialIds:"project_InvalidParameter_empty_tutorialIds_2eBr",course_InvalidParameter_empty_contentIds:"course_InvalidParameter_empty_contentIds_37tk",liveSession_InvalidParameter_empty_projectIds:"liveSession_InvalidParameter_empty_projectIds_1-Qq",liveSession_InvalidParameter_empty_thumbnail:"liveSession_InvalidParameter_empty_thumbnail_3Tzb",liveSession_contentIds_max_1:"liveSession_contentIds_max_1_3GLs",tutorial_exceed_lab_limit_1:"tutorial_exceed_lab_limit_1_1NGK",tutorial_title_maxLength_135:"tutorial_title_maxLength_135_2m2W",quiz_InvalidParameter_empty_questions:"quiz_InvalidParameter_empty_questions_yJMn",quiz_InvalidParameter_options_min_2:"quiz_InvalidParameter_options_min_2_U9F_",quiz_InvalidParameter_question_correct_min_1:"quiz_InvalidParameter_question_correct_min_1_3TOd",mission_InvalidParameter_map:"mission_InvalidParameter_map_1qWX",mission_InvalidParameter_competency:"mission_InvalidParameter_competency_23Zp",mission_InvalidParameter_assessments:"mission_InvalidParameter_assessments_3bKT",mission_InvalidParameter_pathway_assessments:"mission_InvalidParameter_pathway_assessments_3NTl",pathway_InvalidParameter_assessments:"pathway_InvalidParameter_assessments_S28_",pathway_InvalidParameter_mission_assessments:"pathway_InvalidParameter_mission_assessments_b_d6",pathway_InvalidParameter_highlight:"pathway_InvalidParameter_highlight_3kKl",paymentItem_InternalServerError_Internal_server_error_agent_error:"paymentItem_InternalServerError_Internal_server_error_agent_error_krio",importJson_InvalidParameter_description:"importJson_InvalidParameter_description_1vnW",importJson_InvalidParameter_careerGoals:"importJson_InvalidParameter_careerGoals_3pB7",importJson_InvalidParameter_objective:"importJson_InvalidParameter_objective_1zoR",upload_file_invalid:"upload_file_invalid_2EyY",tutorial_exercise_exceed_submission_limit_1:"tutorial_exercise_exceed_submission_limit_1_sAfX",submission_ResourceNotFound_step:"submission_ResourceNotFound_step_3woM",submission_detail_AuthorizationError_authorization_error:"submission_detail_AuthorizationError_authorization_error_xYEk",importJson_InvalidParameter_json_expired:"importJson_InvalidParameter_json_expired_1w9d",invalid_version_range:"invalid_version_range_7R82"}},function(e,t){e.exports={"content-wrap":"content-wrap_138dsZJq",featured:"featured_3SuxeEUD",description:"description_15akJPS1",delete:"delete_3h9I-T8S","button-wrap":"button-wrap_1761jXOF","button-ok":"button-ok_2j5XTS42","button-cancel":"button-cancel_2KGbYCph","icon-wrapper":"icon-wrapper_1gkdrzqL","icon-bg":"icon-bg_3gnLzGrY",icon:"icon_245JtWXd","tfa-icon":"tfa-icon_12dtbRLH"}},function(e,t){e.exports={title:"title_2oX_",button_ok:"button_ok_29Ev",button_cancel:"button_cancel_s89d",button_yes:"button_yes_15Go",button_no:"button_no_2j7h",button_featured_ok:"button_featured_ok_17Jb"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["common.featuredSaveConfirmDialog.open"],["common.featuredSaveConfirmDialog.open"]),h=s(["common.featuredSaveConfirmDialog.listName"],["common.featuredSaveConfirmDialog.listName"]),_=s(["common.featuredSaveConfirmDialog.pageName"],["common.featuredSaveConfirmDialog.pageName"]),g=s(["common.closeFeaturedSaveConfirm"],["common.closeFeaturedSaveConfirm"]),v=s(["common.doFeaturedConfirmSave"],["common.doFeaturedConfirmSave"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),S=a(4),O=n(a(95)),k=n(a(7)),T=n(a(196)),P=(l=(0,E.decorator)({saveConfirmOpen:(0,S.state)(m),listName:(0,S.state)(h),pageName:(0,S.state)(_),closeSaveConfirm:(0,S.signal)(g),doConfirmSave:(0,S.signal)(v)}),u=(0,k.default)(T.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.saveConfirmOpen,a=e.closeSaveConfirm,n=e.doConfirmSave,r=e.listName,o=e.pageName;return b.default.createElement(O.default,{open:t,theme:"featured",title:this.__("save_confirm_"+o+"_title"),description:this.__("save_confirm_"+r+"_text"),onConfirm:function(){return n()},onClose:function(){return a()}})}}]),t}(),d.propTypes={saveConfirmOpen:y.default.bool,closeSaveConfirm:y.default.func,doConfirmSave:y.default.func,listName:y.default.string,pageName:y.default.string},c=f))||c)||c);t.default=P},function(e,t){e.exports={save_confirm_default_title:"save_confirm_default_title_2twz",save_confirm_default_text:"save_confirm_default_text_1JAu",save_confirm_homepage_title:"save_confirm_homepage_title_30QE",save_confirm_subscriber_homepage_title:"save_confirm_subscriber_homepage_title_2Vbh",save_confirm_course_landing_page_title:"save_confirm_course_landing_page_title_26RO",save_confirm_tutorial_landing_page_title:"save_confirm_tutorial_landing_page_title_2l7o",save_confirm_project_landing_page_title:"save_confirm_project_landing_page_title_1cYC",save_confirm_course_landing_page_premium_title:"save_confirm_course_landing_page_premium_title_2DFG",save_confirm_tutorial_landing_page_premium_title:"save_confirm_tutorial_landing_page_premium_title_nr2H",save_confirm_project_landing_page_premium_title:"save_confirm_project_landing_page_premium_title_26y6",save_confirm_educators_page_title:"save_confirm_educators_page_title_ZWAK",save_confirm_hub_title:"save_confirm_hub_title_3a1L",save_confirm_faq_title:"save_confirm_faq_title_27pR",save_confirm_page_home_course_text:"save_confirm_page_home_course_text_3YHk",save_confirm_page_home_tutorial_text:"save_confirm_page_home_tutorial_text_-QtD",save_confirm_page_home_project_text:"save_confirm_page_home_project_text_kFFz",save_confirm_page_home_featured_text:"save_confirm_page_home_featured_text_1O3U",save_confirm_page_home_new_to_unity_text:"save_confirm_page_home_new_to_unity_text_1UAH",save_confirm_page_home_topic_text:"save_confirm_page_home_topic_text_3fIa",save_confirm_page_subscriber_home_course_text:"save_confirm_page_subscriber_home_course_text_U_0W",save_confirm_page_subscriber_home_tutorial_text:"save_confirm_page_subscriber_home_tutorial_text_198i",save_confirm_page_subscriber_home_project_text:"save_confirm_page_subscriber_home_project_text_aAM6",save_confirm_page_subscriber_home_featured_text:"save_confirm_page_subscriber_home_featured_text_oAXT",save_confirm_page_subscriber_home_topic_text:"save_confirm_page_subscriber_home_topic_text_1Ycv",save_confirm_page_subscriber_home_liveSession_text:"save_confirm_page_subscriber_home_liveSession_text_2ypJ",save_confirm_page_landing_course_featured_text:"save_confirm_page_landing_course_featured_text_ev_Q",save_confirm_page_landing_course_popular_text:"save_confirm_page_landing_course_popular_text_2Og1",save_confirm_page_landing_tutorial_featured_text:"save_confirm_page_landing_tutorial_featured_text_1e_4",save_confirm_page_landing_tutorial_popular_text:"save_confirm_page_landing_tutorial_popular_text_1Dn_",save_confirm_page_landing_project_featured_text:"save_confirm_page_landing_project_featured_text_1vEr",save_confirm_page_landing_project_popular_text:"save_confirm_page_landing_project_popular_text_31ko",save_confirm_page_premium_landing_course_featured_text:"save_confirm_page_premium_landing_course_featured_text_1lll",save_confirm_page_premium_landing_tutorial_featured_text:"save_confirm_page_premium_landing_tutorial_featured_text_6TiE",save_confirm_page_premium_landing_project_featured_text:"save_confirm_page_premium_landing_project_featured_text_2VUs",save_confirm_page_educators_course_text:"save_confirm_page_educators_course_text_12za",save_confirm_page_educators_tutorial_text:"save_confirm_page_educators_tutorial_text_2fxA",save_confirm_page_educators_project_entry_level_text:"save_confirm_page_educators_project_entry_level_text_3K8L",save_confirm_page_educators_project_game_dev_text:"save_confirm_page_educators_project_game_dev_text_6L0u",save_confirm_page_educators_project_across_sub_text:"save_confirm_page_educators_project_across_sub_text_MGNU",save_confirm_page_educators_banner_text:"save_confirm_page_educators_banner_text_a8I-",save_confirm_hub_tutorial_text:"save_confirm_hub_tutorial_text_QgvZ",save_confirm_hub_project_text:"save_confirm_hub_project_text_asyf",save_confirm_learn_general_text:"save_confirm_learn_general_text_37oe",save_confirm_learn_premium_text:"save_confirm_learn_premium_text_3NXy",save_confirm_learn_create_with_code_live_text:"save_confirm_learn_create_with_code_live_text_px0W"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["topicsPopular.tagIds"],["topicsPopular.tagIds"]),_=s(["topicsPopular.tagMap"],["topicsPopular.tagMap"]),g=s(["currentHost"],["currentHost"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(4),S=a(5),O=n(a(3)),k=n(a(198)),T=n(a(7)),P=n(a(62)),C=a(27),j=a(8),I=n(a(18)),M=10,N=(l=(0,w.decorator)({topicIds:(0,E.state)(h),topicMap:(0,E.state)(_),currentHost:(0,E.state)(g)}),u=(0,O.default)(k.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));n.toggleMoreOrLess=function(){var e=n.state.showAll;n.setState({showAll:!e})};var i=e.topicIds,s=!i||0===i.length;return n.state={showTopics:!1,showMoreOrLess:!s&&i.length>M,showAll:!1},n}return i(t,b.default),m(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,C.addClickOutside)([this],function(){return e.setState({showTopics:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderTopicsInner",value:function(){var e=this,t=this.props,a=t.topicIds,n=t.topicMap,r=t.currentHost,o=this.state,i=o.showTopics,s=o.showMoreOrLess,l=o.showAll,u=(l?a:a.slice(0,M)).map(function(t){var a=void 0,o=(0,S.get)(n,t+".name");return a=o===j.TopicName.forEducators?"/educators":"/search?k="+encodeURIComponent(JSON.stringify([j.CriteriaKeys.tag+":"+t])),y.default.createElement("a",{key:t,className:e.ss("topic"),href:(0,I.default)(a,r)},o)});return s&&u.push(y.default.createElement("a",{key:"topic_mol",className:this.ss("more-or-less"),onClick:this.toggleMoreOrLess},this.__(l?"button_less":"button_more"))),y.default.createElement("div",{className:this.ss("topics-inner",i&&"active")},y.default.createElement("div",{className:this.ss("topics-container")},y.default.createElement("div",{className:this.ss("topics-wrapper")},u)))}},{key:"render",value:function(){var e=this,t=this.state.showTopics;return y.default.createElement("div",{className:this.ss("topics")},y.default.createElement("div",{className:this.ss("topics-label"),onClick:function(){return e.setState({showTopics:!t})}},this.__("menu_topics"),y.default.createElement("div",{className:this.ss(t?"fold":"unfold","icon","ifont","ifont-lrn_icon_unfold")})),this.renderTopicsInner())}}]),t}(),f.propTypes={topicIds:v.default.array,topicMap:v.default.object,currentHost:v.default.string},d=p))||d)||d)||d);t.default=N},function(e,t){e.exports={topics:"topics_dPRALzFg","topics-label":"topics-label_3oCJHbh2",icon:"icon_3nSBE3FN",fold:"fold_3lHBVuSS","topics-inner":"topics-inner_19DH_rQR",active:"active_nvDSY8rq","topics-container":"topics-container_2ZAZOBfU","topics-wrapper":"topics-wrapper_3yMT5Zh6",topic:"topic_351BNTUI","more-or-less":"more-or-less_11wmU3Mk"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["currentHost"],["currentHost"]),g=s(["locale"],["locale"]),v=s(["common.headerSearch.text"],["common.headerSearch.text"]),y=s(["common.headerSearch.result"],["common.headerSearch.result"]),b=s(["common.headerSearch.result.topicResult.tagIds"],["common.headerSearch.result.topicResult.tagIds"]),w=s(["common.headerSearch.result.topicResult.tagMap"],["common.headerSearch.result.topicResult.tagMap"]),E=s(["common.headerSearch.result.learnResult.results"],["common.headerSearch.result.learnResult.results"]),S=s(["common.changeHeaderSearchKeyword"],["common.changeHeaderSearchKeyword"]),O=s(["common.clearHeaderSearch"],["common.clearHeaderSearch"]),k=n(a(2)),T=n(a(0)),P=n(a(1)),C=a(6),j=a(4),I=a(5),M=n(a(34)),N=n(a(38)),D=n(a(94)),x=a(27),R=n(a(25)),F=n(a(18)),A=a(8),L=a(9),K=n(a(3)),q=n(a(200)),z=n(a(7)),U=n(a(62)),B=(l=(0,C.decorator)({loginUser:(0,j.state)(h),currentHost:(0,j.state)(_),locale:(0,j.state)(g),headerKeyword:(0,j.state)(v),searchResult:(0,j.state)(y),topicIds:(0,j.state)(b),topicMap:(0,j.state)(w),headerSearchResults:(0,j.state)(E),changeHeaderSearchKeyword:(0,j.signal)(S),clearHeaderSearch:(0,j.signal)(O)}),u=(0,K.default)(q.default),c=(0,z.default)(U.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onChange=function(e,t){var a=n.props.changeHeaderSearchKeyword;a&&a({value:t})},n.onKeyDown=function(e){if(e&&13===e.keyCode){var t=n.props.headerKeyword,a=t||"",r=encodeURIComponent(JSON.stringify([A.CriteriaKeys.query+":"+a]));(0,R.default)("/search?k="+r)}},n.onClearHeaderSearch=function(){n.props.clearHeaderSearch()},n.renderPopularSearch=function(){var e=n.props.searchResult;return T.default.createElement("div",{className:n.ss("popular-wrapper",!e&&"hide")},T.default.createElement("div",{className:n.ss("popular-position")},T.default.createElement("div",{className:n.ss("popular-container")},T.default.createElement("div",{ref:"searchPopup",className:n.ss("popular","center")},n.renderTopics(),T.default.createElement("div",{className:n.ss("barrier")}),n.renderResults(),T.default.createElement("div",{className:n.ss("barrier")}),n.renderAuthors()))))},i=a,o(n,i)}return i(t,P.default),m(t,[{key:"componentDidMount",value:function(){var e=this.props.clearHeaderSearch;this.removeClickOutside=(0,x.addClickOutside)([this.refs.search,this.refs.searchPopup],function(){e()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderTopics",value:function(){var e=this,t=this.props.currentHost,a=this.props.topicIds||[],n=this.props.topicMap||{},r=a.map(function(a){var r="/search?k="+encodeURIComponent(JSON.stringify([A.CriteriaKeys.tag+":"+a]));return T.default.createElement("a",{key:a,href:(0,F.default)(r,t)},T.default.createElement("div",{className:e.ss("topic")},(0,I.get)(n,a+".name")))});return T.default.createElement("div",{className:this.ss("topics-wrapper")},T.default.createElement("div",{className:this.ss("topics-title")},this.__("topics_title")),T.default.createElement("div",{className:this.ss("topics")},r),T.default.createElement("a",{className:this.ss("all-topics-link"),href:(0,F.default)("/search",t)},this.__("browse_all_topics")))}},{key:"renderResults",value:function(){var e=this,t=this.props,a=t.headerKeyword,n=t.currentHost,r=t.locale,o=(this.props.headerSearchResults||[]).map(function(t){var a=t[t.type],o=(0,F.default)((0,L.GetUrlByNavIds)(void 0,(0,L.GetDetailPageURL)(a,r)),n),i=(0,I.get)(a,"withManual")?(0,I.get)(a,"manualDuration"):(0,I.get)(a,"duration");return T.default.createElement("a",{key:a.id,className:e.ss("result"),href:o},T.default.createElement("div",{className:e.ss("result-title")},a.title),T.default.createElement("div",{className:e.ss("result-des")},e.__("type_"+a.type),T.default.createElement("div",{className:e.ss("dot")}),(0,L.GetSkillLevelText)(e.context,a.skillLevel),T.default.createElement("div",{className:e.ss("dot")}),T.default.createElement(N.default,{duration:i})))}),i=A.DataTypes.map(function(t,r){var o=[A.CriteriaKeys.query+":"+a,A.CriteriaKeys.type+":"+t],i=encodeURIComponent(JSON.stringify(o)),s=r===A.DataTypes.length-1,l=(0,F.default)("/search?k="+i,n);return T.default.createElement("div",{key:r,className:e.ss("result-type")},T.default.createElement("a",{href:l},e.__("popular_type_"+t)),!s&&T.default.createElement("div",{className:e.ss("barrier")}))});return T.default.createElement("div",{className:this.ss("results-wrapper")},T.default.createElement("div",{className:this.ss("results-title")},i),T.default.createElement("div",{className:this.ss("results")},o))}},{key:"renderAuthors",value:function(){return T.default.createElement("div",{className:this.ss("authors-wrapper")})}},{key:"render",value:function(){var e=this.props,t=e.autoFocus,a=e.headerKeyword,n=e.size;return T.default.createElement("div",{className:this.ss("search-wrapper",n)},T.default.createElement(D.default,{tourTipId:A.TourStepKey.search_box},T.default.createElement("div",{ref:"search",className:this.ss("search-container")},T.default.createElement("div",{className:this.ss("mask")}),T.default.createElement(M.default,{inputStyle:{fontSize:15},iconName:"lrn_icon_search",autoFocus:t,size:"medium",theme:"header-search",value:a,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.__("search_placeholder"),onClear:this.onClearHeaderSearch}))),this.renderPopularSearch())}}]),t}(),f.propTypes={loginUser:k.default.object,currentHost:k.default.string,locale:k.default.string,autoFocus:k.default.bool,headerKeyword:k.default.string,searchResult:k.default.object,topicIds:k.default.array,topicMap:k.default.object,headerSearchResults:k.default.array,changeHeaderSearchKeyword:k.default.func,clearHeaderSearch:k.default.func,size:k.default.oneOf(["regular","medium"])},f.defaultProps={size:"regular"},d=p))||d)||d)||d);t.default=B},function(e,t){e.exports={"search-wrapper":"search-wrapper_Cu6cXSOg",medium:"medium_weExgicO","search-container":"search-container_3wyfutjb",mask:"mask_tiWIwgju","popular-wrapper":"popular-wrapper_3w_UQtc-","popular-position":"popular-position_2kyDzRJ2","popular-container":"popular-container_1-TgxCJb",hide:"hide_16MgxgWl",center:"center_1AxlM2QJ",popular:"popular_34Qoe5dx","topics-wrapper":"topics-wrapper_2ht-AmDZ","topics-title":"topics-title_np3lcWQH",topics:"topics_1ZOW6YyX",topic:"topic_DJJSRph1","all-topics-link":"all-topics-link_VmR6uyu5","results-wrapper":"results-wrapper_12f0kroj","results-title":"results-title_3TXqKonf","result-type":"result-type_1NrMpgwY",barrier:"barrier_33BMHEjB",results:"results_C-PpjpCk",result:"result_K7Y7ZkFa","result-title":"result-title_1SJJ4ZXm","result-des":"result-des_LPdRkevr","authors-wrapper":"authors-wrapper_1f6-rEHD","authors-title":"authors-title_-t6RE-ZR",authors:"authors_HIalviV_",author:"author_30CwoJqb","author-name":"author-name_3RbSP6PK","all-authors-link":"all-authors-link_7FXfEziZ",dot:"dot_1gnGbIpV"}},function(e,t){e.exports={"header-wrap":"header-wrap_zT9m_flk",hidden:"hidden_2MCyjoM4",architecture:"architecture_3bUGIN-x",header:"header_3BbYUnH3",logo:"logo_18ZLO9NM","logo-icon":"logo-icon_3aJI08b8","main-menu-wrapper":"main-menu-wrapper_1Qr7gfAC","main-menu":"main-menu_2qa4nwY8","user-actions":"user-actions_1f9rT9Cq","search-wrap":"search-wrap_1s4h0aY6",search:"search_1GUH0An6","search-icon":"search-icon_2u5uJvAG",hide:"hide_phEsmwHk","search-box":"search-box_3ScJmDLP",show:"show_1BDNBMho",tutorials:"tutorials_3DCi_myP",projects:"projects_1Ai_kNw3",courses:"courses_2PDcR1_a","learn-live":"learn-live_14BUnQD_","admin-tool":"admin-tool_3EWBs9WL","premium-free":"premium-free_10ntsu9x",link:"link_1AD750XN",active:"active_1ReYmKWX","avatar-action":"avatar-action_uVBPHB-t",button:"button_1hcU9ul-","button-inner":"button-inner_weRuF35V","down-icon":"down-icon_2aAmWRZx",popout:"popout_32lNlQkm",left:"left_1qo3yqiz",right:"right_jSiusli9",title:"title_1lNSkhtY",list:"list_1sHg2GvK",item:"item_14Sefygw","team-name":"team-name_AaPnSflQ",avatar:"avatar_qoar9Z4l","avatar-name":"avatar-name_2xfnpbYz",hover:"hover_2T7I7p2T","app-switcher-action":"app-switcher-action_3CpOe9RW","app-switcher-icon":"app-switcher-icon_2bgsgR6v",badge:"badge_4uLI61il",open:"open_qDflc2Tf","notifications-icon":"notifications-icon_3BnMP39k","app-switcher-wrap":"app-switcher-wrap_Od8AnX-m","app-switcher":"app-switcher_1KaXVJZI","switcher-wrap":"switcher-wrap_2fHkDxG1","app-item":"app-item_2cVpHjIy","app-icon":"app-icon_2WEMpwfZ","app-name":"app-name_a95nlSna","profile-wrap":"profile-wrap_3tvcMWem","profile-avatar-wrap":"profile-avatar-wrap_2F0uOC9e","profile-account":"profile-account_IbJzLOv8","profile-name":"profile-name_25w6Tvyt","profile-email":"profile-email_3iCeoKyI","profile-link":"profile-link_2eqXy_lv","anonymous-wrap":"anonymous-wrap_3-mw3zyd","anonymous-avatar":"anonymous-avatar_30sTsNC8","anonymous-name":"anonymous-name_2Z6M9j2y","login-desc":"login-desc_3PXjrBQe","profile-completeness-wrap":"profile-completeness-wrap_2jKHIVdT","profile-completeness":"profile-completeness_17g26OAF","completeness-text":"completeness-text_tNoSfexk","edit-link":"edit-link_bIO8ILjG","progress-bar":"progress-bar_2f6OeR8h","menu-item":"menu-item_2R56LjlF","item-icon":"item-icon_1s3368EF","item-name":"item-name_2MSdmzhQ","dialog-wrapper":"dialog-wrapper_3CVTUpwG"}},function(e,t){e.exports={currentText:"currentText_2lXlc71f",innerCurrentText:"innerCurrentText_3p4jRYEU",disabled:"disabled_2qwDSSXy",text:"text_2qVYlTRT",center:"center_1mG-M4T0",triangle:"triangle_3n3RK-9a",selectsWrapContainer:"selectsWrapContainer_3FJnFfgA",selects:"selects_3YL3wAir",selectItem:"selectItem_15pcyyDo",active:"active_32OBbnVO",scroller:"scroller_o9SLaKCw",errorText:"errorText_3qI0BFzI",description:"description_ZP157mDe",container:"container_NqH2DWyq","container-inner":"container-inner_1qw4opl8",small:"small_2WYA4a0n",medium:"medium_3LhsGf_H",large:"large_2GC1Q5dT",transparent:"transparent_1TvmhF9w",gray:"gray_18sEmzIS",grizzly:"grizzly_1EYViQzm",error:"error_30Ypnvmh",footer:"footer_2mOawD4l",underline:"underline_pBNez-SH"}},function(e,t){e.exports={error_isRequired:"error_isRequired_2uPF"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(0)),_=n(a(1)),g=n(a(2)),v=n(a(205)),y=n(a(216)),b=n(a(218)),w=n(a(221)),E=n(a(3)),S=n(a(223)),O=n(a(7)),k=n(a(96)),T=(l=(0,E.default)(S.default),u=(0,O.default)(k.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={theme:"default",player:null,showTranscript:!1},n.onPlayerReady=function(e){n.setState({player:e});var t=n.props,a=t.theme,r=t.onReady;e&&("popup"===a&&e.muted(!0),r&&r(e))},n.onToggleTranscript=function(){n.setState({showTranscript:!n.state.showTranscript})},r=a,i(n,r)}return s(t,_.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.size,n=e.renderOnly,o=e.disabled,i=e.height,s=e.width,l=e.maxWidth,u=e.maxHeight,c=e.onClose,d=r(e,["theme","size","renderOnly","disabled","height","width","maxWidth","maxHeight","onClose"]),f=this.state,m=f.player,_=f.showTranscript,g=this.props,E=g.subtitles,S=g.title,O={},k={},T={};return"auto"===a&&0!==s&&0!==i&&(T={maxWidth:(O={maxWidth:0!==l?l+"px":"100%",maxHeight:0!==u?u+"px":"100%"}).maxWidth,maxHeight:O.maxHeight},E.length>0&&u&&(T={maxHeight:u-42-(_?320:0)+"px"}),k={paddingBottom:100*i/s+"%"}),h.default.createElement("div",{className:this.ss("player-wrapper",t),style:O,ref:"player"},h.default.createElement("div",{className:this.ss("video-wrapper"),style:T},h.default.createElement("div",{style:k}),h.default.createElement("div",{className:this.ss("videoholder")},h.default.createElement(v.default,p({},d,{renderOnly:n,onReady:this.onPlayerReady})),h.default.createElement(y.default,{player:m,sizes:s+"px"}),"popup"!==t&&h.default.createElement(b.default,{theme:t,player:m,renderOnly:n,title:S,disabled:o}),h.default.createElement(w.default,{onClose:c,player:m}))))}}]),t}(),d.propTypes={src:g.default.string,renderOnly:g.default.bool,disabled:g.default.bool,width:g.default.number,height:g.default.number,maxWidth:g.default.number,maxHeight:g.default.number,title:g.default.string,size:g.default.oneOf(["auto","small"]),theme:g.default.string,subtitles:g.default.array,onReady:g.default.func,onClose:g.default.func},c=f))||c)||c);t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(0)),p=n(a(1)),m=n(a(2)),h=n(a(5)),_=n(a(39)),g=n(a(206)),v=a(68),y=a(9);a(207),a(208),a(209),a(212);var b=n(a(3)),w=n(a(215)),E=n(a(7)),S=n(a(96)),O={play:"playToggle",volume:"volumePanel",seekbar:"progressControl",timer:"remainingTimeDisplay",playbackrates:"playbackRateMenuButton",fullscreen:"fullscreenToggle"},k=[{code:"highres",name:"High"},{code:"hd1080",name:"1080p"},{code:"hd720",name:"720p"},{code:"large",name:"480p"},{code:"medium",name:"360p"},{code:"small",name:"240p"},{code:"auto",name:"Auto"}],T={"subtitles off":"subtitles_off","subtitles settings":"subtitles_settings","captions off":"captions_off","captions settings":"captions_settings"},P=(l=(0,b.default)(w.default),u=(0,E.default)(S.default),l(c=u(c=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getI18nLanguage=function(e){var t={};return h.default.map(e,function(e,a){t[a]=n.__(e)}),t},n.player={},n.playerId="",n.canInitMinimum=!0,n.initQualitySelector=function(){var e=n.props.sources;n.player.qualityselector({sources:e,formats:k.filter(function(t){return e.find(function(e){return e.format===t.code})}),text:n.__("quality"),onFormatSelected:null})},n.initTranscriptControlBar=function(e){var t=[];e.forEach(function(e){var a=h.default.get(e,"language");t.push({lang:a,text:(0,y.GetLanguageText)(n.context,a)})}),n.player.transcriptControl({showText:n.__("show_transcript"),hideText:n.__("hide_transcript"),languages:t,language:n.player.language||(0,v.getLanguageFromLocale)(n.props.locale)})},n.initMinimumControl=function(e){!0===n.canInitMinimum&&(n.canInitMinimum=!1,n.player.minimumControl({title:n.props.title,expandVideoText:n.__("expand_video"),durationText:(0,y.GetVideoDurationText)(n.context,e||0)}))},r=a,i(n,r)}return s(t,p.default),d(t,[{key:"componentDidMount",value:function(){this.refs.video&&(this.initPlayer(this.props),this.initPlayerEvents(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.setControlsVisibility(this.player,e.hideControls),h.default.isEqual(this.props.sources,e.sources)||this.initPlayer(e)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"setControlsVisibility",value:function(e,t){Object.keys(O).map(function(t){return e.controlBar[O[t]].show()}),t.map(function(t){return e.controlBar[O[t]].hide()})}},{key:"initPlayer",value:function(e){var t=this,a=this.generatePlayerOptions(e);this.player=(0,_.default)(this.refs.video,a),this.player.src(e.src),this.player.poster(e.poster),this.setControlsVisibility(this.player,e.hideControls),a.sources&&a.sources.length>1&&this.initQualitySelector(),this.playerId=this.player.id();var n=h.default.get(e,"subtitles")||[];n.length>0&&n.forEach(function(e){var a=h.default.get(e,"url");if(a&&e){var n=h.default.get(e,"language");t.player.addRemoteTextTrack({src:a,kind:"subtitles",srclang:n,label:(0,y.GetLanguageText)(t.context,n),default:e.default||!1},!1)}})}},{key:"generatePlayerOptions",value:function(e){var t={},a=(0,v.getLanguageFromLocale)(e.locale);return t.sources=e.sources||[{src:e.src,type:e.contentType}],t.language=a,t.controls=e.renderOnly&&e.controls,t.autoplay=e.autoplay,t.preload=e.renderOnly?"none":"auto",t.width=e.width,t.height=e.height,t.bigPlayButton=e.bigPlayButton,t.posterImage=e.posterImage,e.hidePlaybackRates||e.hideControls.includes("playbackrates")||(t.playbackRates=e.playbackRates),t.html5={hls:{overrideNative:!0},nativeTextTracks:!1},t.languages=r({},a,this.getI18nLanguage(T)),t.inactivityTimeout=e.inactivityTimeout,t}},{key:"initPlayerEvents",value:function(e){var t=this,a=0,n=0,r=0;this.player.ready(function(){e.onReady(t.player)}),this.player.on("play",function(){var a=_.default.getPlayers();Object.keys(a).forEach(function(e){var a=_.default.getPlayer(e);e!==t.playerId&&a&&!1===a.paused()&&a.pause()}),e.onPlay(t.player.currentTime())}),this.player.on("pause",function(){e.onPause(t.player.currentTime())}),(0,g.default)()&&["stalled","waiting"].forEach(function(e){t.player.on(e,function(){1===t.player.readyState()&&t.player.currentTime(t.player.currentTime()+1)})}),this.player.on("timeupdate",function(){e.onTimeUpdate(t.player.currentTime()),n=a,a=t.player.currentTime(),n<a&&(r=n,n=a)}),this.player.on("seeking",function(){t.player.off("timeupdate",function(){}),t.player.one("seeked",function(){}),e.onSeeking(t.player.currentTime())}),this.player.on("seeked",function(){var a=Math.floor(t.player.currentTime());e.onSeeked(r,a)}),this.player.on("ended",function(){e.onEnd()}),this.player.on("playing",function(){e.onPlaying()}),this.player.on("useractive",function(){e.onUseractive()}),this.player.on("userinactive",function(){e.onUserinactive()}),this.player.on("durationchange",function(){var a=t.player.duration()||0;e.onDurationchange(a)}),this.player.on("fullscreenchange",function(){setTimeout(function(){e.onFullScreenChange(t.player.isFullscreen())},0)}),this.player.on("ratechange",function(){e.onRateChange(t.player.playbackRate())}),this.player.on("subtitlechange",function(t,a){var n=a.lang;e.onSubtitleChange(n)}),this.player.textTracks().on("change",function(){if(t.player.hasStarted()&&0!==t.player.currentTime()){var e="",a=(t.player.textTracks().tracks_||[]).filter(function(t){return"subtitles"===t.kind&&"showing"===t.mode&&(e=t.language,!0)})[0];t.player.trigger("subtitlechange",{lang:e,track:a})}})}},{key:"render",value:function(){var e=this.props.bigPlayButtonCentered?"vjs-big-play-centered":"";return f.default.createElement("video",{ref:"video",style:{width:"100%",height:"100%"},crossOrigin:"anonymous",className:"video-js "+e})}}]),t}())||c)||c);P.propTypes={locale:m.default.string,renderOnly:m.default.bool,src:m.default.string,contentType:m.default.string,sources:m.default.array,title:m.default.string,subtitles:m.default.array,poster:m.default.string,controls:m.default.bool,autoplay:m.default.bool,preload:m.default.oneOf(["auto","none","metadata"]),width:m.default.oneOfType([m.default.string,m.default.number]),height:m.default.oneOfType([m.default.string,m.default.number]),hideControls:m.default.arrayOf(m.default.string),bigPlayButton:m.default.bool,bigPlayButtonCentered:m.default.bool,posterImage:m.default.bool,onReady:m.default.func,onPlay:m.default.func,onPlaying:m.default.func,onPause:m.default.func,onTimeUpdate:m.default.func,onSeeking:m.default.func,onSeeked:m.default.func,onEnd:m.default.func,onUseractive:m.default.func,onUserinactive:m.default.func,onDurationchange:m.default.func,playbackRates:m.default.arrayOf(m.default.number),hidePlaybackRates:m.default.bool},P.defaultProps={locale:"en_US",renderOnly:!1,src:"",contentType:"",sources:[],title:"",subtitles:[],poster:"",controls:!0,autoplay:!1,preload:"auto",playbackRates:[.5,1,1.5,2,4],hidePlaybackRates:!1,hideControls:[],bigPlayButton:!1,bigPlayButtonCentered:!0,posterImage:!1,onReady:function(){},onPlay:function(){},onPlaying:function(){},onPause:function(){},onTimeUpdate:function(){},onSeeking:function(){},onSeeked:function(){},onEnd:function(){},onUseractive:function(){},onUserinactive:function(){},onDurationchange:function(){},onFullScreenChange:function(){},onRateChange:function(){},onSubtitleChange:function(){}},t.default=P},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!!window.safari||navigator.userAgent.indexOf("Safari")>=0}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(39)),r=function(e,t){for(var a=[],r=0;r<e.length;r++)a.push([e.start(r)/t,e.end(r)/t]);return n.default.createTimeRange(a)},o=function(e){var t=void 0;return e.on("ratechange",function(){t.trigger("durationchange"),t.trigger("timeupdate")}),{setSource:function(e,t){t(null,e)},setTech:function(e){t=e},duration:function(t){return t/e.playbackRate()},currentTime:function(t){return t/e.playbackRate()},setCurrentTime:function(t){return t*e.playbackRate()},buffered:function(t){return r(t,e.playbackRate())},seekable:function(t){return r(t,e.playbackRate())},played:function(t){return r(t,e.playbackRate())}}};n.default.use("*",o),t.default=o},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=function(e){return e&&e.__esModule?e:{default:e}}(a(39)),u=(o=r=function(){function e(t){n(this,e),i.call(this),this.player=t,this.sources=[],this.callback=void 0,this.containerDropdownElement=void 0,this.defaults={},this.changeQualityName=!0}return s(e,[{key:"onQualitySelect",value:function(e){var t=this;if(this.callback&&this.callback(e),this.sources){var a=this.sources.find(function(t){return t.format===e.code});if(a){this.player.src({src:a.src,type:a.type});var n=this.player.currentTime();this.player.play(),this.player.on("loadedmetadata",function(){t.player.currentTime(n)})}}this.setCurrentStyle(e),this.onToggleDropdown()}},{key:"onToggleDropdown",value:function(){if(-1===this.containerDropdownElement.className.indexOf("show"))this.containerDropdownElement.className+=" show";else{var e=this.containerDropdownElement.className.replace(" show","");this.containerDropdownElement.className=e}}},{key:"onPlayerReady",value:function(e){var t=this;this.containerDropdownElement=document.createElement("div"),this.containerDropdownElement.className="vjs-quality-dropdown";var a=document.createElement("div");a.className="vjs-quality-container";var n=document.createElement("button");n.className="vjs-brand-quality-link",n.onclick=function(e){return t.onToggleDropdown(e)},n.innerText=e.text||"Quality";var r=document.createElement("ul");e.formats||(e.formats=[{code:"auto",name:"Auto"}]),e.onFormatSelected&&(this.callback=e.onFormatSelected),e.sources&&(this.sources=e.sources),Object.prototype.hasOwnProperty.call(e,"changeQualityName")&&(this.changeQualityName=e.changeQualityName),e.formats.map(function(e){var a=document.createElement("li");a.dataset.code=e.code;var n=document.createElement("a");return n.innerText=e.name,n.setAttribute("href","#"),n.addEventListener("click",function(a){a.preventDefault(),t.onQualitySelect(e)}),a.appendChild(n),r.appendChild(a),null}),this.containerDropdownElement.appendChild(r),a.appendChild(this.containerDropdownElement),a.appendChild(n);var o=this.player.controlBar.fullscreenToggle.el();this.player.controlBar.el().insertBefore(a,o),this.player.addClass("vjs-qualityselector");var i=this.player.currentSource();if(i){var s=e.formats.find(function(e){return e.code===i.format});this.setCurrentStyle(s)}}}]),e}(),i=function(){var e=this;this.setCurrentStyle=function(t){Array.from(e.containerDropdownElement.firstChild.childNodes).forEach(function(e){e.dataset.code===t.code?e.setAttribute("class","current"):e.removeAttribute("class")});var a=document.getElementById(e.player.id_).getElementsByClassName("vjs-brand-quality-link");e.changeQualityName&&a&&a.length>0&&(a[0].innerText=t.name||"")}},o),c=function(e){var t=this;this.ready(function(){var a=new u(t);a.onPlayerReady(l.default.mergeOptions(a.defaults,e))})};(l.default.registerPlugin||l.default.plugin)("qualityselector",c),t.default=c},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(a(39));a(210);var i=function(){function e(t){n(this,e),this.player=t,this.showTranscript=!1,this.containerElement=void 0,this.toggleTranscriptBtn=void 0,this.addedTranscriptComponent=!1}return r(e,[{key:"setTranscriptButtonLabel",value:function(){var e=this.options,t=e.showText||"Show transcript",a=e.hideText||"Hide transcript";this.toggleTranscriptBtn.innerText=this.showTranscript?a:t;var n=document.createElement("div"),r="icon ifont ifont-lrn_icon_unfold";this.showTranscript&&(r+=" show"),n.className=r,this.toggleTranscriptBtn.appendChild(n)}},{key:"onToggleTranscriptBtn",value:function(){this.showTranscript=!this.showTranscript,this.setTranscriptButtonLabel(),!0===this.showTranscript?this.player.addClass("vjs-show-transcript"):this.player.removeClass("vjs-show-transcript"),this.player.trigger(this.showTranscript?"showTranscript":"hideTranscript")}},{key:"onPlayerReady",value:function(e){var t=this;this.ready=!0,this.options=e,this.player.addClass("vjs-has-transcript");var a=this.player.getChild("controlBar");this.containerElement=document.createElement("div"),a.el().appendChild(this.containerElement),this.containerElement.className="vjs-transcript-control",this.toggleTranscriptBtn=document.createElement("button"),this.containerElement.appendChild(this.toggleTranscriptBtn),this.toggleTranscriptBtn.className="vjs-transcript-btn",this.toggleTranscriptBtn.onclick=function(e){return t.onToggleTranscriptBtn(e)},this.setTranscriptButtonLabel(),!1===this.addedTranscriptComponent&&(this.addedTranscriptComponent=!0,this.player.addChild("VideoTranscriptComponent",{isShow:this.showTranscript,languages:e.languages||[]}).addClass("vjs-transcript-container"),!0===this.showTranscript&&this.player.addClass("vjs-show-transcript"))}}]),e}();(o.default.registerPlugin||o.default.plugin)("transcriptControl",function(e){var t=this;this.ready(function(){var a=new i(t);a.onPlayerReady(o.default.mergeOptions(a.defaults,e))})})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=n(a(19)),g=n(a(39)),v=a(5),y=n(a(46)),b=a(9),w=a(12),E=n(a(3)),S=n(a(211)),O=(s=(0,E.default)(S.default))((c=u=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.onMouseWheel=function(){a.mouseWheelTimestamp=(new Date).getTime()},a.onChangeSelectedIndex=function(e){a.state.selectedIndex!==e&&a.setState({selectedIndex:e})},a.onChangeTranscriptLang=function(e,t,n){a.state.language!==n&&a.setState({language:n})},a.setTranscriptRef=function(e){a.transcriptRef||(a.transcriptRef=e,a.transcriptRef.addEventListener("mousemove",w.pauseEvent))},a.setTracksRef=function(e){a.tracksRef||(a.tracksRef=e,a.tracksRef.addEventListener("mousewheel",a.onMouseWheel))};var n=e.player,i=e.options;a.player=n||{},a.options=i||{},a.mouseWheelTimestamp=0,a.offsetTop=0;var s=n.language(),l=i.languages.findIndex(function(e){return s===e.lang})>=0?s:i.languages[0].lang;a.state={tracks:{},selectedIndex:-1,language:l};for(var u=n.remoteTextTrackEls()||{},c=u.length,f=0;f<c;f++)!function(e){var t=u[e];if("subtitles"===t.kind)if(!0===t.track.loaded_)a.state.tracks[t.srclang]=t.track;else{var n=a;t.on("load",function(){var e=n.state.tracks;e[t.srclang]=this.track,n.setState({tracks:d({},e)})})}}(f);return a.initPlayerEvent(),a}return i(t,h.default),f(t,[{key:"onChangeDuration",value:function(e){this.player.currentTime(e)}},{key:"setSelected",value:function(){var e=this.state,t=e.tracks,a=e.language,n=this.player.currentTime(),r=(0,v.get)(t,a);if(r){var o=r.cues||{},i=o.length;if(!i)return;for(var s=0,l=-1,u=0;u<i;u++){var c=o[u],d=(0,v.get)(c,"startTime")||0,f=(0,v.get)(o[u+1],"startTime")||null;if(n>=d&&(null===f||n<f)){l=u,s=_.default.findDOMNode(this.refs["cue_"+u]).offsetTop;break}}var p=(new Date).getTime();l!==this.state.selectedIndex&&this.onChangeSelectedIndex(l),s!==this.offsetTop&&(0===this.mouseWheelTimestamp||p-this.mouseWheelTimestamp>=3e3)&&(this.offsetTop=s,this.tracksRef.scrollTo(0,s))}}},{key:"getTimeStr",value:function(e){e=parseInt(e,10);var t=(0,b.ParseSecond)(e),a=t.hour,n=t.minute,r=t.second;return(a<10?"0":"")+a+":"+((n<10?"0":"")+n)+":"+((r<10?"0":"")+r)}},{key:"initPlayerEvent",value:function(){var e=this;this.player.on("timeupdate",function(){e.setSelected()}),this.player.on("fullscreenchange",function(){e.player.isFullscreen()&&e.setSelected()}),this.player.on("seeking",function(){e.mouseWheelTimestamp=0}),this.player.on("ended",function(){e.mouseWheelTimestamp=0}),this.player.on("showTranscript",function(){e.setSelected()}),this.on("dispose",function(){e.tracksRef&&e.tracksRef.removeEventListener("mousewheel",e.onMouseWheel),e.transcriptRef&&e.transcriptRef.removeEventListener("mousemove",w.pauseEvent)})}},{key:"renderFilters",value:function(){var e=this.state.language,t=(this.options.languages||[]).map(function(e){return{text:e.text,value:e.lang}});return t.length<=0?null:m.default.createElement("div",{className:this.ss("transcript-filter")},m.default.createElement("div",{className:this.ss("item")},m.default.createElement(y.default,{theme:"gray",value:e,selects:t,onChange:this.onChangeTranscriptLang})))}},{key:"renderTrack",value:function(){var e=this,t=this.state,a=t.selectedIndex,n=t.tracks,r=t.language,o=(0,v.get)(n,r);if(!o)return null;var i=o.cues||{},s=i.length;if(!s)return null;for(var l=[],u=0;u<s;u++)!function(t){var n=i[t],r=(0,v.get)(n,"startTime")||0;l.push(m.default.createElement("div",{key:o.language+"_cue_"+t,ref:"cue_"+t,className:e.ss("transcript-cue",t===a&&"selected")},m.default.createElement("div",{className:e.ss("start-time")},e.getTimeStr(r)),m.default.createElement("div",{className:e.ss("right")},m.default.createElement("div",{className:e.ss("play-icon-wrapper")},m.default.createElement("div",{className:e.ss("play-icon","ifont","ifont-lrn_icon_play")})),m.default.createElement("div",{className:e.ss("cue-text-wrapper"),onClick:function(){return e.onChangeDuration(r)}},m.default.createElement("span",{className:e.ss("cue-text")},(0,v.get)(n,"text"))))))}(u);return m.default.createElement("div",{className:this.ss("tracks-container")},m.default.createElement("div",{ref:this.setTracksRef,className:this.ss("tracks-wrapper")},l))}},{key:"render",value:function(){return m.default.createElement("div",{ref:this.setTranscriptRef,className:this.ss("transcript-container",this.props.theme)},this.renderFilters(),this.renderTrack())}}]),t}(),u.propTypes={player:p.default.object.isRequired,options:p.default.object,theme:p.default.string},l=c))||l;t.default=O;var k=g.default.getComponent("Component"),T=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.player=e,n.options=a,n.mount=n.mount.bind(n),e.ready(function(){n.mount()}),n.on("dispose",function(){_.default.unmountComponentAtNode(n.el())}),n}return i(t,k),f(t,[{key:"mount",value:function(){_.default.render(m.default.createElement(O,{player:this.player,options:this.options,theme:"fullscreen"}),this.el())}}]),t}();k.registerComponent("VideoTranscriptComponent",T)},function(e,t){e.exports={"transcript-container":"transcript-container_3CwU3oOB",fullscreen:"fullscreen_25vwYsH0","tracks-wrapper":"tracks-wrapper_2zZ3BtWR","transcript-cue":"transcript-cue_3H4KUoj8",right:"right_xO3BevY5","cue-text-wrapper":"cue-text-wrapper_33Uz_L--",popup:"popup_9FyANSrq","transcript-filter":"transcript-filter_fKHX4y6g","tracks-container":"tracks-container_2jsbv9qA",selected:"selected_2uheBhGk","cue-text":"cue-text_1jKe1U9z","play-icon-wrapper":"play-icon-wrapper_tBrAzhfW","play-icon":"play-icon_1QzqZgyK"}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(a(39));a(213);var s=function(){function e(t){n(this,e),this.player=t,this.VideoMinimumComponent=null}return o(e,[{key:"onPlayerReady",value:function(e){this.ready=!0,this.VideoMinimumComponent=this.player.addChild("VideoMinimumComponent",r({},e)),this.VideoMinimumComponent.addClass("vjs-minimum-container")}}]),e}();(i.default.registerPlugin||i.default.plugin)("minimumControl",function(e){var t=this;this.ready(function(){var a=new s(t);a.onPlayerReady(i.default.mergeOptions(a.defaults,e))})})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return(e=Math.round(e))>0?e=0:e<-t&&(e=-t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=n(a(19)),g=n(a(39)),v=a(41),y=n(a(16)),b=n(a(15)),w=n(a(3)),E=n(a(214)),S=v.presets.stiff,O=200,k=150,T=(l=(0,w.default)(E.default))((d=c=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.state={headerTop:-O},a.onHandleScroll=function(){var e=a.state.headerTop,t=a.player.el(),n=t.getElementsByTagName("video")[0].offsetHeight,r=t.scrollTop;0!==e&&n-r<=k&&a.setState({headerTop:0}),0===e&&n-r>k&&a.setState({headerTop:-O})},a.onExpandVideo=function(){a.player.el().scrollTo(0,0)};var n=e.player,i=e.options;return a.player=n||{},a.options=i||{},a}return i(t,h.default),f(t,[{key:"componentDidMount",value:function(){this.player.el().addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.el()&&this.player.el().removeEventListener("scroll",this.onHandleScroll)}},{key:"renderVideoPoster",value:function(){var e=this.player.poster();return m.default.createElement("div",{className:this.ss("image-wrapper")},m.default.createElement(y.default,{sizes:"100vw",src:e}),m.default.createElement("div",{className:this.ss("expand-video")},m.default.createElement("div",{className:this.ss("expand-button-wrapper")},m.default.createElement(b.default,{label:this.options.expandVideoText||"",widthStyle:"full",theme:"hollow-white",onClick:this.onExpandVideo}))))}},{key:"renderVideoInfo",value:function(){var e=this.options,t=e.title,a=e.durationText;return m.default.createElement("div",{className:this.ss("video-info")},m.default.createElement("div",{className:this.ss("info-title")},t),m.default.createElement("div",{className:this.ss("info-duration")},a))}},{key:"render",value:function(){var e=this,t=this.state.headerTop;return m.default.createElement(v.Motion,{style:{headerTop:(0,v.spring)(t,S)}},function(t){var a={position:"fixed",top:s(t.headerTop,O)};return m.default.createElement("div",{className:e.ss("minimum-container"),style:a},e.renderVideoPoster(),e.renderVideoInfo())})}}]),t}(),c.propTypes={player:p.default.object.isRequired,options:p.default.object},u=d))||u;t.default=T;var P=g.default.getComponent("Component"),C=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.player=e,n.options=a,n.mount=n.mount.bind(n),e.ready(function(){n.mount()}),n.on("dispose",function(){_.default.unmountComponentAtNode(n.el())}),n}return i(t,P),f(t,[{key:"mount",value:function(){_.default.render(m.default.createElement(T,{player:this.player,options:this.options}),this.el())}}]),t}();P.registerComponent("VideoMinimumComponent",C)},function(e,t){e.exports={"minimum-container":"minimum-container_7ICeqY-v",hidden:"hidden_1e_mq8st","image-wrapper":"image-wrapper_RflXy0nK","expand-video":"expand-video_a3yKEdu-","expand-button-wrapper":"expand-button-wrapper_295Mfuk3","video-info":"video-info_1VQ6mHJ_","info-title":"info-title_1529XQP7","info-duration":"info-duration_-CWJdJVb"}},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(0)),p=n(a(1)),m=n(a(2)),h=n(a(16)),_=a(97),g=n(a(3)),v=n(a(217)),y=(s=(0,g.default)(v.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hide:!1,poster:""},n.onUpdate=function(e){var t=(e=e||n.props.player).poster();t!==n.state.poster&&n.setState({poster:t})},n.onHide=function(){n.state.hide||n.setState({hide:!0})},n.handleClick=function(){var e=n.props.player;e&&e.controls()&&(e.paused()?(0,_.silencePromise)(e.play()):e.pause(),e.handleFocus({}))},i=a,o(n,i)}return i(t,p.default),d(t,[{key:"componentDidMount",value:function(){this.props.player&&this.initPlayer(this.props.player)}},{key:"componentWillReceiveProps",value:function(e){!this.props.player&&e.player&&this.initPlayer(e.player)}},{key:"componentWillUnmount",value:function(){var e=this;this.props.player&&(this.props.player.off("posterchange",function(){return e.onUpdate(e.props.player)}),this.props.player.off("firstplay",this.onHide))}},{key:"initPlayer",value:function(e){var t=this;e&&(e.on("posterchange",function(){return t.onUpdate(t.props.player)}),e.on("firstplay",this.onHide),this.onUpdate(e))}},{key:"render",value:function(){var e=this.props.sizes,t=this.state,a=t.hide,n=t.poster;return n?f.default.createElement("div",{className:this.ss("poster-wrapper",a&&"hide"),onClick:this.handleClick},f.default.createElement(h.default,{sizes:e,src:n})):null}}]),t}(),u.propTypes={player:m.default.object,sizes:m.default.string},l=c))||l;t.default=y},function(e,t){e.exports={"poster-wrapper":"poster-wrapper_2vFy1PlO",hide:"hide_3VCfZ-Qu"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.playerState"],["common.playerState"]),h=n(a(0)),_=n(a(1)),g=n(a(2)),v=a(6),y=a(4),b=a(97),w=a(5),E=a(42),S=a(38),O=n(a(3)),k=n(a(219)),T=n(a(7)),P=n(a(220)),C=(s=(0,v.decorator)({playerState:(0,y.state)(m)}),l=(0,O.default)(k.default),u=(0,T.default)(P.default),s(c=l(c=u((f=d=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.state={hide:!1},n.onHide=function(){n.state.hide||n.setState({hide:!0})},n.button={},n.handleClick=function(e){var t=n.props.player;if(t&&t.controls()){var a=t.play();if(n.mouseused_&&e.clientX&&e.clientY)return(0,b.silencePromise)(a),void t.handleFocus({});var r=t.getChild("controlBar"),o=r&&r.getChild("playToggle");if(o){var i=function(){return o.focus()};(0,b.isPromise)(a)?a.then(i,function(){}):n.button.setTimeout(i,1)}else t.focus()}},n.handleKeyPress=function(){n.mouseused_=!1},n.handleMouseDown=function(){n.mouseused_=!0},n.mouseused_=!1,n}return i(t,_.default),p(t,[{key:"componentDidMount",value:function(){this.props.player&&this.initPlayer(this.props.player)}},{key:"componentWillReceiveProps",value:function(e){!this.props.player&&e.player&&this.initPlayer(e.player)}},{key:"componentWillUnmount",value:function(){var e=this.props.player;e&&(e.off("mousedown",this.handleMouseDown),e.off("firstplay",this.onHide)),window.removeEventListener("keydown",this.handleKeyPress)}},{key:"initPlayer",value:function(e){e&&(e.on("mousedown",this.handleMouseDown),e.on("firstplay",this.onHide),window.addEventListener("keydown",this.handleKeyPress))}},{key:"render",value:function(){var e=this.state.hide,t=this.props,a=t.player,n=t.theme,r=t.renderOnly,o=t.disabled,i=t.title,s=t.playerState,l=a&&a.id(),u=(0,w.get)(s,[l,"duration"]);if("overview"===n||"learn-live-previous"===n){var c=r&&"overview"===n;return h.default.createElement("div",{className:this.ss("play-button-wrapper",n,r?"renderOnly":"edit",e&&"hide"),onClick:!r||o?void 0:this.handleClick},h.default.createElement("div",{className:this.ss("play-button-content")},h.default.createElement("div",{className:this.ss("gradient")}),h.default.createElement("div",{className:this.ss("play-button")},h.default.createElement("div",{className:this.ss("play-icon")},h.default.createElement(E.LearnVideoPlayIcon,{size:"small"})),h.default.createElement("div",{className:this.ss("caption")},c&&h.default.createElement("span",{className:this.ss("video-title")},this.__("overview")),c&&h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement("span",{className:this.ss("video-title")},i),h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement("div",{className:this.ss("duration")},h.default.createElement(S.VideoDuration,{duration:u}))))))}var d=h.default.createElement("div",{className:this.ss("icon-play","ifont","ifont-icons_play")});if("media"===n){var f=r?"default":"small";d=h.default.createElement(E.LearnVideoPlayIcon,{size:f})}return h.default.createElement("div",{className:this.ss("play-button-wrapper",n,e&&"hide",r&&"renderOnly"),onClick:!r||o?void 0:this.handleClick},h.default.createElement("button",{className:this.ss("big-play-button")},d))}}]),t}(),d.propTypes={player:g.default.object,renderOnly:g.default.bool,disabled:g.default.bool,theme:g.default.oneOf(["default","overview","learn-live-previous","media"]),title:g.default.string,playerState:g.default.object},d.defaultProps={theme:"default"},c=f))||c)||c)||c);t.default=C},function(e,t){e.exports={"play-button-wrapper":"play-button-wrapper_369SNLpA",renderOnly:"renderOnly_2y7y3o4Q",default:"default_38r1XEyC","big-play-button":"big-play-button_3zJ4dvTy","icon-play":"icon-play_aHbNIGNZ",hide:"hide_35-D69Tk",overview:"overview_1IxKbRZ_","learn-live-previous":"learn-live-previous_qBj2UrPx","play-button-content":"play-button-content_1cNu61RV","play-button":"play-button_hQxpQ-sX","play-icon":"play-icon_1bT0oac8",caption:"caption_5mzN4sUw",dot:"dot_3xeOD5y5",duration:"duration_264pbZex","video-title":"video-title_2wAV9HG-",gradient:"gradient_3XDAkNCy",edit:"edit_3k6blzKd",media:"media_2q5BB4gV"}},function(e,t){e.exports={overview:"overview_lHx_"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.playerState"],["common.playerState"]),m=n(a(0)),h=n(a(1)),_=n(a(2)),g=a(6),v=a(4),y=a(5),b=n(a(3)),w=n(a(222)),E=(s=(0,g.decorator)({playerState:(0,v.state)(p)}),l=(0,b.default)(w.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"render",value:function(){var e=this.props,t=e.player,a=e.onClose,n=e.playerState;if(!a)return null;var r=t&&t.id(),o=(0,y.get)(n,[r,"playing"])||!1,i=(0,y.get)(n,[r,"userActive"])||!0;return m.default.createElement("div",{className:this.ss("close-button-wrapper",o?"vjs-playing":"vjs-pause",i?"vjs-user-active":"vjs-user-inactive")},m.default.createElement("button",{className:this.ss("close-button"),onClick:function(){return a()}},m.default.createElement("div",{className:this.ss("icon","ifont","ifont-udp-close")})))}}]),t}(),c.propTypes={player:_.default.object,playerState:_.default.object,onClose:_.default.func},u=d))||u)||u);t.default=E},function(e,t){e.exports={"close-button-wrapper":"close-button-wrapper_sPlIS3V9","vjs-playing":"vjs-playing_25fE44JK","vjs-user-inactive":"vjs-user-inactive_16e-n1Ia","close-button":"close-button_3JX8C6wj"}},function(e,t){e.exports={"player-wrapper":"player-wrapper_3sX0YROH","video-wrapper":"video-wrapper_EfRFMD8D",videoholder:"videoholder_DX2Yz8b4"}},function(e,t){e.exports={"label-icon":"label-icon_3YriefdQ",icon:"icon_3LceFB2R",stream:"stream_3QI72ZBS",label:"label_2B8Q5RZh","try-premium-free":"try-premium-free_FA2n-swz",step:"step_ARdbi8V9",login:"login_zARCHoDg","live-session":"live-session_3DmZObhI","connect-group":"connect-group_z_EO64fN",breadcrumb:"breadcrumb_3u-LxlXz",payment:"payment_28fZK5OV",premium:"premium_ryd4Dcq0","label-with-help":"label-with-help_3TiQqWNV","help-icon":"help-icon_1NF6AeiE","label-wrapper":"label-wrapper_MXGzi78N",dark:"dark_2QGR5CcE",inherit:"inherit_1w-JlY72"}},function(e,t){e.exports={label_stream:"label_stream_3pCl",label_stream_help:"label_stream_help_2vEa",label_try_premium_free:"label_try_premium_free_7Dy5",label_try_premium_30days:"label_try_premium_30days_zcoz",label_live_session:"label_live_session_1Vbj",label_learn_live_upcoming:"label_learn_live_upcoming_76pq",label_learn_live_latest:"label_learn_live_latest_35kv",label_learn_live_past:"label_learn_live_past_3qCY",label_live_session_help:"label_live_session_help_w0Nr",label_live_session_help_tutorial:"label_live_session_help_tutorial_MC32",label_live_session_help_project:"label_live_session_help_project_3C0z",label_live_session_help_course:"label_live_session_help_course_3jpi",label_add_sub_skill:"label_add_sub_skill_ZIeH",label_add_new_skill:"label_add_new_skill_30Df",label_add_tutorial:"label_add_tutorial_3XMr",label_add_assessment:"label_add_assessment_1apM",label_add_step:"label_add_step_rxYm",label_add_lab_step:"label_add_lab_step_3oaW",label_add_submission_step:"label_add_submission_step_35dU",label_add_suggested_solution:"label_add_suggested_solution_10Lx",label_add_educator:"label_add_educator__kmn",label_add_question:"label_add_question_2Tz3",label_add_option:"label_add_option_gQGR",label_add_content_group:"label_add_content_group_KCFI",label_add_point_reward:"label_add_point_reward_-19g",label_add_another_asset:"label_add_another_asset_YXYK",label_add_content_own:"label_add_content_own_2eTI",label_align_existing_missions:"label_align_existing_missions_18S5",label_connect_group:"label_connect_group_3tTL",label_try_payment_tutorial:"label_try_payment_tutorial_2PkI",label_try_payment_project:"label_try_payment_project_MPE4",label_try_payment_course:"label_try_payment_course_9ss1",label_try_payment_quiz:"label_try_payment_quiz_38ji",label_payment:"label_payment_2ZC0",label_premium:"label_premium_26tD",label_align_existing:"label_align_existing_3uVI",label_existing_topic:"label_existing_topic_2CQc",label_existing_competency:"label_existing_competency_2HKW",breadcrumb_tip_label:"breadcrumb_tip_label_1MmL",label_login:"label_login_3UvB",label_login_to_start_learning:"label_login_to_start_learning_3A6d",label_new_version:"label_new_version_J3ne",label_new_set:"label_new_set_2v5A"}},function(e,t){e.exports={"asset-wrap":"asset-wrap_3V6Ldl1W",gallery:"gallery_9K85CLSI","asset-info":"asset-info_3EPpkoRX","asset-button":"asset-button_R0-MDaWF","asset-publisher":"asset-publisher_26ay6sOC","asset-name":"asset-name_5Odb0cE6","asset-price-wrap":"asset-price-wrap_1YE3plRx","asset-price-origin":"asset-price-origin_3LP-nv-h","asset-price-final":"asset-price-final_11z0vkg5","asset-sale":"asset-sale_3nPC7eOu","asset-sale-icon":"asset-sale-icon_1mSx1_c0","asset-sale-text":"asset-sale-text_2uR4msH4"}},function(e,t){e.exports={asset_price:"asset_price_2i4e",asset_free:"asset_free_2pm8",button_buy:"button_buy_1nB3",tag_sale:"tag_sale_2eA2"}},function(e,t){e.exports={"learn-player":"learn-player_pEBDKb6g","hide-control-bar":"hide-control-bar_16uqH6VE","video-cover":"video-cover_2fT_3dLc","video-cover-text":"video-cover-text_1OF6sl4b",creator:"creator_1-TBUKlf","learn-private-player":"learn-private-player_1-LYytVE","player-wrap":"player-wrap_J1Iuc493","no-login":"no-login_7Ci3h2Pl","player-img":"player-img_3WyDJVqc","learn-video-preview":"learn-video-preview_3YmySbiA","play-icon":"play-icon_1ir4bEl5","icon-play":"icon-play_22n9p3mD",medium:"medium_2BbBG9EU",small:"small_MDYoyjST","section-wrap":"section-wrap_51PSQTml",subtitles:"subtitles_1DTrAdhV",button:"button_2N-SCwxb",media:"media_3MBvTO1A",top:"top_1Zin_aAZ","learn-video-embed":"learn-video-embed_3r-0lIZF","render-only":"render-only_w1g02HrD","embed-wrap":"embed-wrap_1yhR9Q8Y","close-button":"close-button_2595Rk3U","mark-wrap":"mark-wrap_2fDko_66","iframe-wrap":"iframe-wrap_2cqO4efi","video-icon-wrap":"video-icon-wrap_3eNbT1RG",icon:"icon_25qTaTna","image-wrap":"image-wrap_2vGLJR-R",image:"image_eVTvxMNy","over-video-wrapper":"over-video-wrapper_2n-IX0RO","over-video-wrap":"over-video-wrap_1_WHbRvS",title:"title_2oo9IGcy","step-sep":"step-sep_1A1jAnzR"}},function(e,t){e.exports={label_video_process_hint:"label_video_process_hint_1Dlw",label_video_process_hint_1:"label_video_process_hint_1_1M4x",label_video_process_hint_2:"label_video_process_hint_2_3xJ0",open_subtitles_button:"open_subtitles_button_1jaQ",over_video_title:"over_video_title_3swR"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.WelcomeSliderContent=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=l(["loginUser"],["loginUser"]),I=l(["showWelcome"],["showWelcome"]),M=l(["locale"],["locale"]),N=l(["header.setting.windowHeight"],["header.setting.windowHeight"]),D=l(["common.loginTo"],["common.loginTo"]),x=n(a(2)),R=n(a(0)),F=n(a(1)),A=a(6),L=a(4),K=a(5),q=n(a(32)),z=n(a(121)),U=n(a(15)),B=n(a(28)),H=a(73),V=n(a(3)),G=n(a(254)),W=n(a(7)),Q=n(a(236)),J=a(237),Y=J.pcWelcomeData,Z=J.mobileWelcomeData,X=(u=(0,A.decorator)({loginUser:(0,L.state)(j),showWelcome:(0,L.state)(I)}),c=(0,V.default)(G.default),u(d=c((p=f=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.closeWelcomeDialog=function(){n.setState({open:!1}),(0,H.closeWelcome)(n.props.loginUser)},r=a,i(n,r)}return s(t,F.default),C(t,[{key:"componentDidMount",value:function(){this.setOpenState()}},{key:"setOpenState",value:function(){var e=(0,H.checkWelcomeStatus)(this.props.loginUser);this.setState({open:!e})}},{key:"render",value:function(){var e=this.state.open;return R.default.createElement(q.default,{open:this.props.showWelcome&&e},R.default.createElement("div",{className:this.ss("pc")},R.default.createElement($,{welcomeData:Y,closeWelcomeDialog:this.closeWelcomeDialog})),R.default.createElement("div",{className:this.ss("mobile")},R.default.createElement($,{welcomeData:Z,closeWelcomeDialog:this.closeWelcomeDialog})))}}]),t}(),f.propTypes={loginUser:x.default.object,showWelcome:x.default.bool},d=p))||d)||d);t.default=X;var $=(m=(0,A.decorator)({locale:(0,L.state)(M),loginUser:(0,L.state)(j),windowHeight:(0,L.state)(N),loginTo:(0,L.signal)(D)}),h=(0,V.default)(G.default),_=(0,W.default)(Q.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={itemPos:0},n.handleNext=function(){var e=n.state.itemPos;n.setState({itemPos:e+1})},n.renderNextBtnLabel=function(e){return R.default.createElement("div",{className:n.ss("next-label")},e)},r=a,i(n,r)}return s(t,F.default),C(t,[{key:"renderSliderDots",value:function(){for(var e=this,t=this.state.itemPos,a=this.props.welcomeData.length,n=new Array(a),r=0;r<a;r++)!function(a){n[a]=R.default.createElement("li",{key:a,className:e.ss(a===t&&"active"),onClick:function(){e.setState({itemPos:a})}},R.default.createElement("div",null))}(r);return n}},{key:"renderNextButton",value:function(){var e=this.state.itemPos,t=this.props,a=t.welcomeData,n=t.loginUser,r=t.closeWelcomeDialog,o=t.loginTo,i=e===a.length-1,s=!!(0,K.get)(n,"id");return i?s?R.default.createElement(U.default,{size:"medium",widthStyle:"full",label:this.renderNextBtnLabel(this.__("get_started")),onClick:function(){return r&&r()}}):R.default.createElement(U.default,{size:"medium",widthStyle:"full",label:this.renderNextBtnLabel(this.__("sign_in")),onClick:function(){return o&&o()}}):R.default.createElement(U.default,{size:"medium",widthStyle:"full",label:this.renderNextBtnLabel(this.__("next")),onClick:this.handleNext})}},{key:"render",value:function(){var e=this.state.itemPos,t=this.props,a=t.welcomeData,n=t.closeWelcomeDialog;return R.default.createElement("div",{className:this.ss("content")},R.default.createElement("div",{className:this.ss("top-wrapper")},R.default.createElement("div",{className:this.ss("icon-logo","ifont","ifont-lrn_logo_unity_learn")}),R.default.createElement("a",{className:this.ss("icon-close","ifont","ifont-icon-close"),onClick:n})),R.default.createElement(ee,{itemPos:e,items:a}),R.default.createElement("div",{className:this.ss("bottom-wrapper")},R.default.createElement("ul",{className:this.ss("slider-dot")},this.renderSliderDots()),R.default.createElement("a",{className:this.ss("skip"),onClick:n},this.__("skip")),R.default.createElement("div",{className:this.ss("next-btn")},this.renderNextButton())))}}]),t}(),v.propTypes={locale:x.default.string,loginUser:x.default.object,windowHeight:x.default.number,welcomeData:x.default.array,closeWelcomeDialog:x.default.func,loginTo:x.default.func},g=y))||g)||g)||g),ee=t.WelcomeSliderContent=(b=(0,A.decorator)({locale:(0,L.state)(M),windowHeight:(0,L.state)(N),loginTo:(0,L.signal)(D)}),w=(0,V.default)(G.default),E=(0,W.default)(Q.default),b(S=w(S=E((k=O=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),T.call(n),r=a,i(n,r)}return s(t,F.default),C(t,[{key:"getHref",value:function(){var e="https://unity3d.com/",t=this.props.locale,a=(void 0===t?"":t).toLowerCase().split("_"),n=(0,K.get)(a,"0","en"),r=(0,K.get)(a,"1");return e+="en"!==n&&r?r+"/learn/tutorials":"learn/tutorials"}},{key:"renderSimpleBody",value:function(e){var t=this,a=this.props.loginTo,n=(0,K.get)(e,"body"),r=(0,K.get)(e,"bodyWithLink");if(r){var o=(r||[]).map(function(e){var n=(0,K.get)(e,"type"),r=(0,K.get)(e,"label");return"text"===n?t.__(r):"link"===n?R.default.createElement("a",{key:r,className:t.ss("body-link"),onClick:function(){return a&&a()}},t.__(r)):null});return R.default.createElement("div",null,o)}return R.default.createElement("div",null,this.__(n))}},{key:"render",value:function(){var e=this.props,t=e.itemPos,a=e.items,n=r(e,["itemPos","items"]);return R.default.createElement(z.default,P({},n,{items:a,itemPos:t,pageSize:1,renderItem:this.renderItem}))}}]),t}(),O.propTypes={locale:x.default.string,windowHeight:x.default.number,loginTo:x.default.func,itemPos:x.default.number.isRequired,items:x.default.array},T=function(){var e=this;this.renderNote=function(t){var a=e.props.locale;if(!a||"en_US"===a||!t)return null;var n=(0,K.get)(t,"text",""),r=(0,K.get)(t,"link","");return R.default.createElement("div",{className:e.ss("item-note")},e.__(n),R.default.createElement("a",{href:e.getHref(),className:e.ss("note-link")},e.__(r)))},this.renderSimpleItem=function(t){var a=t.item,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.headline,o=a.note;return R.default.createElement("div",{className:e.ss("slider-item"),style:n},R.default.createElement("div",{className:e.ss("item-title")},e.__(r)),R.default.createElement("div",{className:e.ss("item-description")},e.renderSimpleBody(a),e.renderNote(o)))},this.renderArrayItem=function(t){var a=t.item,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.headline,o=a.body.map(function(t){return R.default.createElement("div",{key:t.title,className:e.ss("content-category")},R.default.createElement("div",{className:e.ss("category-icon","ifont","ifont-"+t.icon)}),R.default.createElement("div",{className:e.ss("category-title")},e.__(t.title)),R.default.createElement("div",{className:e.ss("category-description")},e.__(t.body)))});return R.default.createElement("div",{className:e.ss("slider-item"),style:n},R.default.createElement("div",{className:e.ss("item-title")},e.__(r)),R.default.createElement("div",{className:e.ss("item-content")},o))},this.renderBodyItem=function(t){var a=t.item,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.headline,o=a.body,i=(0,K.get)(o,"title"),s=(0,K.get)(o,"icon"),l=(0,K.get)(o,"description");return R.default.createElement("div",{className:e.ss("slider-item"),style:n},R.default.createElement("div",{className:e.ss("item-title")},e.__(r)),R.default.createElement("div",{className:e.ss("item-content")},R.default.createElement("div",{className:e.ss("content-category")},R.default.createElement("div",{className:e.ss("category-icon","ifont","ifont-"+s)}),R.default.createElement("div",{className:e.ss("category-title")},e.__(i)),R.default.createElement("div",{className:e.ss("category-description")},e.__(l)))))},this.renderItem=function(t){var a=(0,K.get)(t,"item.body"),n=(0,K.get)(t,"item.bodyWithLink"),r={height:e.props.windowHeight-282+"px"},o=null,i=null;return n?(o=e.renderSimpleItem(t),i=e.renderSimpleItem(t,r)):Array.isArray(a)?(o=e.renderArrayItem(t),i=e.renderArrayItem(t,r)):a instanceof Object?(o=e.renderBodyItem(t),i=e.renderBodyItem(t,r)):(o=e.renderSimpleItem(t),i=e.renderSimpleItem(t,r)),R.default.createElement(B.default,null,R.default.createElement("div",null,R.default.createElement("div",{className:e.ss("pc")},o),R.default.createElement("div",{className:e.ss("mobile")},i)))}},S=k))||S)||S)||S)},function(e,t){e.exports={"content-subtitle":"content-subtitle_3lvxrnv9","subtitle-item":"subtitle-item_xpaEsup9",dot:"dot_2bxnxodK",tag:"tag_1zONFo0R",small:"small_3P7onASG",large:"large_3MB1wG_P",dark:"dark_2sDbKSlo",gray:"gray_3yimeeX6"}},function(e,t){e.exports={type_project:"type_project_3Kis",type_course:"type_course_2O07",type_tutorial:"type_tutorial_ihHY",type_liveSession:"type_liveSession_1C1X",type_mission:"type_mission_33c5",type_pathway:"type_pathway_3p5j",type_badge:"type_badge_3X4O",type_quiz:"type_quiz_3fPk",type_submission:"type_submission_3UUA",questions_count:"questions_count_1N8f",point:"point_3Tan"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorialData"],["tutorialData"]),_=s(["projectData"],["projectData"]),g=s(["courseData"],["courseData"]),v=s(["quizData"],["quizData"]),y=s(["missionData"],["missionData"]),b=s(["pathwayData"],["pathwayData"]),w=s(["common.publishFlowDialog.open"],["common.publishFlowDialog.open"]),E=s(["common.closePublishFlowDialog"],["common.closePublishFlowDialog"]),S=s(["common.createByType"],["common.createByType"]),O=n(a(2)),k=n(a(0)),T=n(a(1)),P=a(6),C=a(4),j=a(5),I=n(a(32)),M=n(a(15)),N=n(a(25)),D=a(8),x=n(a(3)),R=n(a(250)),F=n(a(7)),A=n(a(251)),L=(l=(0,P.decorator)({tutorialData:(0,C.state)(h),projectData:(0,C.state)(_),courseData:(0,C.state)(g),quizData:(0,C.state)(v),missionData:(0,C.state)(y),pathwayData:(0,C.state)(b),show:(0,C.state)(w),closeDialog:(0,C.signal)(E),createByType:(0,C.signal)(S)}),u=(0,x.default)(R.default),c=(0,F.default)(A.default),l(d=u(d=c((p=f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getDashboardUrl=function(){var e=a.getCurrentLearnData(),t=(0,j.get)(e,"type");return t===D.DataTypeKeys.mission||t===D.DataTypeKeys.pathway?"/creator/dashboard/architecture":"/creator/dashboard"},a.onClose=a.onClose.bind(a),a}return i(t,T.default),m(t,[{key:"onClose",value:function(){var e=this.props.closeDialog;e&&e()}},{key:"onCreate",value:function(e,t){var a=!0;e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)&&(a=!1),this.props.createByType({type:t,skipPopup:a})}},{key:"getCurrentLearnData",value:function(){var e=this.props;return(0,j.get)(e,"tutorialData")||(0,j.get)(e,"projectData")||(0,j.get)(e,"courseData")||(0,j.get)(e,"quizData")||(0,j.get)(e,"missionData")||(0,j.get)(e,"pathwayData")}},{key:"render",value:function(){var e=this,t=this.props.show,a=this.getCurrentLearnData(),n=(0,j.get)(a,"title")||"",r=(0,j.get)(a,"type"),o=(0,j.get)(a,"id"),i=this.getDashboardUrl(),s="/"+r+"/"+o+"/edit";return k.default.createElement(I.default,{open:t,position:"center",noScroller:!1,onCloseModal:this.onClose},k.default.createElement("div",{className:this.ss("contents")},k.default.createElement("div",{className:this.ss("card-operate")},k.default.createElement("div",{className:this.ss("button-back")},k.default.createElement("button",{className:this.ss("button","button-back"),onClick:function(){return(0,N.default)(s)}},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-back-icon")}),k.default.createElement("div",null,this.__("back_to_edit")))),k.default.createElement("button",{className:this.ss("button","button-close"),onClick:this.onClose},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),k.default.createElement("div",{className:this.ss("publish-flow")},k.default.createElement("div",{className:this.ss("title")},this.__("publish_flow_title",{title:n})),k.default.createElement("div",{className:this.ss("content")},this.__("publish_flow_content")),k.default.createElement("div",{className:this.ss("buttons-group")},k.default.createElement("div",{className:this.ss("buttons")},k.default.createElement("div",{className:this.ss("button-return")},k.default.createElement(M.default,{widthStyle:"full",label:this.__("publish_flow_button_return"),onClick:function(){return(0,N.default)(i)}})),k.default.createElement("div",{className:this.ss("button-create")},k.default.createElement(M.default,{widthStyle:"full",theme:"blue-border",label:this.__("publish_flow_button_create_"+r),onClick:function(t){return e.onCreate(t,r)}}))),k.default.createElement("div",{className:this.ss("button-cancel")},k.default.createElement(M.default,{theme:"transparent",widthStyle:"auto",label:this.__("publish_flow_button_cancel_"+r),onClick:this.onClose}))))))}}]),t}(),f.propTypes={tutorialData:O.default.object,projectData:O.default.object,courseData:O.default.object,quizData:O.default.object,missionData:O.default.object,pathwayData:O.default.object,userGroups:O.default.array,loginUser:O.default.object,show:O.default.bool,closeDialog:O.default.func,createByType:O.default.func},d=p))||d)||d)||d);t.default=L},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),h=s(["common.previewMediaPopup.mediaContent"],["common.previewMediaPopup.mediaContent"]),_=s(["common.moveToMediaContent"],["common.moveToMediaContent"]),g=s(["common.closePreviewMediaPopup"],["common.closePreviewMediaPopup"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(4),S=a(41),O=a(5),k=n(a(16)),T=n(a(42)),P=a(12),C=n(a(3)),j=n(a(252)),I=S.presets.stiff,M=(l=(0,w.decorator)({windowWidth:(0,E.state)(m),mediaContent:(0,E.state)(h),moveToMediaContent:(0,E.signal)(_),closePreviewMediaPopup:(0,E.signal)(g)}),u=(0,C.default)(j.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={loading:!0},n.onPrevious=function(e){e&&(0,P.pauseEvent)(e);var t=n.props,a=t.mediaContent,r=t.moveToMediaContent;((0,O.get)(a,"id")||"")&&r&&r({step:-1})},n.onNext=function(e){e&&(0,P.pauseEvent)(e);var t=n.props,a=t.mediaContent,r=t.moveToMediaContent;((0,O.get)(a,"id")||"")&&r&&r({step:1})},n.onClose=function(e){e&&(0,P.pauseEvent)(e);var t=n.props,a=t.mediaContent,r=t.closePreviewMediaPopup;((0,O.get)(a,"id")||"")&&r&&r()},i=a,o(n,i)}return i(t,b.default),p(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillReceiveProps",value:function(e){var t=(e||{}).mediaContent;((0,O.get)(t,"id")||"")&&this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"onKeyDown",value:function(e){var t=e.keyCode,a=this.props.mediaContent;if((0,O.get)(a,"id"))switch(t){case 37:case 38:this.onPrevious(e);break;case 39:case 40:this.onNext(e);break;case 27:this.onClose(e)}}},{key:"getMaxWidth",value:function(){var e=this.props.windowWidth;return e?Math.min(e,1e3):1e3}},{key:"renderMedia",value:function(e,t){var a=void 0,n=!1,r=!1,o=e.id,i=e.type,s=e.originalImage,l=e.image;if("img"===i){var u=s||l||{},c=u.url,d=u.gif,f=u.width,p=u.height;n=f<this.getMaxWidth(),a=y.default.createElement("div",{key:"media-content-"+o,className:this.ss("image"),style:n?{width:f,height:p}:{}},y.default.createElement(k.default,{src:c,sizes:"1000px",gif:!!d,width:f,height:p,maxWidth:n?f:0}))}else r=!0,a=y.default.createElement("div",{className:this.ss("image","video"),onClick:function(e){return(0,P.pauseEvent)(e)}},y.default.createElement(T.default,{theme:"media",videoContent:e}));return y.default.createElement("div",{className:this.ss("image-inner",(n||r)&&"center"),style:t},a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.mediaContent,r=(0,O.get)(n,"id");if(!r)return null;var o={modalScale:.75,modalOpacity:0},i=r?{modalScale:(0,S.spring)(1,I),modalOpacity:(0,S.spring)(1,I)}:{modalScale:(0,S.spring)(.75,I),modalOpacity:(0,S.spring)(0,I)};return y.default.createElement(S.Motion,{defaultStyle:o,style:i},function(t){var r=t.modalScale,o=t.modalOpacity;if(o<.1)return null;var i={transform:"scale3d("+r+", "+r+", 1)",opacity:o};return y.default.createElement("div",{className:e.ss("image-popup-wrap")},y.default.createElement("div",{className:e.ss("image-popup-bg")}),y.default.createElement("div",{className:e.ss(a,"image-wrap"),onClick:e.onClose},e.renderMedia(n,i)))})}}]),t}(),d.propTypes={windowWidth:v.default.number,className:v.default.string,mediaContent:v.default.object,moveToMediaContent:v.default.func,closePreviewMediaPopup:v.default.func},c=f))||c)||c);t.default=M},,function(e,t){e.exports={skip:"skip_ChDV",next:"next_37fr",get_started:"get_started_2mbY",sign_in:"sign_in_1qTm",learn_covid_headline:"learn_covid_headline_1Xmr",learn_covid_body_pre:"learn_covid_body_pre_qMmQ",learn_covid_body_link:"learn_covid_body_link_RhdO",learn_covid_body_suf:"learn_covid_body_suf_1WbC",learn_overview_headline:"learn_overview_headline_3GEb",learn_overview_body:"learn_overview_body_2tgv",learn_overview_note_text:"learn_overview_note_text_26RE",learn_overview_note_link:"learn_overview_note_link_1-RO",learn_category_headline:"learn_category_headline_28c-",learn_category_tutorial_title:"learn_category_tutorial_title_sufl",learn_category_tutorial_body:"learn_category_tutorial_body_2VGw",learn_category_project_title:"learn_category_project_title_2P_M",learn_category_project_body:"learn_category_project_body_3hY5",learn_category_course_title:"learn_category_course_title_2mZO",learn_category_course_body:"learn_category_course_body_3CLI",learn_track_headline:"learn_track_headline_3_ey",learn_track_progress_title:"learn_track_progress_title_3gJC",learn_track_progress_body:"learn_track_progress_body_28jX",learn_track_collection_title:"learn_track_collection_title__npq",learn_track_collection_body:"learn_track_collection_body_3nIE",learn_free_headline:"learn_free_headline_36-S",learn_free_body:"learn_free_body_l__D",learn_category_headline_v2:"learn_category_headline_v2_7lzA",learn_category_tutorial_title_v2:"learn_category_tutorial_title_v2_1sle",learn_category_tutorial_body_v2:"learn_category_tutorial_body_v2_96bR",learn_category_project_title_v2:"learn_category_project_title_v2_3_lP",learn_category_project_body_v2:"learn_category_project_body_v2_392x",learn_category_course_title_v2:"learn_category_course_title_v2_THxO",learn_category_course_body_v2:"learn_category_course_body_v2_3NmE",learn_track_headline_v2:"learn_track_headline_v2_1dDf",learn_track_progress_title_v2:"learn_track_progress_title_v2_2MUY",learn_track_progress_body_v2:"learn_track_progress_body_v2_3TZD",learn_track_collection_title_v2:"learn_track_collection_title_v2_1__Y",learn_track_collection_body_v2:"learn_track_collection_body_v2__aI4"}},function(e,t){e.exports={pcWelcomeData:[{headline:"learn_category_headline_v2",body:[{icon:"lrn_icon_tutorial",title:"learn_category_tutorial_title_v2",body:"learn_category_tutorial_body_v2"},{icon:"lrn_icon_project",title:"learn_category_project_title_v2",body:"learn_category_project_body_v2"},{icon:"lrn_icon_track_course",title:"learn_category_course_title_v2",body:"learn_category_course_body_v2"}]},{headline:"learn_track_headline_v2",body:[{icon:"lrn_icon_track_progress",title:"learn_track_progress_title_v2",body:"learn_track_progress_body_v2"},{icon:"lrn_icon_collect_filled",title:"learn_track_collection_title_v2",body:"learn_track_collection_body_v2"}]}],mobileWelcomeData:[{headline:"learn_category_headline_v2",body:{icon:"lrn_icon_tutorial",title:"learn_category_tutorial_title_v2",description:"learn_category_tutorial_body_v2"}},{headline:"learn_category_headline_v2",body:{icon:"lrn_icon_project",title:"learn_category_project_title_v2",description:"learn_category_project_body_v2"}},{headline:"learn_category_headline_v2",body:{icon:"lrn_icon_track_course",title:"learn_category_course_title_v2",description:"learn_category_course_body_v2"}},{headline:"learn_track_headline_v2",body:{icon:"lrn_icon_track_progress",title:"learn_track_progress_title_v2",description:"learn_track_progress_body_v2"}},{headline:"learn_track_headline_v2",body:{icon:"lrn_icon_collect_filled",title:"learn_track_collection_title_v2",description:"learn_track_collection_body_v2"}}]}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(M),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,_.get)(t,"ownerId.value",""),isExercise:(0,_.get)(t,"isExercise.value"),overviewVideoId:(0,_.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,_.get)(t,"overviewVideoTitle.value","")},n=(0,w.parseEditorContent)(e,N).body;if(!n){var r=e.get("tutorialData");n=(0,_.get)(r,"description")}n&&(a.description=n);var o=(0,k.convertEducatorPlanParams)(e),s=i(e);return p({},a,o,s)}function i(e){var t=e.get(D)||null;return t&&(t.body=(0,w.parseEditorContent)(e,x).body),{solutionPlan:t}}function s(e){return[function(t){var a=t.props;return{field:[].concat(M,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(h.chains.fieldChanged),[h.chains.validate])}function l(e){var t=(0,E.convertFromRaw)(JSON.parse((0,_.get)(e,"description"))).getPlainText(),a=(0,_.get)(e,"overviewVideo.title")||(0,_.get)(e,"title")||"";return(0,h.Form)({language:{value:(0,_.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},isExercise:{value:(0,_.get)(e,"isExercise")||!1},title:{value:(0,_.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,_.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},ownerId:{value:(0,_.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,_.get)(e,"overviewVideo")},overviewVideoTitle:{value:a}})}function u(e){return(0,h.isValidForm)(e.get(M))&&(0,k.isValidEducatorPlanForm)(e)}function c(e){var t=e.state,a=e.controller;t.unset(D),a.getSignal("tutorial.saveGeneralInfo")()}function d(e){var t=l(e.get("tutorialData")),a=e.get(M);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":return(0,_.get)(t[e],"value.id")===(0,_.get)(a[e],"value.id");case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function f(e){var t=e.get(D),a=e.get("tutorialData.solutionPlan");return!a&&!t||!(!a||!t)&&Object.keys(t).every(function(n){return"body"===n?(0,I.cleanKeyForEditorBody)((0,w.parseEditorContent)(e,x).body)===(0,I.cleanKeyForEditorBody)((0,_.get)(a,"body")||""):"requiredComplete"===n?t[n]===a[n]:(0,_.get)(t,[n,"length"])===(0,_.get)(a,[n,"length"])&&(t[n]||[]).every(function(e,t){var r=(0,_.get)(a,[n,t]);return"materials"===n&&"file"===e.type?e.attachmentId===r.attachmentId:e===r})})}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["tutorial.showSolution"],["tutorial.showSolution"]);t.generalFormSave=function(e,t){t.getSignal("tutorial.saveGeneralInfo")()},t.generalFormSaveStatus=d;var h=a(13),_=a(5),g=a(29),v=a(4),y=a(11),b=a(8),w=a(21),E=a(10),S=a(100),O=a(101),k=a(239),T=n(a(31)),P=a(23),C=n(a(17)),j=n(a(36)),I=a(9),M=["tutorial","generalForm"],N="editorTutorialDescription",D=["tutorial","solutionPlan"],x="editorTutorialSolution",R={message:"changes_saved_successfully",type:"info2"},F={schema:b.POST_TUTORIAL_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/general",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("tutorialData",a),a.educatorPlan||n.unset("tutorialData.educatorPlan"),a.solutionPlan||n.unset("tutorialData.solutionPlan"),n.set("tutorial.detailsForm",(0,O.getDetailsForm)(a)),(0,S.syncStepsSections)(n,a),r.getSignal("header.showMessage")(R),r.getSignal("common.syncPoint")({tutorialData:a}))},onError:(0,I.onError)("tutorial")},A={schema:b.PUBLISH_TUTORIAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("tutorialData"),r=(0,_.get)(n,"id"),i=(0,_.get)(n,"source"),s="/api/learn/tutorial/"+r+"/publish",l=p({},o(t),(0,S.convertStepsParams)(t),(0,O.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,_.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:I.onPublishSuccess,onError:(0,I.onError)("tutorial")},L=[function(){return{formPath:M}}].concat(r(h.chains.formValidated),r((0,k.educatorPlanFormValidate)()),[function(e){var t=e.state,a=e.path;return d(t)&&(0,k.educatorPlanFormSaveStatus)(t)&&f(t)?a.no():a.yes()},{yes:(0,y.CallHTTP)(F),no:[]}]),K=[function(){return{formPath:M}}].concat(r(h.chains.formValidated),r((0,k.educatorPlanFormValidate)()),r((0,y.CallHTTP)(F))),q=[c].concat(r(s("isExercise")),r(K));t.default={name:e,depends:[],signals:{changeGeneralFormField:s(),changeDescription:s("description"),changeLanguageField:[].concat(r(s("language")),r(K)),changeCategoryFieldInternal:q,changeCategoryField:[function(e){var t=e.state,a=e.path;return t.get([].concat(M,["isExercise","value"]))?a.yes():a.no()},{yes:[C.default.DeleteConfirmed("tutorial.changeCategoryFieldInternal","exercise")],no:q}],saveGeneralInfo:L,publishTutorialInternal:[P.SetPublished].concat(r((0,y.CallHTTP)(A))),publishTutorial:[T.default.SaveRequired("tutorial.publishTutorialInternal","publish")],checkFormStatus:[function(e){var t=e.state;u(t)&&(0,S.isValidStepsForm)(t)?t.set("tutorial.isPublishDisabled",!0):t.set("tutorial.isPublishDisabled",!1)}],addSolutionPlan:[function(e){var t={requiredComplete:!1,body:"",materials:[]};e.state.set(D,t)}],removeSolutionPlan:[c],removeSolutionPlanConfirm:[C.default.DeleteConfirmed("tutorial.removeSolutionPlan")],toggleSolutionRequiredComplete:[function(e){var t=e.state,a=t.get(D),n=(0,_.get)(a,"requiredComplete");t.merge(D,{requiredComplete:!n})}],showSuggestSolution:j.default.LoginRequired([(0,g.set)((0,v.state)(m),!0)]),hideSuggestSolution:j.default.LoginRequired([(0,g.set)((0,v.state)(m),!1)]),changeSolutionMaterials:[function(e){var t=e.state,a=e.props,n=(0,_.get)(a,"contents")||[];t.set([].concat(D,["materials"]),n)}],deleteSolutionMaterial:[C.default.DeleteConfirmed("tutorial.changeSolutionMaterials")]},getServices:function(){return{}},getState:function(e){var t=e.tutorialData;return{generalForm:l(void 0===t?{}:t),showSolution:!1}}}}).call(t,"views/learn/modules/tutorial/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return[function(t){var a=t.props;return{field:[].concat(h,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function o(e){var t=(0,u.get)(e,"educatorPlan",null);return t?s(t):null}function i(e){return c.EducatorPlanContentKeys.reduce(function(t,a){var n=(0,u.get)(a,"key","");return(0,u.get)(e,n)?t[n]=(0,f.convertFromRaw)(JSON.parse((0,u.get)(e,n))).getPlainText():t[n]="",t},{})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e),a=t.description,n=t.outcome,r=t.objectives,o=t.alignment,s=t.preparation;return(0,l.Form)({description:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},outcome:{value:n},objectives:{value:r},alignment:{value:o},preparation:{value:s},materials:{value:(0,u.get)(e,"materials")||[]},ageRange:{value:(0,p.GetAgeRangeValue)((0,u.get)(e,"ageRange"))||c.EducatorSupportAgesRange.minAge+"_"},instruction:{value:(0,u.get)(e,"instruction")||0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertEducatorPlanParams=function(e){var t=e.get(h),a=e.get("tutorialData.educatorPlan")||{};if(!t)return{educatorPlan:null};var n={materials:t.materials&&t.materials.value||[],instruction:t.instruction&&t.instruction.value||0};if(t.ageRange){var r=(0,p.GetAgeRangeObject)(t.ageRange.value),o=r.min,i=r.max;n.ageRange={min:parseFloat(o)||null,max:parseFloat(i)||null}}return c.EducatorPlanContentKeys.reduce(function(t,n){var r=n.key,o=n.editorKey,i=(0,d.parseEditorContent)(e,o).body;return i||(i=(0,u.get)(a,r)),i&&(t[r]=i),t},n),{educatorPlan:n}},t.educatorPlanFormSaveStatus=function(e){var t=e.get(h),a=e.get("tutorialData.educatorPlan");if(!t)return!a;if(!a)return!1;var n=s(a);return Object.keys(t).every(function(e){return c.EducatorPlanContentKeys.some(function(t){return t.key===e})?n[e].value.trim()===t[e].value.trim():"ageRange"===e||"instruction"===e?n[e].value===t[e].value:(0,u.get)(n,[e,"value","length"])===(0,u.get)(t,[e,"value","length"])&&(t[e].value||[]).every(function(t,a){var r=n[e].value[a];if("materials"===e){if("link"===t.type)return t.name===r.name&&t.url===r.url;if("file"===t.type)return t.attachmentId===r.attachmentId}return t===r})})},t.isValidEducatorPlanForm=function(e){var t=e.get(h);return!t||(0,l.isValidForm)(t)},t.educatorPlanFormValidate=function(){return[function(e){return e.state.get(h)?{formPath:h}:{}}].concat(n(l.chains.formValidated))};var l=a(13),u=a(5),c=a(8),d=a(21),f=a(10),p=a(9),m=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),h=["tutorial","educatorPlanForm"];t.default={name:e,depends:[],signals:{changeEducatorPlanFormField:r(),changeEducatorPlanDescription:r("description"),changeEducatorPlanOutcome:r("outcome"),changeEducatorPlanObjectives:r("objectives"),changeEducatorPlanAlignment:r("alignment"),changeEducatorPlanPreparation:r("preparation"),addEducatorPlan:[function(e){var t=e.state,a=s();t.set(h,a)}],removeEducatorPlanInternal:[function(e){var t=e.state,a=e.controller;t.unset(h),a.getSignal("tutorial.saveGeneralInfo")()}],removeEducatorPlan:[m.default.DeleteConfirmed("tutorial.removeEducatorPlanInternal")],moveEducatorPlanMaterial:[(0,p.MoveElementAction)(h.join(".")+".materials.value")],deleteEducatorPlanFormFieldItemConfirm:[m.default.DeleteConfirmed("tutorial.changeEducatorPlanFormField")],changeAgeRange:[function(e){var t=e.state,a=e.props,n=e.path,r=a.min,o=a.max,i=t.get(h),s=(0,p.GetAgeRangeObject)((0,u.get)(i,"ageRange.value",""));if(void 0!==r){var l=(0,p.GetMaxAgeOptions)({min:r});return t.set("tutorial.maxAgeOptions",l),s.min=r||c.EducatorSupportAgesRange.minAge,n.yes({value:(0,p.GetAgeRangeValue)(s)})}if(void 0!==o){var d=(0,p.GetMinAgeOptions)({max:o});return t.set("tutorial.minAgeOptions",d),s.max=o,n.yes({value:(0,p.GetAgeRangeValue)(s)})}return n.no()},{yes:r("ageRange"),no:[]}],changeInstructionTime:[function(e){var t=e.state,a=e.props,n=a.hours,r=a.minutes,o=t.get(h),i=(0,u.get)(o,"instruction.value"),s=(0,p.ParseMinute)(i),l=s.hour,c=s.minute;return void 0!==n&&(i=60*n+c),void 0!==r&&(i=60*l+r),{value:i}},r("instruction")]},getServices:function(){return{}},getState:function(e){var t=e.tutorialData,a=void 0===t?{}:t,n={educatorPlanForm:o(a),minAgeOptions:(0,p.GetMinAgeOptions)(),maxAgeOptions:(0,p.GetMaxAgeOptions)()},r=(0,u.get)(a,"educatorPlan");if(r){var i=(0,u.get)(r,"ageRange");n.minAgeOptions=(0,p.GetMinAgeOptions)(i),n.maxAgeOptions=(0,p.GetMaxAgeOptions)(i)}return n}}}).call(t,"views/learn/modules/tutorial/CreateEducatorPlanStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(E),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,d.get)(t,"ownerId.value",""),overviewVideoId:(0,d.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,d.get)(t,"overviewVideoTitle.value","")},n=e.get("projectData"),r=(0,m.parseEditorContent)(e,S).body;r||(r=(0,d.get)(n,"description")),r&&(a.description=r);var o=(0,m.parseEditorContent)(e,O).body;o||(o=(0,d.get)(n,"properties.objective")),o&&(a.objective=o);var i=(0,y.convertEducatorPlanParams)(e);return u({},a,i)}function o(e){return[function(t){var a=t.props;return{field:[].concat(E,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e){var t=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"description"))).getPlainText(),a=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"properties.objective"))).getPlainText(),n=(0,d.get)(e,"overviewVideo.title")||(0,d.get)(e,"title")||"";return(0,c.Form)({language:{value:(0,d.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},title:{value:(0,d.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},objective:{value:a},thumbnail:{value:(0,d.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},ownerId:{value:(0,d.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,d.get)(e,"overviewVideo")},overviewVideoTitle:{value:n}})}function s(e){return(0,c.isValidForm)(e.get(E))&&(0,y.isValidEducatorPlanForm)(e)}function l(e){var t=i(e.get("projectData")),a=e.get(E);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":return(0,d.get)(t[e],"value.id")===(0,d.get)(a[e],"value.id");case"objective":case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("project.saveGeneralInfo")()},t.generalFormSaveStatus=l;var c=a(13),d=a(5),f=a(11),p=a(8),m=a(21),h=a(10),_=a(9),g=a(102),v=a(103),y=a(241),b=function(e){return e&&e.__esModule?e:{default:e}}(a(31)),w=a(23),E=["project","generalForm"],S="editorProjectDescription",O="editorProjectObjective",k={message:"changes_saved_successfully",type:"info2"},T={schema:p.POST_PROJECT_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/project/"+t.get("projectData.id")+"/general",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("projectData",a),a.educatorPlan||n.unset("projectData.educatorPlan"),n.set("project.detailsForm",(0,v.getDetailsForm)(a)),r.getSignal("header.showMessage")(k))},onError:(0,_.onError)("project")},P={schema:p.PUBLISH_PROJECT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("projectData"),o=(0,d.get)(n,"id"),i=(0,d.get)(n,"source"),s="/api/learn/project/"+o+"/publish",l=u({},r(t),(0,g.convertContentParams)(t),(0,v.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,d.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:_.onPublishSuccess,onError:(0,_.onError)("project")},C=[function(){return{formPath:E}}].concat(n(c.chains.formValidated),n((0,y.educatorPlanFormValidate)()),[function(e){var t=e.state,a=e.path;return l(t)&&(0,y.educatorPlanFormSaveStatus)(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(T),no:[]}]),j=[function(){return{formPath:E}}].concat(n(c.chains.formValidated),n((0,y.educatorPlanFormValidate)()),n((0,f.CallHTTP)(T)));t.default={name:e,depends:[],signals:{changeGeneralFormField:o(),changeDescription:o("description"),changeObjective:o("objective"),changeLanguageField:[].concat(n(o("language")),n(j)),saveGeneralInfo:C,publishProjectInternal:[w.SetPublished].concat(n((0,f.CallHTTP)(P))),publishProject:[b.default.SaveRequired("project.publishProjectInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,g.isValidContentForm)(t)?t.set("project.isPublishDisabled",!0):t.set("project.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:i(e.projectData)}}}}).call(t,"views/learn/modules/project/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return[function(t){var a=t.props;return{field:[].concat(h,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function o(e){var t=(0,u.get)(e,"educatorPlan",null);return t?s(t):null}function i(e){return c.EducatorPlanContentKeys.reduce(function(t,a){var n=(0,u.get)(a,"key","");return(0,u.get)(e,n)?t[n]=(0,f.convertFromRaw)(JSON.parse((0,u.get)(e,n))).getPlainText():t[n]="",t},{})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e),a=t.description,n=t.outcome,r=t.objectives,o=t.alignment,s=t.preparation;return(0,l.Form)({description:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},outcome:{value:n},objectives:{value:r},alignment:{value:o},preparation:{value:s},materials:{value:(0,u.get)(e,"materials")||[]},ageRange:{value:(0,p.GetAgeRangeValue)((0,u.get)(e,"ageRange"))||c.EducatorSupportAgesRange.minAge+"_"},instruction:{value:(0,u.get)(e,"instruction")||0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertEducatorPlanParams=function(e){var t=e.get(h),a=e.get("projectData.educatorPlan")||{};if(!t)return{educatorPlan:null};var n={materials:t.materials&&t.materials.value||[],instruction:t.instruction&&t.instruction.value||0};if(t.ageRange){var r=(0,p.GetAgeRangeObject)(t.ageRange.value),o=r.min,i=r.max;n.ageRange={min:parseFloat(o)||null,max:parseFloat(i)||null}}return c.EducatorPlanContentKeys.reduce(function(t,n){var r=n.key,o=n.editorKey,i=(0,d.parseEditorContent)(e,o).body;return i||(i=(0,u.get)(a,r)),i&&(t[r]=i),t},n),{educatorPlan:n}},t.educatorPlanFormSaveStatus=function(e){var t=e.get(h),a=e.get("projectData.educatorPlan");if(!t)return!a;if(!a)return!1;var n=s(a);return Object.keys(t).every(function(e){return c.EducatorPlanContentKeys.some(function(t){return t.key===e})?n[e].value.trim()===t[e].value.trim():"ageRange"===e||"instruction"===e?n[e].value===t[e].value:n[e].value.length===t[e].value.length&&t[e].value.every(function(t,a){var r=n[e].value[a];if("materials"===e){if("link"===t.type)return t.name===r.name&&t.url===r.url;if("file"===t.type)return t.attachmentId===r.attachmentId}return t===r})})},t.isValidEducatorPlanForm=function(e){var t=e.get(h);return!t||(0,l.isValidForm)(t)},t.educatorPlanFormValidate=function(){return[function(e){return e.state.get(h)?{formPath:h}:{}}].concat(n(l.chains.formValidated))};var l=a(13),u=a(5),c=a(8),d=a(21),f=a(10),p=a(9),m=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),h=["project","educatorPlanForm"];t.default={name:e,depends:[],signals:{changeEducatorPlanFormField:r(),changeEducatorPlanDescription:r("description"),changeEducatorPlanOutcome:r("outcome"),changeEducatorPlanObjectives:r("objectives"),changeEducatorPlanAlignment:r("alignment"),changeEducatorPlanPreparation:r("preparation"),addEducatorPlan:[function(e){var t=e.state,a=s();t.set(h,a)}],removeEducatorPlanInternal:[function(e){var t=e.state,a=e.controller;t.unset(h),a.getSignal("project.saveGeneralInfo")()}],removeEducatorPlan:[m.default.DeleteConfirmed("project.removeEducatorPlanInternal")],moveEducatorPlanMaterial:[(0,p.MoveElementAction)(h.join(".")+".materials.value")],deleteEducatorPlanFormFieldItemConfirm:[m.default.DeleteConfirmed("project.changeEducatorPlanFormField")],changeAgeRange:[function(e){var t=e.state,a=e.props,n=e.path,r=a.min,o=a.max,i=t.get(h),s=(0,p.GetAgeRangeObject)((0,u.get)(i,"ageRange.value",""));if(void 0!==r){var l=(0,p.GetMaxAgeOptions)({min:r});return t.set("project.maxAgeOptions",l),s.min=r||c.EducatorSupportAgesRange.minAge,n.yes({value:(0,p.GetAgeRangeValue)(s)})}if(void 0!==o){var d=(0,p.GetMinAgeOptions)({max:o});return t.set("project.minAgeOptions",d),s.max=o,n.yes({value:(0,p.GetAgeRangeValue)(s)})}return n.no()},{yes:r("ageRange"),no:[]}],changeInstructionTime:[function(e){var t=e.state,a=e.props,n=a.hours,r=a.minutes,o=t.get(h),i=(0,u.get)(o,"instruction.value"),s=(0,p.ParseMinute)(i),l=s.hour,c=s.minute;return void 0!==n&&(i=60*n+c),void 0!==r&&(i=60*l+r),{value:i}},r("instruction")]},getServices:function(){return{}},getState:function(e){var t=e.projectData,a=void 0===t?{}:t,n={educatorPlanForm:o(a),minAgeOptions:(0,p.GetMinAgeOptions)(),maxAgeOptions:(0,p.GetMaxAgeOptions)()},r=(0,u.get)(a,"educatorPlan");if(r){var i=(0,u.get)(r,"ageRange");n.minAgeOptions=(0,p.GetMinAgeOptions)(i),n.maxAgeOptions=(0,p.GetMaxAgeOptions)(i)}return n}}}).call(t,"views/learn/modules/project/CreateEducatorPlanStore.js")},function(e,t){e.exports={footer:"footer_1v9bvvC2",context:"context_255wU6ny",row:"row_2w1a97Kl",second:"second_31SYq07u","row-logo":"row-logo_3x57Z3eN",logo:"logo_1EaynoiH","logo-icon":"logo-icon_2s1K387k","copyright-and-links":"copyright-and-links_2Bj1h6jq",copyright:"copyright_26NtLVQX",links:"links_1tMf6t5p",link:"link_1vl6Y5Lo",shares:"shares_1hM1gDmF",share:"share_jme-em2M","choice-control":"choice-control_1jBCl-4Z",label:"label_AqELkCJI"}},function(e,t){e.exports={link_text_0:"link_text_0_19eB",link_text_1:"link_text_1_a4L_",link_text_2:"link_text_2_3Mgd",copyright:"copyright_1WDB",choice_lang:"choice_lang_1wIv"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorialData"],["tutorialData"]),_=s(["projectData"],["projectData"]),g=s(["courseData"],["courseData"]),v=s(["quizData"],["quizData"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),S=a(4),O=n(a(15)),k=n(a(25)),T=n(a(3)),P=n(a(245)),C=n(a(7)),j=n(a(246)),I=(l=(0,E.decorator)({tutorialData:(0,S.state)(h),projectData:(0,S.state)(_),courseData:(0,S.state)(g),quizData:(0,S.state)(v)}),u=(0,T.default)(P.default),c=(0,C.default)(j.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.tutorialData,a=e.projectData,n=e.courseData,r=e.quizData,o=void 0;if(void 0!==t&&(o=t),void 0!==a&&(o=a),void 0!==n&&(o=n),void 0!==r&&(o=r),!o)return null;var i=o,s=i.published,l=i.id,u=i.type;if(s)return null;var c="/"+u+"/"+l+"/edit";return b.default.createElement("div",{className:this.ss("preview-bar-wrap")},b.default.createElement("div",{className:this.ss("center","preview-bar-body")},b.default.createElement("div",{className:this.ss("preview-label")},this.__("preview_description_"+u)),b.default.createElement("div",{className:this.ss("button-back")},b.default.createElement(O.default,{widthStyle:"full",label:this.__("button_back"),onClick:function(){return(0,k.default)(c)}}))))}}]),t}(),f.propTypes={tutorialData:y.default.object,projectData:y.default.object,courseData:y.default.object,quizData:y.default.object},d=p))||d)||d)||d);t.default=I},function(e,t){e.exports={center:"center_3HVyBBXO","preview-bar-wrap":"preview-bar-wrap_3Vx-xWzb","preview-bar-body":"preview-bar-body_15kx5EI7","button-back":"button-back_2oM3m7oC","preview-label":"preview-label_1Klzmfr4"}},function(e,t){e.exports={preview_description_project:"preview_description_project_2V4t",preview_description_tutorial:"preview_description_tutorial_2Zk-",preview_description_course:"preview_description_course_39nR",preview_description_quiz:"preview_description_quiz_365w",button_back:"button_back_mBk9"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorialData"],["tutorialData"]),_=s(["projectData"],["projectData"]),g=s(["courseData"],["courseData"]),v=s(["quizData"],["quizData"]),y=s(["missionData"],["missionData"]),b=s(["pathwayData"],["pathwayData"]),w=s(["currentHost"],["currentHost"]),E=n(a(2)),S=n(a(0)),O=n(a(1)),k=a(6),T=a(4),P=a(5),C=n(a(18)),j=n(a(3)),I=n(a(248)),M=n(a(7)),N=n(a(249)),D=(l=(0,k.decorator)({tutorialData:(0,T.state)(h),projectData:(0,T.state)(_),courseData:(0,T.state)(g),quizData:(0,T.state)(v),missionData:(0,T.state)(y),pathwayData:(0,T.state)(b),currentHost:(0,T.state)(w)}),u=(0,j.default)(I.default),c=(0,M.default)(N.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,O.default),m(t,[{key:"getCurrentLearnData",value:function(){var e=this.props;return(0,P.get)(e,"tutorialData")||(0,P.get)(e,"projectData")||(0,P.get)(e,"courseData")||(0,P.get)(e,"quizData")||(0,P.get)(e,"missionData")||(0,P.get)(e,"pathwayData")}},{key:"render",value:function(){var e=this.getCurrentLearnData(),t=(0,P.get)(e,"editable"),a=(0,P.get)(e,"published");if(!t||!e||!a)return null;var n=(0,P.get)(e,"id"),r=(0,P.get)(e,"type"),o=(0,C.default)("/"+r+"/"+n+"/edit",this.props.currentHost);return S.default.createElement("div",{className:this.ss("author-bar-wrap")},S.default.createElement("div",{className:this.ss("author-bar-body")},S.default.createElement("div",{className:this.ss("author-label")},this.__("author_description_"+r)),S.default.createElement("div",{className:this.ss("author-button")},S.default.createElement("a",{className:this.ss("link"),href:o},this.__("button_edit_"+r)))))}}]),t}(),f.propTypes={tutorialData:E.default.object,projectData:E.default.object,courseData:E.default.object,quizData:E.default.object,missionData:E.default.object,pathwayData:E.default.object,currentHost:E.default.string},d=p))||d)||d)||d);t.default=D},function(e,t){e.exports={"author-bar-wrap":"author-bar-wrap_3WtEjTSz","author-bar-body":"author-bar-body_1GbQ-isQ","author-label":"author-label_3Ljxvhwb","author-button":"author-button_20iBVIRL",link:"link_2l4aG-DM"}},function(e,t){e.exports={author_description_tutorial:"author_description_tutorial_3WOx",author_description_project:"author_description_project_1dso",author_description_course:"author_description_course_2dPQ",author_description_quiz:"author_description_quiz_1sh3",author_description_mission:"author_description_mission_3VpB",author_description_pathway:"author_description_pathway_1meo",button_edit_tutorial:"button_edit_tutorial_1yLK",button_edit_project:"button_edit_project_28U3",button_edit_course:"button_edit_course_2rz2",button_edit_quiz:"button_edit_quiz_1U-H",button_edit_mission:"button_edit_mission_23hu",button_edit_pathway:"button_edit_pathway_ujpt"}},function(e,t){e.exports={contents:"contents_1ew9o4CC","publish-flow":"publish-flow_37njHplB",title:"title_3DIqAmS9",content:"content_1XQiiLkm","buttons-group":"buttons-group_xh49jeCI",buttons:"buttons_2zF9LrYw","button-return":"button-return_3PxVSIaZ","button-create":"button-create_2LjoYVX-","button-cancel":"button-cancel_kMBQewSW","card-operate":"card-operate_1nn3dDza",button:"button_3ZNHOWtA","button-back":"button-back_vZhMvrt7",icon:"icon_2vmm2GBQ","button-close":"button-close_3ahgzm7G"}},function(e,t){e.exports={publish_flow_title:"publish_flow_title__AxY",publish_flow_content:"publish_flow_content_3dMd",publish_flow_button_return:"publish_flow_button_return_2PNQ",publish_flow_button_create_quiz:"publish_flow_button_create_quiz_1BO7",publish_flow_button_create_tutorial:"publish_flow_button_create_tutorial_3j30",publish_flow_button_create_project:"publish_flow_button_create_project_2cja",publish_flow_button_create_course:"publish_flow_button_create_course_1DeE",publish_flow_button_create_mission:"publish_flow_button_create_mission_1aEb",publish_flow_button_create_pathway:"publish_flow_button_create_pathway_2qp4",publish_flow_button_cancel_quiz:"publish_flow_button_cancel_quiz_1HY6",publish_flow_button_cancel_tutorial:"publish_flow_button_cancel_tutorial_1XxW",publish_flow_button_cancel_project:"publish_flow_button_cancel_project_3xWj",publish_flow_button_cancel_course:"publish_flow_button_cancel_course_2bp_",publish_flow_button_cancel_mission:"publish_flow_button_cancel_mission_21oH",publish_flow_button_cancel_pathway:"publish_flow_button_cancel_pathway_21S1",back_to_edit:"back_to_edit_3IqV"}},function(e,t){e.exports={"image-popup-wrap":"image-popup-wrap_10HH2q6E","image-popup-bg":"image-popup-bg_2HLSJ6sS","image-wrap":"image-wrap_lb-ohmAd","image-inner":"image-inner_TjW9PYuu",center:"center_2gCLpIcJ",image:"image_1Y07_-3C",video:"video_irXwe5tL","arrow-wrap":"arrow-wrap_3BvLZ_Qw",arrow:"arrow_1bEKu92v",close:"close_tUcBxoO_",hide:"hide_hMt2vdgf","loading-wrap":"loading-wrap_1GJg-vZ-",loading:"loading_2d01Nky7"}},function(e,t){e.exports={sliderContainer:"sliderContainer_QYGc1PuG",rowWrapper:"rowWrapper_273m-EM6",rowContainer:"rowContainer_2HWOzA_8",itemsWrapper:"itemsWrapper_21nEwS1Z",itemContainer:"itemContainer_231jJMmo",animating:"animating_9oB2aUqD",focus:"focus_31MC0Jsf"}},function(e,t){e.exports={content:"content_37eCBPdP","top-wrapper":"top-wrapper_2uPWL45M","icon-logo":"icon-logo_39OPy1UK","icon-close":"icon-close_3sT90afJ","slider-item":"slider-item_Td__w3CF","item-title":"item-title_2HedSVfo","item-description":"item-description_19n5S7Q9","item-note":"item-note_2bNSk3aC","note-link":"note-link_1ZhvMnLU","body-link":"body-link_16_P8keg","item-content":"item-content_2_UvppDq","content-category":"content-category_2BCOiDEi","category-icon":"category-icon_2skmAUE8","category-title":"category-title_2bQEudjR","category-description":"category-description_3QNktCD8","bottom-wrapper":"bottom-wrapper_M67oAXaH","slider-dot":"slider-dot_2Y15a7N6",active:"active_3Tn7bO0X",skip:"skip_2ujXSsAn","next-btn":"next-btn_jVwV8nVy","next-label":"next-label_2DvDmTzV",pc:"pc_Ovqd-b_e",mobile:"mobile_3cnRuIpZ"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["common.tourTips.status.step"],["common.tourTips.status.step"]),w=s(["common.tourTips.status.tourSteps"],["common.tourTips.status.tourSteps"]),E=s(["common.moveToTourTip"],["common.moveToTourTip"]),S=s(["common.closeTourTip"],["common.closeTourTip"]),O=s(["common.tourTips.status.open"],["common.tourTips.status.open"]),k=s(["common.tourTips"],["common.tourTips"]),T=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),P=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),C=s(["common.setTourTip"],["common.setTourTip"]),j=n(a(2)),I=n(a(0)),M=n(a(19)),N=n(a(1)),D=a(6),x=a(4),R=a(8),F=n(a(3)),A=n(a(256)),L=n(a(7)),K=n(a(257)),q=(l=(0,D.decorator)({step:(0,x.state)(b),tourSteps:(0,x.state)(w),moveToTourTip:(0,x.signal)(E),closeTourTip:(0,x.signal)(S)}),u=(0,F.default)(A.default),c=(0,L.default)(K.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={left:0,top:0},n.onNext=function(){var e=n.props,t=e.step,a=e.tourSteps;(0,e.moveToTourTip)({step:(t+1)%Math.max(1,a.length)})},n.onClose=function(){(0,n.props.closeTourTip)()},i=a,o(n,i)}return i(t,N.default),y(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tourTip,t=e.position,a=e.targetWidth,n=e.targetHeight,r=e.left,o=e.top,i=M.default.findDOMNode(this),s=r,l=o;switch(t){case R.PositionKey.left:s+=-i.offsetWidth,l+=n/2-i.offsetHeight/2;break;case R.PositionKey.right:s+=a,l+=n/2-i.offsetHeight/2;break;case R.PositionKey.bottom:s+=a/2-i.offsetWidth/2,l+=n;break;case R.PositionKey.bottomLeft:s+=a-i.offsetWidth,l+=n;break;case R.PositionKey.bottomRight:l+=n;break;case R.PositionKey.top:default:s+=a/2-i.offsetWidth/2,l+=-i.offsetHeight}this.setState({left:s,top:l})}},{key:"render",value:function(){var e=this.props,t=e.tourTip,a=e.step,n=e.tourSteps,r=t.id,o=t.type,i=t.position,s=this.state,l=s.left,u=s.top,c=n&&n.length,d=Math.min(a+1,c),f=d<c?"button_next":"button_start_again",p="tour-bubble-step"+d;return I.default.createElement("div",{className:this.ss("tour-tip","tour-tip-"+i,"tour-tip-"+o),style:{left:l,top:u}},I.default.createElement("div",{className:this.ss("body")},I.default.createElement("div",{className:this.ss("title")},this.__("title_"+r)),I.default.createElement("div",{className:this.ss("description")},this.__("description_"+r))),I.default.createElement("div",{className:this.ss("foot")},I.default.createElement("button",{className:this.ss("button","button_next",p),onClick:this.onNext},this.__(f,{current:d,total:c})),I.default.createElement("button",{className:this.ss("button","button_close","tour-bubble-dismiss"),onClick:this.onClose},this.__("button_close"))))}}]),t}(),f.propTypes={tourTip:j.default.object.isRequired,step:j.default.number,tourSteps:j.default.arrayOf(j.default.string),moveToTourTip:j.default.func,closeTourTip:j.default.func},d=p))||d)||d)||d),z=(m=(0,D.decorator)({open:(0,x.state)(O),step:(0,x.state)(b),tourSteps:(0,x.state)(w),tourTips:(0,x.state)(k),windowWidth:(0,x.state)(T),windowHeight:(0,x.state)(P),moveToTourTip:(0,x.signal)(E),setTourTip:(0,x.signal)(C)}),h=(0,F.default)(A.default),m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,N.default),y(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.scroller=document.getElementById("pageBody").parentNode},0),window.addEventListener("load",function(){setTimeout(function(){return e.updateCanvas(e.getTourStep())},10)})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.open&&this.props.step!==e.step)this.updateCanvas(this.getTourStep());else{var a=this.props,n=a.windowHeight,r=a.windowWidth;(n!==e.windowHeight||r!==e.windowWidth)&&setTimeout(function(){return t.updateCanvas(t.getTourStep())},10)}}},{key:"getTourStep",value:function(){var e=this.props,t=e.tourSteps,a=e.step;return t&&0!==t.length?a<0||a>=t.length?t[0]:t[a]:""}},{key:"updateCanvas",value:function(e){var t=this.refs.canvas,a=this.props.tourTips[e];if(t&&a){var n=a.left,r=a.targetWidth,o=a.targetHeight,i=this.scrollToTourTip(a).top,s=t.getContext("2d");s.clearRect(0,0,t.width,t.height),s.fillStyle="rgba(0, 0, 0, 0.53)",s.fillRect(0,0,t.width,t.height),s.clearRect(n,i,r,o)}}},{key:"scrollToTourTip",value:function(e){for(var t=(e=e||{}).top,a=this.props,n=a.windowHeight,r=a.setTourTip,o=1,i=0;t>n*o;)i=n*o,o++;return this.scroller&&i>0&&(r({scrollTop:i}),this.scroller.scrollTop=i,t-=i),{top:t}}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.tourTips,n=e.windowWidth,r=e.windowHeight;if(!t)return null;var o=this.getTourStep(),i=a&&a[o];return i?I.default.createElement("div",{className:this.ss("tour-tips")},I.default.createElement("canvas",{ref:"canvas",width:n,height:r}),I.default.createElement(q,{tourTip:i})):null}}]),t}(),g.propTypes={tourSteps:j.default.arrayOf(j.default.string),open:j.default.bool,step:j.default.number,tourTips:j.default.object.isRequired,windowWidth:j.default.number,windowHeight:j.default.number,moveToTourTip:j.default.func,setTourTip:j.default.func},_=v))||_)||_);t.default=z},function(e,t){e.exports={"tour-tips":"tour-tips_t3KSenTL","tour-tip":"tour-tip_1vuaneTW",body:"body_VeL7Rk6V",title:"title_2p2EMSxP",foot:"foot_2WOr4Q-o",button:"button_Am1OVsKL",button_close:"button_close_1iha6Cfs","tour-tip-top":"tour-tip-top_2ypaHIPR","tour-tip-bottom":"tour-tip-bottom_1ii5jTjW","tour-tip-bottomLeft":"tour-tip-bottomLeft_3ujFDVLa","tour-tip-bottomRight":"tour-tip-bottomRight_2vZRhVsO","tour-tip-left":"tour-tip-left_3p_kMF54","tour-tip-right":"tour-tip-right_1wsl0vA8","tour-tip-error":"tour-tip-error_3HLKjYIt","tour-tip-success":"tour-tip-success_2QXfY_tk","tour-tip-green":"tour-tip-green_2-fMupo6","tour-tip-warning":"tour-tip-warning_-B9aAwUm"}},function(e,t){e.exports={title_menu_live_calendar:"title_menu_live_calendar_34n1",description_menu_live_calendar:"description_menu_live_calendar_1kRw",title_menu_courses:"title_menu_courses_2crD",description_menu_courses:"description_menu_courses_2dvD",title_menu_my_learning:"title_menu_my_learning_1phQ",description_menu_my_learning:"description_menu_my_learning_2r8r",title_menu_my_account:"title_menu_my_account_WWpQ",description_menu_my_account:"description_menu_my_account_1fCg",title_search_box:"title_search_box_2GaC",description_search_box:"description_search_box_1VZW",title_browse_all_topic:"title_browse_all_topic_3_VQ",description_browse_all_topic:"description_browse_all_topic_1_yq",button_next:"button_next_1bxG",button_start_again:"button_start_again_30iX",button_close:"button_close_3u8y"}},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(498)),o=n(a(499)),i=n(a(320)),s=n(a(321)),l=n(a(500)),u=n(a(501)),c=n(a(502)),d=n(a(322)),f=n(a(17)),p=n(a(503)),m=n(a(388)),h=[r.default,o.default,i.default,s.default,l.default,u.default,c.default,d.default,f.default,p.default,m.default];t.default={header:h}},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(E),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,d.get)(t,"ownerId.value",""),overviewVideoId:(0,d.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,d.get)(t,"overviewVideoTitle.value","")},n=e.get("courseData"),r=(0,m.parseEditorContent)(e,S).body;r||(r=(0,d.get)(n,"description")),r&&(a.description=r);var o=(0,m.parseEditorContent)(e,O).body;o||(o=(0,d.get)(n,"properties.careerGoals")),o&&(a.careerGoals=o);var i=(0,y.convertEducatorPlanParams)(e);return u({},a,i)}function o(e){return[function(t){var a=t.props;return{field:[].concat(E,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e){return(0,c.isValidForm)(e.get(E))&&(0,y.isValidEducatorPlanForm)(e)}function s(e){var t=l(e.get("courseData")),a=e.get(E);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":return(0,d.get)(t[e],"value.id")===(0,d.get)(a[e],"value.id");case"careerGoals":case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function l(e){var t=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"description"))).getPlainText(),a=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"properties.careerGoals"))).getPlainText(),n=(0,d.get)(e,"overviewVideo.title")||(0,d.get)(e,"title")||"";return(0,c.Form)({language:{value:(0,d.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},title:{value:(0,d.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},careerGoals:{value:a},thumbnail:{value:(0,d.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},ownerId:{value:(0,d.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,d.get)(e,"overviewVideo")},overviewVideoTitle:{value:n}})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("course.saveGeneralInfo")()},t.generalFormSaveStatus=s;var c=a(13),d=a(5),f=a(11),p=a(8),m=a(21),h=a(10),_=a(9),g=a(105),v=a(106),y=a(261),b=function(e){return e&&e.__esModule?e:{default:e}}(a(31)),w=a(23),E=["course","generalForm"],S="editorCourseDescription",O="editorCourseCareerGoals",k={message:"changes_saved_successfully",type:"info2"},T={schema:p.POST_COURSE_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/course/"+t.get("courseData.id")+"/general",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("courseData",a),a.educatorPlan||n.unset("courseData.educatorPlan"),n.set("course.detailsForm",(0,v.getDetailsForm)(a)),r.getSignal("header.showMessage")(k))},onError:(0,_.onError)("course")},P={schema:p.PUBLISH_COURSE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("courseData"),o=(0,d.get)(n,"id"),i=(0,d.get)(n,"source"),s="/api/learn/course/"+o+"/publish",l=u({},r(t),(0,g.convertContentParams)(t),(0,v.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,d.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:_.onPublishSuccess,onError:(0,_.onError)("course")},C=[function(){return{formPath:E}}].concat(n(c.chains.formValidated),n((0,y.educatorPlanFormValidate)()),[function(e){var t=e.state,a=e.path;return s(t)&&(0,y.educatorPlanFormSaveStatus)(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(T),no:[]}]),j=[function(){return{formPath:E}}].concat(n(c.chains.formValidated),n((0,y.educatorPlanFormValidate)()),n((0,f.CallHTTP)(T)));t.default={name:e,depends:[],signals:{changeGeneralFormField:o(),changeDescription:o("description"),changeCareerGoals:o("careerGoals"),changeLanguageField:[].concat(n(o("language")),n(j)),saveGeneralInfo:C,publishCourseInternal:[w.SetPublished].concat(n((0,f.CallHTTP)(P))),publishCourse:[b.default.SaveRequired("course.publishCourseInternal","publish")],checkFormStatus:[function(e){var t=e.state;i(t)&&(0,g.isValidContentForm)(t)?t.set("course.isPublishDisabled",!0):t.set("course.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:l(e.courseData)}}}}).call(t,"views/learn/modules/course/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return[function(t){var a=t.props;return{field:[].concat(h,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function o(e){var t=(0,u.get)(e,"educatorPlan",null);return t?s(t):null}function i(e){return c.EducatorPlanContentKeys.reduce(function(t,a){var n=(0,u.get)(a,"key","");return(0,u.get)(e,n)?t[n]=(0,f.convertFromRaw)(JSON.parse((0,u.get)(e,n))).getPlainText():t[n]="",t},{})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e),a=t.description,n=t.outcome,r=t.objectives,o=t.alignment,s=t.preparation;return(0,l.Form)({description:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},outcome:{value:n},objectives:{value:r},alignment:{value:o},preparation:{value:s},materials:{value:(0,u.get)(e,"materials")||[]},ageRange:{value:(0,p.GetAgeRangeValue)((0,u.get)(e,"ageRange"))||c.EducatorSupportAgesRange.minAge+"_"},instruction:{value:(0,u.get)(e,"instruction")||0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertEducatorPlanParams=function(e){var t=e.get(h),a=e.get("courseData.educatorPlan")||{};if(!t)return{educatorPlan:null};var n={materials:t.materials&&t.materials.value||[],instruction:t.instruction&&t.instruction.value||0};if(t.ageRange){var r=(0,p.GetAgeRangeObject)(t.ageRange.value),o=r.min,i=r.max;n.ageRange={min:parseFloat(o)||null,max:parseFloat(i)||null}}return c.EducatorPlanContentKeys.reduce(function(t,n){var r=n.key,o=n.editorKey,i=(0,d.parseEditorContent)(e,o).body;return i||(i=(0,u.get)(a,r)),i&&(t[r]=i),t},n),{educatorPlan:n}},t.educatorPlanFormSaveStatus=function(e){var t=e.get(h),a=e.get("courseData.educatorPlan");if(!t)return!a;if(!a)return!1;var n=s(a);return Object.keys(t).every(function(e){return c.EducatorPlanContentKeys.some(function(t){return t.key===e})?n[e].value.trim()===t[e].value.trim():"ageRange"===e||"instruction"===e?n[e].value===t[e].value:n[e].value.length===t[e].value.length&&t[e].value.every(function(t,a){var r=n[e].value[a];if("materials"===e){if("link"===t.type)return t.name===r.name&&t.url===r.url;if("file"===t.type)return t.attachmentId===r.attachmentId}return t===r})})},t.isValidEducatorPlanForm=function(e){var t=e.get(h);return!t||(0,l.isValidForm)(t)},t.educatorPlanFormValidate=function(){return[function(e){return e.state.get(h)?{formPath:h}:{}}].concat(n(l.chains.formValidated))};var l=a(13),u=a(5),c=a(8),d=a(21),f=a(10),p=a(9),m=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),h=["course","educatorPlanForm"];t.default={name:e,depends:[],signals:{changeEducatorPlanFormField:r(),changeEducatorPlanDescription:r("description"),changeEducatorPlanOutcome:r("outcome"),changeEducatorPlanObjectives:r("objectives"),changeEducatorPlanAlignment:r("alignment"),changeEducatorPlanPreparation:r("preparation"),addEducatorPlan:[function(e){var t=e.state,a=s();t.set(h,a)}],removeEducatorPlanInternal:[function(e){var t=e.state,a=e.controller;t.unset(h),a.getSignal("course.saveGeneralInfo")()}],removeEducatorPlan:[m.default.DeleteConfirmed("course.removeEducatorPlanInternal")],moveEducatorPlanMaterial:[(0,p.MoveElementAction)(h.join(".")+".materials.value")],deleteEducatorPlanFormFieldItemConfirm:[m.default.DeleteConfirmed("course.changeEducatorPlanFormField")],changeAgeRange:[function(e){var t=e.state,a=e.props,n=e.path,r=a.min,o=a.max,i=t.get(h),s=(0,p.GetAgeRangeObject)((0,u.get)(i,"ageRange.value",""));if(void 0!==r){var l=(0,p.GetMaxAgeOptions)({min:r});return t.set("course.maxAgeOptions",l),s.min=r||c.EducatorSupportAgesRange.minAge,n.yes({value:(0,p.GetAgeRangeValue)(s)})}if(void 0!==o){var d=(0,p.GetMinAgeOptions)({max:o});return t.set("course.minAgeOptions",d),s.max=o,n.yes({value:(0,p.GetAgeRangeValue)(s)})}return n.no()},{yes:r("ageRange"),no:[]}],changeInstructionTime:[function(e){var t=e.state,a=e.props,n=a.hours,r=a.minutes,o=t.get(h),i=(0,u.get)(o,"instruction.value"),s=(0,p.ParseMinute)(i),l=s.hour,c=s.minute;return void 0!==n&&(i=60*n+c),void 0!==r&&(i=60*l+r),{value:i}},r("instruction")]},getServices:function(){return{}},getState:function(e){var t=e.courseData,a=void 0===t?{}:t,n={educatorPlanForm:o(a),minAgeOptions:(0,p.GetMinAgeOptions)(),maxAgeOptions:(0,p.GetMaxAgeOptions)()},r=(0,u.get)(a,"educatorPlan");if(r){var i=(0,u.get)(r,"ageRange");n.minAgeOptions=(0,p.GetMinAgeOptions)(i),n.maxAgeOptions=(0,p.GetMaxAgeOptions)(i)}return n}}}).call(t,"views/learn/modules/course/CreateEducatorPlanStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(O),a={title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,acclaimBadge:t.acclaimBadge&&t.acclaimBadge.value,overviewVideoId:(0,f.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,f.get)(t,"overviewVideoTitle.value","")},n=e.get("pathwayData"),r=(0,h.parseEditorContent)(e,k).body;r||(r=(0,f.get)(n,"description")),r&&(a.description=r);var o=(0,h.parseEditorContent)(e,T).body;return o&&(a.overviewVideoDescription=o),c({},a)}function i(e){return[function(t){var a=t.props;return{field:[].concat(O,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e){return(0,d.isValidForm)(e.get(O))}function l(e){var t=u(e.get("pathwayData")),a=e.get(O);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":case"acclaimBadge":return(0,f.get)(t[e],"value.id")===(0,f.get)(a[e],"value.id");case"description":case"videoDescription":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function u(e){var t=(0,_.convertFromRaw)(JSON.parse((0,f.get)(e,"description"))).getPlainText(),a=(0,f.get)(e,"overviewVideo.title")||(0,f.get)(e,"title")||"",n=(0,f.get)(e,"overviewVideo.description"),r="";return n&&(r=(0,_.convertFromRaw)(JSON.parse(n)).getPlainText()),(0,d.Form)({title:{value:(0,f.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},acclaimBadge:{value:(0,f.get)(e,"acclaimBadge"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,f.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,f.get)(e,"overviewVideo")},overviewVideoTitle:{value:a},videoDescription:{value:r}})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("pathway.saveGeneralInfo")()},t.generalResetSearch=function(e){e.set("search",{criteria:{k:JSON.stringify(["t:competency"])}})},t.generalFormSaveStatus=l;var d=a(13),f=a(5),p=a(11),m=a(8),h=a(21),_=a(10),g=a(9),v=a(65),y=a(66),b=a(109),w=n(a(31)),E=a(23),S=n(a(17)),O=["pathway","generalForm"],k="editorPathwayDescription",T="videoDescriptionEditorKey",P={message:"changes_saved_successfully",type:"info2"},C={schema:m.POST_PATHWAY_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/general",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("pathwayData",a),r.getSignal("header.showMessage")(P))},onError:(0,g.onError)("pathway")},j={schema:m.PUBLISH_PATHWAY,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("pathwayData"),r=(0,f.get)(n,"id"),i=(0,f.get)(n,"source"),s="/api/learn/pathway/"+r+"/publish",l=c({},o(t),(0,v.convertMissionsParams)(t),(0,y.convertAssessmentsParams)(t),(0,b.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,f.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:g.onPublishSuccess,onError:(0,g.onError)("pathway")},I=[function(){return{formPath:O}}].concat(r(d.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(C),no:[]}]);t.default={name:e,depends:[],signals:{changeGeneralFormField:i(),changeDescription:i("description"),changeVideoDescription:i("videoDescription"),deleteBadgeConfirm:[S.default.DeleteConfirmed("pathway.deleteBadge")],deleteBadge:[function(){return{value:null}}].concat(r(i("acclaimBadge"))),saveGeneralInfo:I,publishPathwayInternal:[E.SetPublished].concat(r((0,p.CallHTTP)(j))),publishPathway:[w.default.SaveRequired("pathway.publishPathwayInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,v.isValidMissionsForm)(t)&&(0,y.isValidAssessmentsForm)(t)&&(0,b.isValidDetailsForm)(t)?t.set("pathway.isPublishDisabled",!0):t.set("pathway.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:u(e.pathwayData)}}}}).call(t,"views/learn/modules/pathway/CreateGeneralStore.js")},function(e,t){e.exports={button_share:"button_share_3t7p",button_comment:"button_comment_1KD2",type_tutorial:"type_tutorial_1XdB",type_project:"type_project_1WrH",type_course:"type_course_3xTh",type_quiz:"type_quiz_YayN",title_progress:"title_progress_1YVo",title_included_in:"title_included_in_3C3C",title_summary:"title_summary_BD-L",title_career_goal:"title_career_goal_3H3O",title_project_objective:"title_project_objective_2DEj",title_topics:"title_topics_3d6V",title_tag_topic:"title_tag_topic_2ZJl",title_tag_tag:"title_tag_tag_3OPJ",title_tag_package:"title_tag_package_2nH_",title_tag_industry:"title_tag_industry_2-oL",title_language:"title_language_1Va-",title_unity_version_range:"title_unity_version_range_1URq",title_detail_version_range:"title_detail_version_range_1z7T",title_materials_tutorial:"title_materials_tutorial_3pY1",title_materials_project:"title_materials_project_2b-5",title_materials_course:"title_materials_course_1kI4",title_materials_quiz:"title_materials_quiz_2r52",title_prerequisites_quiz:"title_prerequisites_quiz_2Lqn",title_assets:"title_assets_hfrf",title_document:"title_document_2fWZ",button_sign_in:"button_sign_in_3Y-L",progress_info_tutorial:"progress_info_tutorial_2Iwb",progress_info_project:"progress_info_project_28ZS",progress_info_course:"progress_info_course_23Pp",unity_version_range:"unity_version_range_3DdI",unity_version_range_below:"unity_version_range_below_3VqF",unity_version_range_above:"unity_version_range_above_1hT4",support_all_unity_version:"support_all_unity_version_31zW",last_updated:"last_updated_1C8a",notification_action_tutorial:"notification_action_tutorial_bIUf",notification_action_quiz:"notification_action_quiz_IDA8",notification_action_project:"notification_action_project_20fr",notification_action_course:"notification_action_course_PjQ_"}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(S),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,f.get)(t,"ownerId.value","")},n=e.get("liveSessionData"),r=(0,_.parseEditorContent)(e,O).body;return r||(r=(0,f.get)(n,"description")),r&&(a.description=r),a}function i(e){return[function(t){var a=t.props;return{field:[].concat(S,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e){return(0,d.isValidForm)(e.get(S))}function l(e){var t=u(e.get("liveSessionData")),a=e.get(S);return Object.keys(a).every(function(e){switch(e){case"thumbnail":return(0,f.get)(t[e],"value.id")===(0,f.get)(a[e],"value.id");case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function u(e){var t=(0,g.convertFromRaw)(JSON.parse((0,f.get)(e,"description"))).getPlainText();return(0,d.Form)({language:{value:(0,f.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},title:{value:(0,f.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,f.get)(e,"thumbnail")},ownerId:{value:(0,f.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("liveSession.saveGeneralInfo")()},t.generalFormSaveStatus=l;var d=a(13),f=a(5),p=a(11),m=a(8),h=n(a(25)),_=a(21),g=a(10),v=a(9),y=a(111),b=a(112),w=n(a(31)),E=a(23),S=["liveSession","generalForm"],O="editorLiveSessionDescription",k={message:"changes_saved_successfully",type:"info2"},T={schema:m.POST_LIVE_SESSION_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/liveSession/"+t.get("liveSessionData.id")+"/general",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("liveSessionData",a),r.getSignal("header.showMessage")(k))},onError:(0,v.onError)("liveSession")},P={schema:m.PUBLISH_LIVE_SESSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("liveSessionData"),r=(0,f.get)(n,"id"),i=(0,f.get)(n,"source"),s="/api/learn/liveSession/"+r+"/publish",l=c({},o(t),(0,y.convertContentParams)(t),(0,b.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,f.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:function(e){var t=e.status,a=e.result;200===t&&a&&(0,h.default)("/creator/dashboard")},onError:(0,v.onError)("liveSession")},C=[function(){return{formPath:S}}].concat(r(d.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(T),no:[]}]),j=[function(){return{formPath:S}}].concat(r(d.chains.formValidated),r((0,p.CallHTTP)(T)));t.default={name:e,depends:[],signals:{changeGeneralFormField:i(),changeDescription:i("description"),changeLanguageField:[].concat(r(i("language")),r(j)),saveGeneralInfo:C,publishLiveSessionInternal:[E.SetPublished].concat(r((0,p.CallHTTP)(P))),publishLiveSession:[w.default.SaveRequired("liveSession.publishLiveSessionInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,y.isValidContentForm)(t)?t.set("liveSession.isPublishDisabled",!0):t.set("liveSession.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:u(e.liveSessionData)}}}}).call(t,"views/learn/modules/liveSession/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(w),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,d.get)(t,"ownerId.value","")},n=e.get("quizData"),r=(0,m.parseEditorContent)(e,E).body;r||(r=(0,d.get)(n,"description")),r&&(a.description=r);var o=(0,m.parseEditorContent)(e,S).body;return o||(o=(0,d.get)(n,"properties.objective")),o&&(a.objective=o),u({},a)}function o(e){return[function(t){var a=t.props;return{field:[].concat(w,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e){var t=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"description"))).getPlainText(),a=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"properties.objective"))).getPlainText();return(0,c.Form)({language:{value:(0,d.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},title:{value:(0,d.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},objective:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,d.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},ownerId:{value:(0,d.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}function s(e){return(0,c.isValidForm)(e.get(w))}function l(e){var t=i(e.get("quizData")),a=e.get(w);return Object.keys(a).every(function(e){switch(e){case"thumbnail":return(0,d.get)(t[e],"value.id")===(0,d.get)(a[e],"value.id");case"objective":case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("quiz.saveGeneralInfo")()},t.generalFormSaveStatus=l;var c=a(13),d=a(5),f=a(11),p=a(8),m=a(21),h=a(10),_=a(104),g=a(67),v=function(e){return e&&e.__esModule?e:{default:e}}(a(31)),y=a(9),b=a(23),w=["quiz","generalForm"],E="editorQuizDescription",S="editorQuizObjective",O={message:"changes_saved_successfully",type:"info2"},k={schema:p.POST_QUIZ_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/quiz/"+t.get("quizData.id")+"/general",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("quizData",a),n.set("quiz.detailsForm",(0,g.getDetailsForm)(a,!0,n)),r.getSignal("header.showMessage")(O))},onError:(0,y.onError)("quiz")},T={schema:p.PUBLISH_QUIZ,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("quizData"),o=(0,d.get)(n,"id"),i=(0,d.get)(n,"source"),s="/api/learn/quiz/"+o+"/publish",l=u({},r(t),(0,_.convertQuestionsParams)(t),(0,g.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,d.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:y.onPublishSuccess,onError:(0,y.onError)("quiz")},P=[function(){return{formPath:w}}].concat(n(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(k),no:[]}]),C=[function(){return{formPath:w}}].concat(n(c.chains.formValidated),n((0,f.CallHTTP)(k)));t.default={name:e,depends:[],signals:{changeGeneralFormField:o(),changeObjective:o("objective"),changeDescription:o("description"),changeLanguageField:[].concat(n(o("language")),n(C)),saveGeneralInfo:P,publishQuizInternal:[b.SetPublished].concat(n((0,f.CallHTTP)(T))),publishQuiz:[v.default.SaveRequired("quiz.publishQuizInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,g.isValidDetailsForm)(t)?t.set("quiz.isPublishDisabled",!0):t.set("quiz.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){var t=e.quizData;return{generalForm:i(void 0===t?{}:t)}}}}).call(t,"views/learn/modules/quiz/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(S),a=(e.get(k)||[]).map(function(e){return{title:e.title}}),n=(0,b.GetCurrentUnityVersionRange)(e),r={title:t.title&&t.title.value,internalID:(0,f.get)(t,"currentInternalID.value",""),unityVersionRange:n,subSkills:a},o=e.get("skillData"),i=(0,h.parseEditorContent)(e,O).body;return i||(i=(0,f.get)(o,"description")),i&&(r.description=i),c({},r)}function i(e){return[function(t){var a=t.props;return{field:[].concat(S,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e){return(0,d.isValidForm)(e.get(S))}function l(e){var t=e.get("skillData"),a=u(t),n=e.get(S);if((0,b.UnityVersionSaveStatus)(e,t))return!1;var r=Object.keys(n).every(function(e){switch(e){case"description":return a[e].value.trim()===n[e].value.trim()}return a[e].value===n[e].value}),o=(0,f.get)(t,"subSkills")||[],i=e.get(k)||[];return!(!r||i.length!==o.length)&&i.every(function(e,t){return e.title===o[t].title})}function u(e){var t=(0,_.convertFromRaw)(JSON.parse((0,f.get)(e,"description"))).getPlainText();return(0,d.Form)({title:{value:(0,f.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},currentInternalID:{value:(0,f.get)(e,"internalID.current"),validations:["isValue",{matchRegexp:/^Skill-.*/}],errorMessages:["error_isRequired","error_prefix_skill"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("skill.saveGeneralInfo")()},t.generalFormSaveStatus=l;var d=a(13),f=a(5),p=a(11),m=a(8),h=a(21),_=a(10),g=a(9),v=n(a(25)),y=a(113),b=a(58),w=n(a(31)),E=a(23),S=["skill","generalForm"],O="editorSkillDescription",k=["skill","subSkills"],T={message:"changes_saved_successfully",type:"info2"},P={schema:m.POST_SKILL_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/skill/"+t.get("skillData.id")+"/general",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;if(200===t&&a){var o=(0,f.get)(a,"subSkills")||[];n.merge("skillData",a),n.set("skill.subSkills",o),r.getSignal("header.showMessage")(T)}},onError:(0,g.onError)("skill")},C={schema:m.PUBLISH_SKILL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("skillData"),r=(0,f.get)(n,"id"),i=(0,f.get)(n,"source"),s="/api/learn/skill/"+r+"/publish",l=c({},o(t),(0,y.convertContentParams)(t));return a.translated&&i&&(l.revision=(0,f.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:function(e){var t=e.status,a=e.result;200===t&&a&&(0,v.default)("/creator/dashboard/architecture")},onError:(0,g.onError)("skill")},j=[function(){return{formPath:S}}].concat(r(d.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(P),no:[]}]);t.default={name:e,depends:[],signals:{changeGeneralFormField:i(),changeSubSkill:[function(e){var t=e.state,a=e.props,n=a.value,o=a.index,i=[].concat(r(t.get(k)||[]));o<i.length&&(i[o].title=n),t.set(k,i)}],changeDescription:i("description"),saveGeneralInfo:j,publishSkillInternal:[E.SetPublished].concat(r((0,p.CallHTTP)(C))),publishSkill:[w.default.SaveRequired("skill.publishSkillInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,y.isValidContentForm)(t)?t.set("skill.isPublishDisabled",!0):t.set("skill.isPublishDisabled",!1)}],addSubSkills:[function(e){var t=e.state,a={title:"",isEdit:!0},n=[].concat(r(t.get(k)||[]));n.push(a),t.set(k,n)}],editSubSkills:[function(e){var t=e.state,a=e.props.index,n=[].concat(r(t.get(k)||[]));a<n.length&&(n[a].isEdit=!0),t.set(k,n)}],deleteSubSkills:[function(e){var t=e.state,a=e.props.index,n=[].concat(r(t.get(k)||[]));n.length>a&&(n.splice(a,1),t.set(k,n))}],completeSubSkills:[function(e){var t=e.state,a=e.props.index,n=[].concat(r(t.get(k)||[]));a<n.length&&(n[a].isEdit=!1),t.set(k,n)}],moveGeneralContent:[(0,g.MoveElementAction)(""+k.join("."))]},getServices:function(){return{}},getState:function(e){var t=e.skillData;return{generalForm:u(t),subSkills:(0,f.get)(t,"subSkills")||[]}}}}).call(t,"views/learn/modules/skill/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.state,a=d(e.competencyData);t.set(k,a)}function i(e){var t=e.state,a=e.props,n=e.controller,r=(0,m.get)(a,"result")||{},o=t.get("competencyData.skillIds")||[],i=(0,m.get)(r,"skillIds")||[];if(!(0,m.isEqual)(o,i))if(i.length>0){var s=["t:tutorial","t:project","t:course"];i.forEach(function(e){return s.push("sid:"+e)});var l={k:JSON.stringify(s)},u=n.getSignal("search.presetCriteriaSearch");u&&u({criteria:l})}else{var c=n.getSignal("search.clearSearchStore");c&&c()}}function s(e){var t=e.get(k),a={title:t.title&&t.title.value,internalID:(0,m.get)(t,"currentInternalID.value",""),skillLevel:t.skillLevel&&t.skillLevel.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,overviewVideoId:(0,m.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,m.get)(t,"overviewVideoTitle.value",""),skillIds:t.skillIds&&t.skillIds.value||[]},n=e.get("competencyData"),r=(0,g.parseEditorContent)(e,T).body;return r||(r=(0,m.get)(n,"description")),r&&(a.description=r),f({},a)}function l(e){return[function(t){var a=t.props;return{field:[].concat(k,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(p.chains.fieldChanged),[p.chains.validate])}function u(e){return(0,p.isValidForm)(e.get(k))}function c(e){var t=d(e.get("competencyData")),a=e.get(k);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":return(0,m.get)(t[e],"value.id")===(0,m.get)(a[e],"value.id");case"description":return t[e].value.trim()===a[e].value.trim();case"skillIds":return t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]})}return t[e].value===a[e].value})}function d(e){var t=(0,v.convertFromRaw)(JSON.parse((0,m.get)(e,"description"))).getPlainText(),a=(0,m.get)(e,"overviewVideo.title")||(0,m.get)(e,"title")||"";return(0,p.Form)({title:{value:(0,m.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},currentInternalID:{value:(0,m.get)(e,"internalID.current"),validations:["isValue",{matchRegexp:/^Comp-.*/}],errorMessages:["error_isRequired","error_prefix_competency"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},skillLevel:{value:(0,m.get)(e,"skillLevel"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,m.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,m.get)(e,"overviewVideo")},overviewVideoTitle:{value:a},skillIds:{value:(0,m.get)(e,"skillIds")||[]}})}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("competency.saveGeneralInfo")()},t.generalFormSaveStatus=c;var p=a(13),m=a(5),h=a(11),_=a(8),g=a(21),v=a(10),y=a(9),b=n(a(25)),w=a(114),E=n(a(31)),S=n(a(17)),O=a(23),k=["competency","generalForm"],T="editorCompetencyDescription",P={message:"changes_saved_successfully",type:"info2"},C={schema:_.POST_COMPETENCY_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/competency/"+t.get("competencyData.id")+"/general",params:s(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(i({state:n,props:{result:a},controller:r}),n.merge("competencyData",a),r.getSignal("header.showMessage")(P),o({state:n,competencyData:a}))},onError:(0,y.onError)("competency")},j={schema:_.PUBLISH_COMPETENCY,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("competencyData"),r=(0,m.get)(n,"id"),o=(0,m.get)(n,"source"),i="/api/learn/competency/"+r+"/publish",l=f({},s(t),(0,w.convertContentParams)(t));return a.translated&&o&&(l.revision=(0,m.get)(o,"latestRevision")),{endpoint:i,params:l}},onSuccess:function(e){var t=e.status,a=e.result;200===t&&a&&(0,b.default)("/creator/dashboard/architecture")},onError:(0,y.onError)("competency")},I=[function(){return{formPath:k}}].concat(r(p.chains.formValidated),[function(e){var t=e.state,a=e.path;return c(t)?a.no():a.yes()},{yes:(0,h.CallHTTP)(C),no:[]}]),M=[function(){return{formPath:k}}].concat(r(p.chains.formValidated),r((0,h.CallHTTP)(C)));t.default={name:e,depends:[],signals:{changeGeneralFormField:l(),changeDescription:l("description"),changeCareerGoals:l("careerGoals"),changeLanguageField:[].concat(r(l("language")),r(M)),addCompetencySkill:[function(e,t){return(0,y.AddTagAction)(e,t,k)}("skillIds")].concat(r(l())),internalDeleteCompetencySkill:[function(e){return(0,y.DeleteTagAction)(e,k)}("skillIds")].concat(r(l())),deleteCompetencySkill:[S.default.DeleteConfirmed("competency.internalDeleteCompetencySkill","competency_skill")],moveSkillContent:[(0,y.MoveElementAction)(k.join(".")+".skillIds.value")],saveGeneralInfo:I,publishCompetencyInternal:[O.SetPublished].concat(r((0,h.CallHTTP)(j))),publishCompetency:[E.default.SaveRequired("competency.publishCompetencyInternal","publish")],checkFormStatus:[function(e){var t=e.state;u(t)&&(0,w.isValidContentForm)(t)?t.set("competency.isPublishDisabled",!0):t.set("competency.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:d(e.competencyData)}}}}).call(t,"views/learn/modules/competency/CreateGeneralStore.js")},function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){var a=p((0,v.get)(e,"root")||{}),n=[];return a.length>0&&t&&t.forEach(function(e){var t=a.find(function(t){return t.id===e});t&&n.push(t)}),n}function o(e,t){var a=(0,v.get)(e,"root",{}),n=(0,y.GetTypeIdByItemId)(t);return l(a,n.id,n.type)}function i(e,t){var a=[];if(t.length>0){var r=t[t.length-1],o=(0,y.GetTypeIdByItemId)(r),i=o.id,s=o.type,l=(0,v.get)(e,i)||{};if((l.type===b.DataTypeKeys.project||l.type===b.DataTypeKeys.course)&&s===l.type&&l.nextRecordData){a.push.apply(a,n(t));var u=l.nextRecordData;a.push((0,y.GetItemIdByType)({id:u.itemId,type:u.type}))}}return a}function s(e,t){if(t||(t=[]),0!==t.length&&e){e.status||(e.status={});var a=e.navIds||[],n=e.subNodes||[],r=t.length,o=a.length;r>o?e.status.hasNext=(0,v.isEqual)(a,t.slice(0,o)):r===o&&(e.status.isNext=(0,v.isEqual)(a,t)),!0!==e.status.isNext&&n.length>0&&n.forEach(function(e){s(e,t)})}}function l(e,t,a){if(null===e)return null;if(e.id===t&&e.type===a)return e;if(e.subNodes&&e.subNodes.length>0)for(var n=0;n<e.subNodes.length;n++){var r=l(e.subNodes[n],t,a);if(r)return r}return null}function u(e){var t=e.root,a=e.checkpointRequired,n=e.current,r=e.contentId,o=[];if(d({node:t,checkpointRequired:a,list:o,current:n,contentId:r}),o.length<=0)return null;var i=o.findIndex(function(e){return h(e,n)});if(1===o.length&&i>=0)return null;var s=i+1;return s<o.length?o[s]:o[0]}function c(e,t){var a=[];if(f({node:e,list:a,current:t}),a.length<=0)return null;var n=a.findIndex(function(e){return h(e,t)});if(1===a.length&&n>=0)return null;var r=n+1;return r<a.length?a[r]:a[0]}function d(e){var t=e.node,a=e.checkpointRequired,n=e.list,r=e.current,o=e.contentId;t.status||(t.status={});var i=t.subNodes||[];t.type===b.DataTypeKeys.tutorial||t.type===b.DataTypeKeys.quiz?t.status.completed&&!h(t,r)||n.push(t):i.forEach(function(e){var t=(0,v.get)(e,"groupId");t&&t!==o||d({node:e,checkpointRequired:a,list:n,current:r,contentId:o})}),!a||t.type!==b.DataTypeKeys.mission&&t.type!==b.DataTypeKeys.pathway||f({node:t,list:n,current:r})}function f(e){var t=e.node,a=e.list,n=e.current,r=(0,v.get)(t,"checkpointMap");r&&Object.keys(r).forEach(function(e){var t=r[e],o=(0,v.get)(t,"status.completed"),i=(0,v.get)(t,"groupNodes.0");!o&&i&&a.push(i),h(i,n)||((0,v.get)(t,"groupNodes")||[]).find(function(e){return h(e,n)})&&a.push(n)})}function p(e){var t=[];return e&&e.type===b.DataTypeKeys.pathway&&(e.subNodes||[]).forEach(function(e){e.status&&e.status.completed||t.push(e)}),t}function m(e){var t=null;if(e&&e.subNodes.length>0&&e.type===b.DataTypeKeys.pathway)for(var a=0;a<e.subNodes.length;a++){var n=e.subNodes[a];if(((0,v.get)(n,"prerequisiteIds")||[]).filter(function(t){return e.subNodes.find(function(e){return e.id===t})}).length<=0){t=n,n.isRoot=!0;break}}return t}function h(e,t){var a=(0,v.get)(e,"navIds")||[],n=(0,v.get)(t,"navIds")||[];return!(a.length<=0)&&(0,v.isEqual)(a,n)}function _(e,t){var a=(0,v.get)(e,"dependentIds"),n=(0,v.get)(e,"status.completed"),r=a.filter(function(e){return t.find(function(t){return t.id===e})});if(r.length<=0)return n;for(var o=0;o<r.length;o++){var i=function(e){var a=r[e],n=t.find(function(e){return e.id===a});if((0,v.get)(n,"status.completed")&&_(n,t))return{v:!0}}(o);if("object"===(void 0===i?"undefined":g(i)))return i.v}return!1}Object.defineProperty(t,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var a=(0,v.get)(e,"selectedIds")||[];if(t&&0!==a.length){var n=i(t,a);e.nextIds=n,s(e.root,n)}},t.CheckUncompletedNextNode=function(e,t,a,n){var r=(0,v.get)(e,"root")||{};a&&(r=o(e,a)||{});var i=(0,v.get)(r,"type"),s=(0,v.get)(e,"current")||{};i===b.DataTypeKeys.pathway&&t?e.nextUncompleted=c(r,s):e.nextUncompleted=u({root:r,checkpointRequired:t,current:s,contentId:n})},t.ValidatePathwayMissionsCompleted=function(e){var t=(0,v.get)(e,"root")||{},a=(0,v.get)(e,"pathwayRoots")||[],n=(0,v.get)(t,"subNodes")||[];if(n.length<=0)return!0;if(a.length>0)for(var r=0;r<a.length;r++){var o=function(e){var t=a[e];if(_(n.find(function(e){return e.id===t}),n))return{v:!0}}(r);if("object"===(void 0===o?"undefined":g(o)))return o.v}return!1},t.GetMissionNextContent=function(e,t,a){return u({root:o(e,(0,y.GetItemIdByType)({id:t,type:b.DataTypeKeys.mission}))||{},checkpointRequired:!0,contentId:a})},t.GetNextMissions=r,t.GetPathwayCurrentMission=function(e,t){var a=(0,v.get)(e,"root")||{},n=null;if(a.type===b.DataTypeKeys.pathway){var o=m(a);t&&(n=l(a,t,b.DataTypeKeys.mission)),null!==n&&(0,v.get)(n,"id")!==(0,v.get)(o,"id")||(n=o)}if((0,v.get)(n,"status.completed")){var i=r(e,(0,v.get)(n,"dependentIds"));i.length>0&&(n=i[0])}return n},t.GetNodeByItemId=o;var v=a(5),y=a(9),b=a(8)},function(e,t){e.exports={"author-wrap":"author-wrap_16ltdU6_",author:"author_1VX4EAqA",label:"label_2Qs3JCC5","author-name":"author-name_1cDRR9M5",dark:"dark_1-JeUKxl",creator:"creator_2hatp727","creator-des":"creator-des_1umfH-Pk"}},function(e,t){e.exports={created_by:"created_by_3CgI"}},function(e,t,a){"use strict";(function(e){function n(e,t){return function(a){var n=a.state;n.get([].concat(o,[e]))!==t&&n.set([].concat(o,[e]),t)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(a(272)),o=["common","setting"],i="avatarSticked";t.default={name:e,depends:[],signals:{setStickerPosition:[function(e){var t=e.props,a=e.state,n=t.headerTop,r=t.scrollTop;a.merge(o,{headerTop:n,scrollTop:r})}],setCurrStickerTop:[function(e){var t=e.props,a=e.state,n=t.currHeaderTop;a.merge(o,{currHeaderTop:n})}],openSearchBox:[n("searchBoxOpen",!0)],closeSearchBox:[n("searchBoxOpen",!1)],expandSticker:[n("stickerExpanded",!0)],collapseSticker:[n("stickerExpanded",!1),n("overviewExpanded",!1),n("overviewScrolled",!1)],expandOverview:[n("overviewExpanded",!0)],collapseOverview:[n("overviewExpanded",!1)],setOverviewScrolled:[n("overviewScrolled",!0)],openAvatar:[n("avatarExpanded",!0)],closeAvatar:[function(e){var t=e.state,a=e.path;return!0!==t.get([].concat(o,[i]))?a.yes():a.no()},{yes:[n("avatarExpanded",!1)],no:[]}],stickAvatar:[n(i,!0),n("avatarExpanded",!0)],unstickAvatar:[n(i,!1),n("avatarExpanded",!1)],closeRecentBar:[function(e){var t=e.props,a=e.state,n=t.currentUserId;a.unset("recent"),(0,r.default)(n)}]},getServices:function(){},getState:function(){return{setting:{headerTop:-88,scrollTop:0,currHeaderTop:0,searchBoxOpen:!0,stickerExpanded:!1,overviewExpanded:!1,avatarExpanded:!1}}}}}).call(t,"views/learn/modules/common/HeaderSettingStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new(function(e){return e&&e.__esModule?e:{default:e}}(a(235)).default);t.default=function(e){var t=n.getItem("CLOSE_RECENT_BAR")||"",a=window&&window.location&&window.location.pathname||"/",r=new Date;r.setDate(r.getDate()+2),0!==t.indexOf(""+e)&&(t=""+e,n.setItem("CLOSE_RECENT_BAR",t,{path:a,expires:r}))}},function(e,t,a){"use strict";(function(e){function n(e){e.state.set(s,{})}Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),o=a(11),i=a(8),s=["common","headerSearch"],l={schema:i.HEADER_SEARCH,request:{endpoint:"/api/learn/headerSearch",method:"get",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.keyword,r=a.get("userPremium");return{params:{k:JSON.stringify([i.CriteriaKeys.query+":"+n]),prm:r}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,o=n.get([].concat(s,["text"])),i=(0,r.get)(a,"text");200===t&&a&&i===o&&n.set(s,a)}};t.default={name:e,signals:{changeHeaderSearchKeyword:[function(e){var t=e.props,a=e.state,n=e.path,r=t.value;return a.set([].concat(s,["text"]),r),0!==r.length?n.yes({keyword:r}):n.no()},{yes:(0,o.CallHTTP)(l),no:[n]}],clearHeaderSearch:[n]},getState:function(){return{headerSearch:{}}}}}).call(t,"views/learn/modules/common/HeaderSearchStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){var t=e.props,a=e.common,n=t.options,r=void 0===n?{}:n,o=t.tab;!0!==r.skipSyncToLocation&&(r.isPOP||a.syncToHistory({tab:o}))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r(["common.tab"],["common.tab"]),l=r(["tab"],["tab"]),u=a(29),c=a(4),d=n(a(76)),f=n(a(77)),p=n(a(78)),m=n(a(275)),h=n(a(276)),_=n(a(277)),g=n(a(278)),v=n(a(279)),y=n(a(280)),b=n(a(281)),w=n(a(282)),E=n(a(283)),S=n(a(284)),O=n(a(285)),k=a(5),T=!1;t.default={name:e,depends:[],signals:{changeTab:[(0,u.set)((0,c.state)(s),(0,c.props)(l)),o],changeLearnDetailTab:[function(e){var t=e.props,a=e.state,n=e.common,r=e.controller,o=t.tab;a.set("common.tab",o);var i=r.getState("learner.parentIds");n.syncToHistory({tab:o,parentIds:i})}],syncFromLocation:[function(e){var t=e.props,a=e.state,n=t.query;a.set("common.tab",(0,k.get)(n,"tab",""))}],changeTabWithSave:[function(e){var t=e.state,a=e.props,n=e.controller,r=a.learnType,o=a.tab,i=t.get("common.tab"),s=void 0,l=void 0;switch(r){case"tutorial":s=m.default;break;case"project":s=h.default;break;case"course":s=_.default;break;case"liveSession":s=g.default;break;case"quiz":s=v.default;break;case"skill":s=y.default;break;case"competency":s=b.default;break;case"mission":s=w.default,l=E.default;break;case"pathway":s=S.default,l=O.default}var u=s&&s[i];u&&u(t,n);var c=l&&l[o];c&&c(t,n),n.getSignal("common.changeTab")(a)}],changeRecordTab:[(0,u.set)((0,c.state)(s),(0,c.props)(l)),o,function(e){var t=e.props,a=e.controller,n="";switch(t.tab){case"activity":n="learner.getActivityRecordList";break;case"completed":n="learner.getCompletedRecordList";break;case"collected":n="learner.getCollectList";break;case"created":n="learner.getCreatedList"}a.getSignal(n)(t)}],changeLiveSessionCalendarTab:[(0,u.set)((0,c.state)(s),(0,c.props)(l)),o,function(e){var t=e.props,a=e.controller;t={period:t.tab},a.getSignal("search.getCalendarList")(t)}]},getServices:function(e){var t=(0,f.default)((0,p.default)(d.default))({basename:window.location.pathname});return t.listen(function(t){T&&"POP"===t.action&&e.getSignal("common.syncFromLocation")({query:t.query})}),T=!0,{syncToHistory:function(e){var a=e.tab,n=e.parentIds,r=void 0===n?{}:n,o=t.getCurrentLocation().query||{};t.push({pathname:"/",query:i({},o,{tab:a},r)})}}},getState:function(){return{tab:"g"}}}}).call(t,"views/learn/modules/common/TabStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(238),r=a(100),o=a(101);t.default={g:n.generalFormSave,s:r.stepsFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(240),r=a(102),o=a(103);t.default={g:n.generalFormSave,c:r.contentFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260),r=a(105),o=a(106);t.default={g:n.generalFormSave,c:r.contentFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(264),r=a(111),o=a(112);t.default={g:n.generalFormSave,c:r.contentFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(265),r=a(104),o=a(67);t.default={g:n.generalFormSave,q:r.questionsFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(266),r=a(113);t.default={g:n.generalFormSave,c:r.contentFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(267),r=a(114);t.default={g:n.generalFormSave,c:r.contentFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(107),r=a(57),o=a(63),i=a(64),s=a(108);t.default={g:n.generalFormSave,a:r.assessmentsFormSave,c:o.recommendationsFormSave,m:i.mapFormSave,d:s.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(107),r=a(57),o=a(63),i=a(64);t.default={g:n.generalResetSearch,a:r.assessmentResetSearch,c:o.recommendResetSearch,m:i.mapResetSearch}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(262),r=a(65),o=a(66),i=a(109);t.default={g:n.generalFormSave,m:r.missionsFormSave,a:o.assessmentsFormSave,d:i.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(65),r=a(66);t.default={m:n.missionsResetSearch,a:r.assessmentResetSearch}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),r=function(e){return e&&e.__esModule?e:{default:e}}(a(25));t.default={name:e,signals:{navigateToDetailPage:[function(e){var t=e.props,a=e.state.get("locale"),o=t.data,i=t.navIds,s=t.uv;(0,r.default)((0,n.GetUrlByNavIds)(i,(0,n.GetDetailPageURL)(o,a,s)))}]},getState:function(){return{}}}}).call(t,"views/learn/modules/common/NavigationStore.js")},function(e,t,a){"use strict";(function(e){function n(e){var t=e.state,a=e.props,n=a.id,r=a.videoUrl,o=a.playerId;return{id:n,videoUrl:r,videoLength:t.get([].concat(l,[o,"player"])).duration()}}function r(e){return function(t){var a=t.props,n=t.controller,r=a.data;n.getSignal("header.sendCDPRequest")({type:e,eventType:s.EventType.learn,data:r})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(5),s=a(8),l=["common","playerState"];t.default={name:e,depends:[],signals:{updatePlayerState:[function(e){var t=e.state,a=e.props,n=(0,i.get)(a,"playerId");if(n){var r=(0,i.get)(a,"payload")||{};t.merge([].concat(l,[n]),r)}}],sendLearnVideoStartCDPRequest:[function(e){var t=e.state,a=e.props,r=a.playerId,s=t.get([].concat(l,[r,"player"])),u=n({state:t,props:a}),c=!1,d="";return(s.textTracks().tracks_||[]).forEach(function(e){"subtitles"===e.kind&&"showing"===e.mode&&(c=!0,d=(0,i.get)(e,"language"))}),{data:o({},u,{caption:c,captionLanguage:d})}},r(s.CDPLearnType.video_start)],sendLearnVideoStopCDPRequest:[function(e){var t=e.state,a=e.props,r=a.playerId,i=t.get([].concat(l,[r,"player"])).currentTime(),s=n({state:t,props:a});return{data:o({},s,{stopLength:i})}},r(s.CDPLearnType.video_stop)],sendLearnVideoEngagementCDPRequest:[function(e){var t=e.state,a=e.props,r=a.playerId,i=a.engagementType,u=a.caption,c=a.language,d=t.get([].concat(l,[r,"player"])),f=n({state:t,props:a}),p=d.isFullscreen(),m=d.playbackRate(),h=o({},f,{engagementType:i});switch(i){case s.CDPLearnVideoEngagementTypes.language:h.language=c;break;case s.CDPLearnVideoEngagementTypes.caption:h.caption=u;break;case s.CDPLearnVideoEngagementTypes.full_screen:h.fullScreen=p;break;case s.CDPLearnVideoEngagementTypes.playback_speed:h.playbackSpeed=m}return{data:h}},r(s.CDPLearnType.video_engagement)]},getState:function(){return{playerState:{}}}}}).call(t,"views/learn/modules/common/PlayerStore.js")},function(e,t,a){"use strict";(function(e){function n(e){var t=e.state,a=e.props.videoContent;t.set(o,{show:!0,videoContent:a})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(a(36)),o=["common","playerDialog"];t.default={name:e,depends:[],signals:{openPlayerDialog:[function(e){var t=e.props,a=e.path;return t.loginRequired?a.yes():a.no()},{yes:r.default.LoginRequired(n),no:[n]}],closePlayerDialog:[function(e){e.state.set(o,{show:!1,videoContent:null})}]},getState:function(){return{playerDialog:{show:!1,videoContent:null}}}}}).call(t,"views/learn/modules/common/PlayerDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.controller,a=t.getSignal("common.stickAvatar");a&&a(),setTimeout(function(){var e=t.getSignal("common.openTourTip");e&&e({tourSteps:i.PremiumHomeTourSteps,cbSignalPath:"common.closePremiumHomeTour"})})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(8),s=a(73),l=["common","tourTips"],u=[].concat(l,["status"]);t.default={name:e,depends:[],signals:{openTourTip:[function(e){var t=e.props,a=e.state,n={open:!0,step:0,tourSteps:t.tourSteps,cbSignalPath:t.cbSignalPath};a.set(u,n)}],closeTourTip:[function(e){var t=e.state,a=e.controller,r=t.get([].concat(n(u),["cbSignalPath"])),o=a.getSignal(r);o&&o(),t.set(u,{open:!1})}],moveToTourTip:[function(e){var t=e.props;e.state.set([].concat(n(u),["step"]),t.step)}],setTourTip:[function(e){var t=e.props,a=e.state,n=a.get(u);a.set(u,o({},n,t))}],addTourTip:[function(e){var t=e.props;e.state.set([].concat(l,[t.id]),t)}],removeTourTip:[function(e){var t=e.props;e.state.unset([].concat(l,[t.id]))}],openPremiumHomeTour:[r],closePremiumHomeTour:[function(e){var t=e.state,a=e.controller.getSignal("common.unstickAvatar");a&&a(),(0,s.closePremiumTour)(t.get("loginUser"))}],tryOpenPremiumTour:[function(e){var t=e.state,a=e.path;if(!(0,s.checkPremiumTourStatus)(t.get("loginUser"))){var n=t.get("tour");if("t"===n)return a.tourTip();if("p"===n)return a.dialog()}return a.dummy()},{dialog:[function(e){var t=e.controller.getSignal("common.openPremiumTourDialog");t&&t()}],tourTip:[r],dummy:[]}]},getState:function(){return{tourTips:{status:{open:!0}}}}}}).call(t,"views/learn/modules/common/TourTipStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(47)),o=n(a(25));t.default={name:e,depends:[],signals:{createByType:[function(e){var t=e.props,a=t.type,n=t.skipPopup,i=void 0!==n&&n,s=t.query,l=void 0===s?[]:s,u="/"+a+"/0/new";l.length>0&&(u+="?"+l.join("&")),!0===i?(0,o.default)(u):(0,r.default)(u)}]},getState:function(){return{}}}}).call(t,"views/learn/modules/common/CreateStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(25)),o=a(9),i=n(a(18));t.default={name:e,depends:[],signals:{startPremiumLearning:[function(e){var t=e.state;(0,r.default)((0,i.default)((0,o.GetCoursePremiumPageUrl)(),t.get("currentHost")))}]},getServices:function(){},getState:function(){return{}}}}).call(t,"views/learn/modules/common/StartLearningStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return function(t){var a=t.props,n=t.state,r=a.selectedId,s=a.currentId;e=e||"";var l=n.get("missionData.customContents")||[],u=l.find(function(e){return e.id===r}),c=l.find(function(e){return e.id===s}),d=(0,o.get)(u,"title"),f=(0,o.get)(c,"title");n.set(i,{open:!0,currentSet:d,nextSet:f,signalPath:e,actionProps:a||{}})}}function r(e){e.state.set(i,{open:!1,signalPath:"",actionProps:{},currentSet:"",nextSet:""})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),i=["common","switchSetConfirmDialog"];t.default={name:e,depends:[],signals:{openSwitchConfirm:[n],closeSwitchConfirm:[r],doSwitch:[function(e){var t=e.state,a=e.controller,n=t.get(i),r=n.signalPath,o=n.actionProps,s=a.getSignal(r);s&&s(o)},r]},getServices:function(){return{}},getState:function(){return{switchSetConfirmDialog:{open:!1,signalPath:"",actionProps:{},currentSet:"",nextSet:""}}},Confirmed:function(e){return[n(e)]}}}).call(t,"views/learn/modules/common/SwitchSetConfirmDialog.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["upload.uploads"],["upload.uploads"]),_=s(["editor.subtitleDialog.open"],["editor.subtitleDialog.open"]),g=s(["editor.subtitle.content"],["editor.subtitle.content"]),v=s(["editor.subtitle.uploadId"],["editor.subtitle.uploadId"]),y=s(["option.supportedLanguages"],["option.supportedLanguages"]),b=s(["editor.subtitle.selectLanguage"],["editor.subtitle.selectLanguage"]),w=s(["editor.subtitle.subtitleLanguages"],["editor.subtitle.subtitleLanguages"]),E=s(["upload.uploadAttachment"],["upload.uploadAttachment"]),S=s(["upload.retryUploadAttachment"],["upload.retryUploadAttachment"]),O=s(["header.showMessage"],["header.showMessage"]),k=s(["editor.changeSubtitleLang"],["editor.changeSubtitleLang"]),T=s(["editor.closeSubtitleDialog"],["editor.closeSubtitleDialog"]),P=s(["editor.deleteSubtitleConfirm"],["editor.deleteSubtitleConfirm"]),C=s(["editor.syncCurrentSubtitleUploadId"],["editor.syncCurrentSubtitleUploadId"]),j=s(["editor.syncSubtitleLanguages"],["editor.syncSubtitleLanguages"]),I=s(["editor.syncSubtitleMap"],["editor.syncSubtitleMap"]),M=n(a(2)),N=n(a(0)),D=n(a(1)),x=a(6),R=a(4),F=a(5),A=n(a(32)),L=n(a(15)),K=n(a(46)),q=n(a(22)),z=a(98),U=a(20),B=a(9),H=n(a(3)),V=n(a(351)),G=n(a(7)),W=n(a(352)),Q=12582912,J=(l=(0,x.decorator)({uploads:(0,R.state)(h),open:(0,R.state)(_),content:(0,R.state)(g),currentSubtitleUploadId:(0,R.state)(v),supportedLanguages:(0,R.state)(y),selectLanguage:(0,R.state)(b),subtitleLanguages:(0,R.state)(w),uploadAttachment:(0,R.signal)(E),retryUploadAttachment:(0,R.signal)(S),showMessage:(0,R.signal)(O),changeSubtitleLang:(0,R.signal)(k),closeSubtitleDialog:(0,R.signal)(T),deleteSubtitleConfirm:(0,R.signal)(P),syncCurrentSubtitleUploadId:(0,R.signal)(C),syncSubtitleLanguages:(0,R.signal)(j),syncSubtitleMap:(0,R.signal)(I)}),u=(0,H.default)(V.default),c=(0,G.default)(W.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){n.props.closeSubtitleDialog()},n.onChangeSubtitleLang=function(e,t,a){(0,n.props.changeSubtitleLang)({selectLanguage:a})},n.onClickUpload=function(){n.refs.fileSelect.click()},n.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,a=void 0===t?[]:t,r=n.props,o=r.showMessage,i=r.content,s=r.uploadAttachment,l=r.selectLanguage,u=r.syncCurrentSubtitleUploadId,c=(0,F.get)(i,"id"),d=(0,z.getSubtitleFile)(a);d.contentId=c,d.language=l,d&&(d.file.size>Q?o({message:"MaxFileSize_12M"}):(s({upload:d}),u({uploadId:d.id}))),n.refs.fileSelect.value=null}},n.handleDelete=function(e){var t=n.props,a=t.content;(0,t.deleteSubtitleConfirm)({contentId:(0,F.get)(a,"id"),language:(0,F.get)(e,"language")})},i=a,o(n,i)}return i(t,D.default),m(t,[{key:"componentWillReceiveProps",value:function(e){e.currentSubtitleUploadId&&this.props.syncSubtitleMap()}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return N.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})}},{key:"renderFailed",value:function(e){var t=this;return N.default.createElement("div",{className:this.ss("loading-failed")},N.default.createElement("div",{className:this.ss("loading-text")},this.__("file_uploading_failed")),N.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},N.default.createElement("span",{className:this.ss("content")},N.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),N.default.createElement("span",{className:this.ss("text")},this.__("file_uploading_retry")))))}},{key:"renderUploadingSubtitle",value:function(e){var t=e.upload;if(!t)return null;var a=(0,F.get)(t,"id"),n=(0,F.get)(t,"filename"),r=(0,F.get)(t,"language"),o=(0,F.get)(t,"status");return N.default.createElement("div",{key:"video-subtitle-"+a,className:this.ss("subtitle-item-wrapper")},N.default.createElement("div",{className:this.ss("subtitle-item",!(0,U.isLoading)(o))},N.default.createElement("div",{className:this.ss("file-icon","ifont","ifont-icons_attachment2")}),N.default.createElement("div",{className:this.ss("content-body")},N.default.createElement("div",{className:this.ss("content-title")},N.default.createElement("div",{className:this.ss("language")},(0,B.GetLanguageText)(this.context,r)),N.default.createElement("div",{className:this.ss("dot")}),N.default.createElement("div",{className:this.ss("title")},n))),(0,U.isFailed)(o)&&this.renderFailed(t),(0,U.isLoading)(o)&&this.renderLoading(t)))}},{key:"renderSubtitle",value:function(e){var t=this,a=e.subtitle,n=(0,F.get)(a,"attachment.Filename"),r=(0,F.get)(a,"attachmentId"),o=(0,F.get)(a,"language");return N.default.createElement("div",{key:"video-subtitle-"+r,className:this.ss("subtitle-item-wrapper")},N.default.createElement("div",{className:this.ss("subtitle-item")},N.default.createElement("div",{className:this.ss("file-icon","ifont","ifont-icons_attachment2")}),N.default.createElement("div",{className:this.ss("content-body")},N.default.createElement("div",{className:this.ss("content-title")},N.default.createElement("div",{className:this.ss("language")},(0,B.GetLanguageText)(this.context,o)),N.default.createElement("div",{className:this.ss("dot")}),N.default.createElement("div",{className:this.ss("title")},n))),N.default.createElement("div",{className:this.ss("delete")},N.default.createElement("button",{className:this.ss("button"),onClick:function(){return t.handleDelete(a)}},N.default.createElement("div",{className:this.ss("icon ifont ifont-lrn-icon-delete")})))))}},{key:"renderSubtitleList",value:function(){var e=this,t=this.props,a=t.open,n=t.content,r=t.supportedLanguages,o=t.uploads,i=t.currentSubtitleUploadId;if(!a)return null;var s=(0,F.get)(n,"subtitleMap"),l=(r||[]).map(function(t){var a=(0,F.get)(s,t);if(!a){var n=(0,F.get)(o,i);return n&&n.language===t?e.renderUploadingSubtitle({upload:n}):null}return e.renderSubtitle({subtitle:a})}).filter(function(e){return null!==e});return N.default.createElement("div",{className:this.ss("subtitle-list")},l)}},{key:"renderUpload",value:function(){var e=this,t=this.props,a=t.subtitleLanguages,n=t.selectLanguage;if(0===(a||[]).length)return null;var r=a.map(function(t){return{text:(0,B.GetLanguageText)(e.context,t),value:t}});return N.default.createElement("div",{className:this.ss("upload-wrapper")},N.default.createElement("div",{className:this.ss("subtitle-lang")},N.default.createElement(K.default,{theme:"gray",value:n,selects:r,onChange:this.onChangeSubtitleLang})),N.default.createElement("div",{className:this.ss("subtitle-upload")},N.default.createElement(q.default,{text:this.__("upload_subtitle_tooltip"),position:"bottom"},N.default.createElement("button",{className:this.ss("button","upload"),onClick:this.onClickUpload},N.default.createElement("div",{className:this.ss("ifont","ifont-icons-upload","icon")}),N.default.createElement("input",{type:"file",ref:"fileSelect",multiple:!1,className:this.ss("hide"),onChange:this.onFilesChange})))))}},{key:"render",value:function(){var e=this.props.open;return N.default.createElement(A.default,{open:e,noScroller:!1,position:"center",onCloseModal:this.onClose},N.default.createElement("div",{className:this.ss("subtitle-wrapper")},N.default.createElement("div",{className:this.ss("head")},N.default.createElement("div",{className:this.ss("title")},this.__("title_add_subtitle")),N.default.createElement("div",{className:this.ss("des")},this.__("title_des")),N.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},N.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),this.renderUpload(),this.renderSubtitleList(),N.default.createElement("div",{className:this.ss("foot")},N.default.createElement("div",{className:this.ss("button")},N.default.createElement(L.default,{label:this.__("button_close"),onClick:this.onClose})))))}}]),t}(),f.propTypes={open:M.default.bool,content:M.default.object,uploads:M.default.object,supportedLanguages:M.default.array,selectLanguage:M.default.string,subtitleLanguages:M.default.array,uploadAttachment:M.default.func,retryUploadAttachment:M.default.func,showMessage:M.default.func,changeSubtitleLang:M.default.func,closeSubtitleDialog:M.default.func,currentSubtitleUploadId:M.default.string,deleteSubtitleConfirm:M.default.func,syncCurrentSubtitleUploadId:M.default.func,syncSubtitleLanguages:M.default.func,syncSubtitleMap:M.default.func},d=p))||d)||d)||d);t.default=J},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(120)),y=n(a(34)),b=n(a(3)),w=n(a(300)),E=(0,v.default)({single:null,multiple:null}),S=(u=(0,b.default)(w.default))((f=d=function(e){function t(){var e,a,n,r;i(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={valueList:n.getInitValueList(),hide:!1},r=a,s(n,r)}return l(t,g.default),m(t,[{key:"componentWillReceiveProps",value:function(e){this.checkToSyncInputValue(e)}},{key:"onInnerClear",value:function(){this.refs.input&&this.refs.input.onClearInput()}},{key:"onClear",value:function(e){this.props.onClear&&this.props.onClear(e)}},{key:"onSave",value:function(e){var t=this.state.valueList,a=this.props.valueList||t,n=[].concat(o(a));e&&e.trim()&&n.findIndex(function(t){return t===e})<0&&(n.push(e),this.setState({valueList:n}),this.props.onSave&&this.props.onSave(e)),this.onInnerClear()}},{key:"onRemove",value:function(e,t){e&&e.preventDefault();var a=this.state.valueList,n=this.props.valueList||a;if(n.length>0&&t>=0&&t<n.length){var r=[].concat(o(n)),i=r.splice(t,1);this.setState({valueList:r}),this.props.onRemove&&this.props.onRemove(i&&i[0],t)}}},{key:"getInitValueList",value:function(){var e=[],t=this.props.inputValue;return Array.isArray(t)?e.push.apply(e,o(t)):t&&e.push(t),e}},{key:"setFocus",value:function(e){this.refs.input&&this.refs.input.setFocus(e)}},{key:"checkToSyncInputValue",value:function(e){var t=e.valueList,a=this.props.valueList;(t&&t.length||0)!==(a&&a.length||0)&&this.onInnerClear()}},{key:"renderValueList",value:function(e){var t=this,a=this.props,n=a.loading,r=a.inputType,o=(a.unremovableTags||[]).map(function(e){return e.name}),i=_.default.createElement("div",{className:this.ss("loading-wrap")},_.default.createElement("div",{className:this.ss("loading")}));return e.map(function(e,a){var s=!1;return o&&o.length>0&&(s=o.indexOf(e)>-1),_.default.createElement("div",{key:"v"+a,className:t.ss("value-gray")},_.default.createElement("div",{className:t.ss("name")},e),!s&&!n&&_.default.createElement("div",{className:t.ss("delete"),onClick:function(e){return t.onRemove(e,a)}},_.default.createElement("div",{className:t.ss("close-icon","ifont","ifont-icon-close2")})),r===E.single&&n&&i)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.hintText,n=t.inputType,o=t.inputValue,i=t.valueList,s=t.hideResult,l=(t.onRemove,t.inputTheme),u=t.resultTheme,c=(t.unremovableTags,t.loading,r(t,["hintText","inputType","inputValue","valueList","hideResult","onRemove","inputTheme","resultTheme","unremovableTags","loading"])),d=this.state.valueList,f=i||d,m=[];if(!1===s)switch(n){case E.single:1===f.length&&(m=_.default.createElement("div",{key:n,className:this.ss("value-wrap","single",u)},this.renderValueList(f)));break;case E.multiple:f.length>0&&m.push(_.default.createElement("div",{key:n,className:this.ss("value-wrap",u)},this.renderValueList(f)))}return Array.isArray(m)&&m.push(_.default.createElement(y.default,p({},c,{ref:"input",key:"input",theme:l,placeholder:a,value:o,onSave:function(t){return e.onSave(t)},onClear:function(t){return e.onClear(t)}}))),_.default.createElement("div",{className:this.ss("text-field")},m)}}]),t}(),d.propTypes={onSave:h.default.func,onRemove:h.default.func,onClear:h.default.func,autoFocus:h.default.bool,hintText:h.default.string,inputTheme:h.default.string,type:h.default.string,inputType:h.default.oneOf([E.single,E.multiple]),inputValue:h.default.oneOfType([h.default.string,h.default.number,h.default.array]),valueList:h.default.array,hideResult:h.default.bool,resultTheme:h.default.oneOf(["default","full-primary"]),unremovableTags:h.default.arrayOf(h.default.shape({name:h.default.string})),loading:h.default.bool},d.defaultProps={inputType:E.single,autoFocus:!1,hideResult:!1,resultTheme:"default"},c=f))||c;t.default=S},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["quizData"],["quizData"]),_=s(["learner.quizMap"],["learner.quizMap"]),g=n(a(2)),v=n(a(1)),y=a(6),b=a(4),w=a(5),E=a(9),S=n(a(3)),O=n(a(310)),k=n(a(7)),T=n(a(125)),P=n(a(0)),C=(l=(0,y.decorator)({quizData:(0,b.state)(h),quizMap:(0,b.state)(_)}),u=(0,S.default)(O.default),c=(0,k.default)(T.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,v.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.quizData,a=e.quizMap,n=(0,w.get)(t,"id"),r=(0,w.get)(a,n+".leftFreezingSeconds"),o=(0,E.ParseSecond)(r),i=o.hour,s=o.minute,l=o.second,u=i>0,c=s>0,d=l>0;return P.default.createElement("div",{className:this.ss("label-wrapper",!u&&"hide-hour")},u&&P.default.createElement("div",{className:this.ss("item","hour")},this.__("hours",{hour:i})),c&&P.default.createElement("div",{className:this.ss("item","minute")},this.__("minutes",{minute:s})),!u&&!c&&d&&P.default.createElement("div",{className:this.ss("item","second")},this.__("seconds",{second:l})))}}]),t}(),f.propTypes={quizData:g.default.object,quizMap:g.default.object},d=p))||d)||d)||d);t.default=C},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(11)).default];t.default={httpAPI:n}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ShareDialogInternal=t.ShareSubmissionDialog=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=s(["learner.parentIds"],["learner.parentIds"]),C=s(["userPremium"],["userPremium"]),j=s(["common.shareDialog.show"],["common.shareDialog.show"]),I=s(["currentHost"],["currentHost"]),M=s(["currentUrl"],["currentUrl"]),N=s(["common.closeShareDialog"],["common.closeShareDialog"]),D=s(["common.copyLink"],["common.copyLink"]),x=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),R=s(["common.shareSubmissionDialog.show"],["common.shareSubmissionDialog.show"]),F=s(["common.shareSubmissionDialog.data"],["common.shareSubmissionDialog.data"]),A=s(["common.closeShareSubmissionDialog"],["common.closeShareSubmissionDialog"]),L=s(["common.copySubmissionLink"],["common.copySubmissionLink"]),K=n(a(2)),q=n(a(0)),z=n(a(19)),U=n(a(1)),B=a(4),H=a(5),V=a(6),G=n(a(32)),W=n(a(15)),Q=n(a(16)),J=a(8),Y=n(a(3)),Z=n(a(437)),X=n(a(7)),$=n(a(438)),ee=(l=(0,V.decorator)({parentIds:(0,B.state)(P),userPremium:(0,B.state)(C),show:(0,B.state)(j),currentHost:(0,B.state)(I),currentUrl:(0,B.state)(M),closeShareDialog:(0,B.signal)(N),copyLink:(0,B.signal)(D),sendCDPRequest:(0,B.signal)(x)}),u=(0,Y.default)(Z.default),c=(0,X.default)($.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,U.default),T(t,[{key:"render",value:function(){return q.default.createElement(te,this.props)}}]),t}(),f.propTypes={parentIds:K.default.object,userPremium:K.default.bool,show:K.default.bool,data:K.default.object,currentHost:K.default.string,currentUrl:K.default.string,closeShareDialog:K.default.func,onClose:K.default.func,copyLink:K.default.func,sendCDPRequest:K.default.func},d=p))||d)||d)||d);t.default=ee;t.ShareSubmissionDialog=(m=(0,V.decorator)({parentIds:(0,B.state)(P),userPremium:(0,B.state)(C),currentHost:(0,B.state)(I),show:(0,B.state)(R),data:(0,B.state)(F),closeShareDialog:(0,B.signal)(A),copyLink:(0,B.signal)(L),sendCDPRequest:(0,B.signal)(x)}),h=(0,Y.default)(Z.default),_=(0,X.default)($.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getSubmissionUrl=function(){var e=n.props.data;return"/"+(0,H.get)(e,"type")+"/"+(0,H.get)(e,"slug")},i=a,o(n,i)}return i(t,U.default),T(t,[{key:"render",value:function(){var e=this.props.data,t=(0,H.get)(e,"type");if(!e||t!==J.DataTypeKeys.submission)return null;var a=this.getSubmissionUrl();return q.default.createElement(te,k({},this.props,{currentUrl:a}))}}]),t}(),v.propTypes={parentIds:K.default.object,userPremium:K.default.bool,show:K.default.bool,data:K.default.object,currentHost:K.default.string,closeShareDialog:K.default.func,copyLink:K.default.func,sendCDPRequest:K.default.func},g=y))||g)||g)||g);var te=t.ShareDialogInternal=(b=(0,Y.default)(Z.default),w=(0,X.default)($.default),b(E=w((O=S=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onClose=function(){n.props.closeShareDialog&&n.props.closeShareDialog()},i=a,o(n,i)}return i(t,U.default),T(t,[{key:"onMenuClick",value:function(e,t){var a=this.props,n=a.userPremium,r=a.parentIds,o=void 0===r?{}:r,i=(0,H.get)(this.props.data,"id"),s=(0,H.get)(this.props.data,"type"),l=k({},o,{id:i,type:s,shareType:e,userPremium:n});this.props.sendCDPRequest({type:J.CDPLearnType.share,eventType:J.EventType.learn,data:l,redirectUrl:t,popup:!0})}},{key:"copyLink",value:function(e){var t=this.props.copyLink;if(t({content:e}),this.refs.inputLink){var a=z.default.findDOMNode(this.refs.inputLink);a&&(a.focus(),a.setSelectionRange(0,e.length))}}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.data,r=t.currentHost,o=t.currentUrl,i=n||{},s=i.title,l=i.type,u=(0,H.get)(n,"thumbnail.url"),c="https://"+r+o,d=encodeURIComponent(c),f="https://www.facebook.com/sharer/sharer.php?u="+d,p="https://twitter.com/intent/tweet?text="+this.__("share_twitter_text",{title:s,url:d})+"&source=webclient",m="https://plus.google.com/share?url="+d,h="mailto:?subject="+this.__("share_subject",{title:s})+"&body="+this.__("share_body",{title:s,url:d});return q.default.createElement("div",{className:this.ss("body")},q.default.createElement("div",{className:this.ss("share-title")},this.__("share_title")),q.default.createElement("div",{className:this.ss("share-content")},q.default.createElement("div",{className:this.ss("img-wrap")},q.default.createElement(Q.default,{src:u,sizes:"150px",width:150,height:85})),q.default.createElement("div",{className:this.ss("content-text")},q.default.createElement("div",null,this.__("type_"+l)),q.default.createElement("div",{className:this.ss("dot")}),q.default.createElement("div",{className:this.ss("text-title")},s))),q.default.createElement("div",{className:this.ss("share-items")},q.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMenuClick(J.ShareTypes.facebook,f)}},q.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:a(439)})),q.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMenuClick(J.ShareTypes.twitter,p)}},q.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:a(440)})),q.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMenuClick(J.ShareTypes.googlePlus,m)}},q.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:a(441)})),q.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMenuClick(J.ShareTypes.email,h)}},q.default.createElement("div",{className:this.ss("ifont","ifont-udp-email","item-icon")}))),q.default.createElement("div",{className:this.ss("share-url")},q.default.createElement("div",{className:this.ss("input-wrap")},q.default.createElement("input",{ref:"inputLink",value:c,className:this.ss("input-link"),type:"text",readOnly:"readonly"})),q.default.createElement("div",{className:this.ss("btn-wrap")},q.default.createElement(W.default,{size:"small",theme:"transparent",label:this.__("copy_url"),widthStyle:"full",onClick:function(){return e.copyLink(c)}}))))}},{key:"renderFoot",value:function(){var e=[];return e.push(q.default.createElement("div",{key:"cancel",className:this.ss("button")},q.default.createElement(W.default,{size:"small",widthStyle:"full",label:this.__("button_cancel"),onClick:this.onClose}))),q.default.createElement("div",{className:this.ss("foot")},e)}},{key:"render",value:function(){var e=this.props.show;return q.default.createElement(G.default,{open:e,position:"center",onCloseModal:this.onClose},q.default.createElement("div",{className:this.ss("content")},this.renderBody(),this.renderFoot()))}}]),t}(),S.propTypes={parentIds:K.default.object,userPremium:K.default.bool,show:K.default.bool,data:K.default.object,currentHost:K.default.string,currentUrl:K.default.string,closeShareDialog:K.default.func,onClose:K.default.func,copyLink:K.default.func,sendCDPRequest:K.default.func},E=O))||E)||E)},function(e,t){e.exports={"drag-drop-wrapper":"drag-drop-wrapper_2ezchGWk",handle:"handle_16sNUfnI","tutorial-step":"tutorial-step_3E6_oFqA","drag-handle-wrapper":"drag-handle-wrapper_1QoNPLFN",right:"right_3acu-JRY",line:"line_civ3Vbl5",top:"top_1ZpBl4Ek","transfer-img":"transfer-img_MFsUcPSU",selected:"selected_1hEXKg5L",up:"up_NUx6DXp6",down:"down_9AZEfPwB"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(458)),y=n(a(294)),b=n(a(28)),w=a(45),E=n(a(3)),S=n(a(301)),O=n(a(7)),k=n(a(302)),T=(l=(0,E.default)(S.default),u=(0,O.default)(k.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={candidateIndex:n.props.defaultIndex,isActive:!1},n.onRemoveCandidate=function(e,t){var a=n.props,r=a.selectedIds,o=a.idToCandidateMap,i=o[r[t]];if(n.props.onRemove&&n.props.onRemove(i),n.props.onSaveToMap&&n.props.onRemoveFromMap)n.props.onRemoveFromMap(i);else{var s=i.id;if(s&&o[s]){delete o[s];var l=r.findIndex(function(e){return e===s});l<0&&r.splice(l,1)}n.setState({selectedIds:r,idToCandidateMap:o})}},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.defaultIndex,a=e.defaultIndex;t!==a&&this.setState({candidateIndex:a})}},{key:"onSave",value:function(e){if(e){var t=this.getCandidate();t&&this.onAddCandidate(t)}}},{key:"onFocus",value:function(){this.props.onFocus&&this.props.onFocus(),this.setState({isActive:!0})}},{key:"onBlur",value:function(e){(0,w.isTouch)()||(this.props.onBlur&&this.props.onBlur(e),this.onClear(),this.setState({isActive:!1}))}},{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e),e&&e.trim()?this.props.onFetchCandidate&&this.props.onFetchCandidate(e):this.props.onClearCandidate&&this.props.onClearCandidate()}},{key:"onKeyDown",value:function(e){var t=e.keyCode,a=this.getFullCandidates(),n=this.state.candidateIndex,r=a.length;switch(this.props.onKeyDown&&this.props.onKeyDown(e),t){case 40:e.preventDefault(),this.setState({candidateIndex:(n+1)%r});break;case 38:e.preventDefault(),this.setState({candidateIndex:(n+r-1)%r})}}},{key:"onInnerClear",value:function(){this.refs.textField&&this.refs.textField.onInnerClear()}},{key:"onClear",value:function(e){e&&e.preventDefault(),this.onInnerClear(),this.setState({candidateIndex:this.props.defaultIndex}),this.props.onClearCandidate&&this.props.onClearCandidate()}},{key:"onAddCandidate",value:function(e,t){if(t&&t.preventDefault(),this.props.onSelected&&this.props.onSelected(e),this.props.onRemoveFromMap&&this.props.onSaveToMap)this.props.onSaveToMap(e);else{var a=e.id,n=this.props,r=n.selectedIds,o=n.idToCandidateMap;a&&!o[a]&&(o[a]=e,r.push(a)),this.setState({selectedIds:r,idToCandidateMap:o})}this.onClear()}},{key:"getFullCandidates",value:function(){var e=this.props.candidates;return void 0===e?[]:e}},{key:"getSelectedValues",value:function(){var e=this.props,t=e.selectedIds,a=e.idToCandidateMap,n=[];return t&&t.length>0&&t.forEach(function(e){e&&a&&a[e]&&n.push(a[e].name)}),n}},{key:"getCandidate",value:function(){var e=this.getFullCandidates(),t=this.state.candidateIndex,a=e.length,n=null;return t>=0&&t<a&&(n=e[t]),n}},{key:"setFocus",value:function(e){this.refs.textField.setFocus(e)}},{key:"renderCandidates",value:function(){var e=this,t=this.getFullCandidates(),a=this.props,n=a.onRenderCandidate,r=a.tagType;return t.map(function(t,a){var o=t.text,i=t.type,s=t.name,l=function(){e.setState({candidateIndex:a})},u=function(){e.setState({candidateIndex:e.props.defaultIndex})},c=void 0;return n?c=n(t):"q"===i?"tag"===r&&(c=_.default.createElement("li",null,e.__("create_new_tag",{name:s}))):c=_.default.createElement("li",null,(0,v.default)(o)),c?a===e.state.candidateIndex?_.default.cloneElement(c,{className:e.ss("active"),key:""+a,onMouseEnter:l,onMouseLeave:u,onMouseDown:function(a){return e.onAddCandidate(t,a)}}):_.default.cloneElement(c,{key:""+a,onMouseEnter:l,onMouseLeave:u}):null})}},{key:"renderCandidatesWrap",value:function(){var e=this.props,t=e.maxCandidatesCount,a=e.maxCandidatesHeight,n=void 0,r=this.renderCandidates();n=0!==r.length?this.ss("candidates","expand"):this.ss("candidates");var o={};return t&&a&&r.length>t&&(o.height=a),_.default.createElement("ul",{className:n},_.default.createElement(b.default,null,_.default.createElement("div",{style:o},r)))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.maxCandidatesCount,t.maxCandidatesHeight,t.onRenderCandidate,t.onSelected,t.onFetchCandidate,t.onClearCandidate,t.onSaveToMap,t.onRemoveFromMap,t.selectedIds,t.idToCandidateMap,t.candidates,t.defaultIndex,t.theme),n=(t.tagType,r(t,["maxCandidatesCount","maxCandidatesHeight","onRenderCandidate","onSelected","onFetchCandidate","onClearCandidate","onSaveToMap","onRemoveFromMap","selectedIds","idToCandidateMap","candidates","defaultIndex","theme","tagType"])),o=(this.state.isActive,this.getSelectedValues());return _.default.createElement("div",{className:this.ss("text-auto",a&&"theme-"+a)},_.default.createElement(y.default,p({},n,{ref:"textField",valueList:o,onChange:function(t,a){return e.onChange(a)},onBlur:function(t){return e.onBlur(t)},onClear:function(t){return e.onClear(t)},onKeyDown:function(t){return e.onKeyDown(t)},onSave:function(t){return e.onSave(t)},onFocus:function(){return e.onFocus()},onRemove:this.onRemoveCandidate})),this.renderCandidatesWrap())}}]),t}(),d.propTypes={candidates:h.default.arrayOf(h.default.shape({value:h.default.oneOfType([h.default.string,h.default.number]),text:h.default.string,name:h.default.string})),defaultIndex:h.default.number,maxCandidatesCount:h.default.number,maxCandidatesHeight:h.default.number,selectedIds:h.default.array,idToCandidateMap:h.default.object,tagType:h.default.oneOf(["skill","tag","category"]),onSelected:h.default.func,onRemove:h.default.func,onBlur:h.default.func,onFocus:h.default.func,onChange:h.default.func,onFetchCandidate:h.default.func,onClearCandidate:h.default.func,onSaveToMap:h.default.func,onRemoveFromMap:h.default.func,onRenderCandidate:h.default.func,onKeyDown:h.default.func,theme:h.default.oneOf(["small","normal"])},d.defaultProps={defaultIndex:0,tagType:"skill"},c=f))||c)||c);t.default=T},function(e,t){e.exports={"text-field":"text-field_2mr3IPJl","value-wrap":"value-wrap_3X_Nz5eH",single:"single_1sAQKaqh",value:"value_WFxssWza","full-primary":"full-primary_PYgZyGLm","value-gray":"value-gray_1X-b4H33",name:"name_1mI9AYHJ",delete:"delete_3mtWJhLn","close-icon":"close-icon_18PNG2-S",loading:"loading_2BIUQrdA","loading-wrap":"loading-wrap_32LiyK9S"}},function(e,t){e.exports={"text-auto":"text-auto_1VsFCzy2",candidates:"candidates_XNDsUfey",active:"active_1RKAgmsH",expand:"expand_35FT8Tg6","theme-normal":"theme-normal_3XqEAWun",hide:"hide_11LcVx7f"}},function(e,t){e.exports={create_new_tag:"create_new_tag_1Q-6"}},function(e,t){e.exports={candidate:"candidate_AloyQG0o","candidate-info":"candidate-info_3ujN2VB0",name:"name_1YHzFUwP",split:"split_2hINiM05",description:"description_3cXSGbgc","learn-info":"learn-info_1C7OzTij",title:"title_1uW6u89a","architecture-auto-complete-wrapper":"architecture-auto-complete-wrapper_18vSm39j","architecture-auto-complete":"architecture-auto-complete_2wkUmfzo","architecture-item-info":"architecture-item-info_2q3jS6it","internal-id":"internal-id_1PvZ9LN5",result:"result_3_YauBk1","item-row-wrapper":"item-row-wrapper_2YZA2vCj","item-row":"item-row_3JL2Xd48",content:"content_3noH6Jfc","info-item":"info-item_1WWWorSA",dot:"dot_9sVbDtqr","item-buttons":"item-buttons_qjvywzxn",button:"button_2CZcaixy",edit:"edit_18EOw8-g"}},function(e,t){e.exports={button_edit:"button_edit_1Xdh",button_delete:"button_delete_ko2C",search_for_skills:"search_for_skills_8Wka",skill_internalID:"skill_internalID_3TYU"}},function(e,t){e.exports={"breadcrumb-tip-content-wrap":"breadcrumb-tip-content-wrap_2cSQIvfv","breadcrumb-item":"breadcrumb-item_2bRadV00","content-last":"content-last_2a7TEuFx",title:"title_YTc0aYN_","level-0":"level-0_xOBrDoEq","level-1":"level-1_kHSjLUB6","line-horizontal":"line-horizontal_16RFye4G","level-2":"level-2_1yPxF6G1",content:"content_3R1gtHcU","content-link":"content-link_2u4dW4yR","breadcrumb-item-content":"breadcrumb-item-content_QGFnuj1w",line:"line_1ADw7BfX","line-vertical":"line-vertical_3n4nbQYo","line-top":"line-top_1azTeACg","line-bottom":"line-bottom_19Z5fipc","sticker-head":"sticker-head_2Qr1t-pc"}},function(e,t){e.exports={"collect-button":"collect-button_z4JKaZWe","theme-no-tip":"theme-no-tip_1GxGFGcF","theme-label":"theme-label_35PzrDir",icon:"icon_1EW7QQhn",collected:"collected_3CEvdFqd","size-large":"size-large_1V_yRo1D","collect-count":"collect-count_1hmc-LRm"}},function(e,t){e.exports={button_collect:"button_collect_2o1M"}},function(e,t){e.exports={"record-button":"record-button_1fjRHbDd",hint:"hint_1FYVvd3V","progress-info":"progress-info_xzdl0ir8"}},function(e,t){e.exports={button_start_tutorial:"button_start_tutorial_2NQF",button_start_project:"button_start_project_2UFY",button_start_course:"button_start_course_2-L4",button_continue:"button_continue_19wy",button_resume_tutorial:"button_resume_tutorial_QLAI",button_resume_project:"button_resume_project_FTtm",button_resume_course:"button_resume_course_2KK5",button_restart:"button_restart_39bM",hint_completed_tutorial:"hint_completed_tutorial_reGg",hint_completed_project:"hint_completed_project_1V_S",hint_completed_course:"hint_completed_course_1oqP",time_format:"time_format_2NDY",progress_info_tutorial:"progress_info_tutorial_ESwX",progress_info_project:"progress_info_project_RM1i",progress_info_course:"progress_info_course_FtD8"}},function(e,t){e.exports={"label-wrapper":"label-wrapper_2-i0mDq0","hide-hour":"hide-hour_1XDP8ZVP",minute:"minute_1TPWERBw",item:"item_2ZTR6dTo"}},function(e,t){e.exports={"record-button":"record-button_2UNC6q9-","record-item":"record-item_a7ppH6I4",tip:"tip_2AQp0BF1","retake-tip":"retake-tip_2AW7BKma","sticker-head":"sticker-head_KRn7cNws","retake-quiz-tip":"retake-quiz-tip_3ps127bO","submitted-hold":"submitted-hold_3WblEUcR","retake-button":"retake-button_2PnSZ6kd",tooltip:"tooltip_oI18MuUq"}},function(e,t){e.exports={center:"center_21qQXnVT","sticker-head-wrap":"sticker-head-wrap_19ZBEyoY","sticker-head":"sticker-head_3ZmmLkMC",breadcrumb:"breadcrumb_Wedf2ehI","sticker-head-body":"sticker-head-body_zrnJV7LP","breadcrumb-tip":"breadcrumb-tip_3CrOosP-","thumbnail-wrap":"thumbnail-wrap_1PDReFEj","button-group":"button-group_2uJs1jM-","breadcrumb-tip-content":"breadcrumb-tip-content_LsK6p8zg",icon:"icon_290z8nmj",fold:"fold_3z4Ymt5D","button-comment":"button-comment_-HL8u_Zi","comment-icon":"comment-icon_3GUkwV4k","button-share":"button-share_3c-zNBho","share-icon":"share-icon_o2cvURAQ",thumbnail:"thumbnail_CIlFHtu_","content-wrap":"content-wrap_2p64oHuD","root-link":"root-link_37oaO07Y","root-wrap":"root-wrap_2NTEuqk2",dot:"dot_Bkz22NGb","title-wrap":"title-wrap_253wJPTK",title:"title_2tkU0zPR","progress-bar":"progress-bar_1iipjNZT",dots:"dots_1V-wws-I",bars:"bars_36p-QJLX",bar:"bar_3KSH3l-G","outline-wrap":"outline-wrap_1T7nA-rg","outline-middle":"outline-middle_y58r-LVk","outline-title":"outline-title_XS-_L7ng","outline-items":"outline-items_1c-_oxHM",text:"text_2_r3alnw",active:"active_G8uUbhXJ","item-wrap":"item-wrap_39shHjpm","item-link":"item-link_f99k-kbM","item-title-wrap":"item-title-wrap_2XPM1_iY",item:"item_eF9wYLGW","item-title":"item-title_35rPmmn9","item-index":"item-index_uYf0-UTD",primary:"primary_2Kqh98Dr",secondary:"secondary_2yvU0Q1X","button-overview":"button-overview_2nKlcpqi","breadcrumb-tree":"breadcrumb-tree_3I7Ifsty","breadcrumb-tree-content":"breadcrumb-tree-content_rEwcrYN_","close-banner":"close-banner_1yxLz9fb","close-icon":"close-icon_wzaG7Eei","top-cover":"top-cover_2dwFle2P","bottom-cover":"bottom-cover_307e1HyI","overview-hidden":"overview-hidden_29_0duby",status:"status_11SnQd_T","dot-wrap":"dot-wrap_3ls6hv6j","dot-label":"dot-label_25EP3OKS","complete-icon":"complete-icon_1GE6P1Vu",completed:"completed_2lMGH6Xv","vertical-line":"vertical-line_1qbCOa5L","status-bg-up":"status-bg-up_2uXBCJRQ","status-bg-down":"status-bg-down_2Ar2wkQ7"}},function(e,t){e.exports={type_tutorial:"type_tutorial_39oX",type_project:"type_project_1IoE",type_course:"type_course_3agg",type_quiz:"type_quiz_Yu1w",button_start_tutorial:"button_start_tutorial_2EJp",button_start_project:"button_start_project_3n8I",button_start_course:"button_start_course_2VDa",button_show_tutorial:"button_show_tutorial_XSfp",button_show_project:"button_show_project_onpV",button_show_course:"button_show_course_2e_Z",button_hide_tutorial:"button_hide_tutorial_1fLt",button_hide_project:"button_hide_project_LDS0",button_hide_course:"button_hide_course_2brj",continue:"continue_N7Ef",start_here:"start_here_1cTC",start_again:"start_again_gEqK"}},function(e,t){e.exports={"project-wrapper":"project-wrapper_1mK4gpTB","premium-wrapper":"premium-wrapper_8_ptjDDt","complete-icon":"complete-icon_cclAQjNg",dark:"dark_1tcuTn5L","project-card":"project-card_2IEmEE2X","card-content":"card-content_3JsrtkXA","content-des":"content-des_2-cyLOtP",title:"title_Uoy-a_j9","card-link":"card-link_4dUBG1zb","card-img":"card-img_32ZoEDpg","collect-wrap":"collect-wrap_POxbTjKu",info:"info_dtlMneWO",author:"author_3Z_-Du5E","study-method-wrapper":"study-method-wrapper_2JprRRHR",dot:"dot_1mTwnbX2"}},function(e,t){e.exports={premium:"premium_1g2L"}},function(e,t){e.exports={"tutorial-wrapper":"tutorial-wrapper_38rBM9rp","eyebrow-wrapper":"eyebrow-wrapper_3KhTbYvM","complete-icon":"complete-icon_J7vTQ7a0",medium:"medium_1Hn0nUAT","card-content":"card-content_3j0dLJzR","content-des":"content-des_11lPGe5Z",title:"title_3s1qsBpS",dark:"dark_KbSZpPGb","tutorial-card":"tutorial-card_1cu2ihe1","card-link":"card-link_1svLTTsr","card-img":"card-img_GJgJ8KMH","collect-wrap":"collect-wrap_36sX4unn",info:"info_2tc_y7rY",author:"author_1-ANhwgf",parent:"parent_1PcbPtVj","part-of":"part-of_Do_utNMQ","parent-link":"parent-link_2qMZqXhs","link-text":"link-text_1Lr8MKic",hidden:"hidden_1-8k7TNy"}},function(e,t){e.exports={part_of:"part_of_1hfN"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["common.loginTo"],["common.loginTo"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(6),w=a(4),E=n(a(15)),S=n(a(3)),O=n(a(397)),k=n(a(7)),T=n(a(398)),P=(l=(0,b.decorator)({loginUser:(0,w.state)(h),loginTo:(0,w.signal)(_)}),u=(0,S.default)(O.default),c=(0,k.default)(T.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleLoginTo=function(){n.props.loginTo()},i=a,o(n,i)}return i(t,y.default),m(t,[{key:"render",value:function(){return this.props.loginUser?null:v.default.createElement("div",{className:this.ss("banner-wrapper")},v.default.createElement("div",{className:this.ss("banner-container")},v.default.createElement("div",{className:this.ss("text")},this.__("banner_text"),v.default.createElement("a",{className:this.ss("mobile","link"),onClick:this.handleLoginTo},this.__("sign_button_text"))),v.default.createElement("div",{className:this.ss("pc")},v.default.createElement(E.default,{label:this.__("sign_button_text"),theme:"white",onClick:this.handleLoginTo}))))}}]),t}(),f.propTypes={loginUser:g.default.object,loginTo:g.default.func},d=p))||d)||d)||d);t.default=P},function(e,t){e.exports={container:"container_1JtbqTM5",area:"area_29bxCL4i",disable:"disable_grZfB0uJ",check:"check_1B4WxH09",inner:"inner_1HcymOtv",checked:"checked_3IxCKko2",label:"label_2KG4biOt",reverse:"reverse_sHliWj7F"}},,,,function(e,t,a){e.exports=a(14)(486)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(325)),o=n(a(326)),i=[r.default,o.default];t.default={footer:i}},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(["footer.height"],["footer.height"]),o=n(["height"],["height"]),i=a(29),s=a(4);t.default={name:e,depends:[],signals:{setHeight:[(0,i.set)((0,s.state)(r),(0,s.props)(o))]},getState:function(){return{height:0}}}}).call(t,"views/v2/modules/footer/FooterStore.js")},function(e,t,a){"use strict";(function(e){function a(){var e=window&&window.location&&window.location.href;n.test(e)?window.location.href=e.replace(n,""):window.location.reload()}Object.defineProperty(t,"__esModule",{value:!0});var n=/language=[a-zA-Z]{2,}/i;t.default={name:e,depends:[],signals:{languageChange:[[function(e){var t=e.props,a=e.state,r=e.path,o=e.http,i=t.locale;if(i===a.get("locale")){var s=window&&window.location&&window.location.href;if(!n.test(s))return r.dummy()}return o.post("/api/changeLanguage",{locale:i}).then(r.success).catch(r.error)},{success:[a],error:[],dummy:[]}]],regionChange:[[function(e){var t=e.props,a=e.path,n=e.http,r=t.regionRefId;return n.post("/api/changePreferredRegion",{regionRefId:r}).then(a.success).catch(a.error)},{success:[a],error:[]}]],switchLangStatus:[function(e){var t=e.state,a=e.props;t.set("footer.langStatus",a.open)}],switchRegionStatus:[function(e){var t=e.state,a=e.props;t.set("footer.regionStatus",a.open)}]},getState:function(){return{langStatus:!1,regionStatus:!1}}}}).call(t,"views/v2/modules/footer/LanguageChooseStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["draft.setEditorState"],["draft.setEditorState"]),y=n(a(0)),b=n(a(2)),w=n(a(1)),E=n(a(19)),S=a(6),O=a(4),k=a(10),T=n(a(3)),P=n(a(129)),C=n(a(162)),j=n(a(163)),I=n(a(164)),M=n(a(165)),N=n(a(166)),D=n(a(167)),x=n(a(123)),R=n(a(370)),F=(l=(0,S.decorator)({editorState:(0,O.state)(_,(0,O.props)(g)),setEditorState:(0,O.signal)(v)}),u=(0,T.default)(P.default),l(c=u((f=d=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));p.call(n);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,theme:e.theme,registerActionPath:e.registerActionPath};return n.blockBreakoutPlugin=(0,j.default)(i),n.richTextPlugin=(0,C.default)(i),n.navigationPlugin=(0,x.default)(i),n.inlineToolbarPlugin=(0,I.default)(i),n.mentionToolbarPlugin=(0,N.default)(i),n.mentionLearnToolbarPlugin=(0,D.default)(i),n.sideToolbarPlugin=(0,M.default)(m({},i,{allowImage:!1,allowVideo:!1,allowAttachment:!1,allowHtml:!1,allowTip:!1})),n.autoSavePlugin=(0,R.default)(i),n.draftPlugins=[n.sideToolbarPlugin,n.inlineToolbarPlugin,n.mentionToolbarPlugin,n.mentionLearnToolbarPlugin,n.blockBreakoutPlugin,n.richTextPlugin,n.navigationPlugin,n.autoSavePlugin],n}return i(t,w.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.defaultEditorState,n=e.defaultEditable,r=e.renderOnly,o=e.theme,i=e.offsetKey,s=e.style,l=this.sideToolbarPlugin,u=this.inlineToolbarPlugin,c=this.mentionToolbarPlugin,d=this.mentionLearnToolbarPlugin;return y.default.createElement("div",{className:this.ss("body-wrap",r&&"render-only",o),style:m({},s),onClick:r?void 0:this.focus},y.default.createElement(k.Editor,{editorKey:t,offsetKey:i,defaultEditorState:a,defaultEditable:n,renderOnly:r,stripPastedStyles:!1,plugins:this.draftPlugins}),y.default.createElement(u.InlineToolbar,null),y.default.createElement(l.SideToolbar,null),y.default.createElement(c.MentionToolbar,null),y.default.createElement(d.MentionLearnToolbar,null))}}]),t}(),d.propTypes={editorKey:b.default.string.isRequired,offsetKey:b.default.string,prevEditorKey:b.default.string,placeholder:b.default.string,defaultEditorState:b.default.object,defaultEditable:b.default.bool,renderOnly:b.default.bool,theme:b.default.oneOf(["normal","popup","error","transparent","question-title","question-option","transparent-live-session","transparent-submission","normal-content-summary"]),editorState:b.default.object,setEditorState:b.default.func,registerActionPath:b.default.string,style:b.default.object},d.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal",style:{}},p=function(){var e=this;this.focus=function(t){var a=e.props,n=a.editorKey,r=a.editorState,o=a.setEditorState;if(E.default.findDOMNode(e)===t.target){var i=r.getSelection();o({editorKey:n,editorState:k.EditorState.forceSelection(r,i)})}}},c=f))||c)||c);t.default=F},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.default=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=n.editorKey,h=n.placeholder,_=n.withScroller,g=(a=t=function(t){function a(){return r(this,a),o(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return i(a,c.default),s(a,[{key:"render",value:function(){var t=[];this.props.children.forEach(function(e){var a=e.key;t.push(l.default.createElement(d.default,{key:"separator-"+a,blockKey:a})),h&&t.push(l.default.createElement(f.default,{key:"placeholder-"+a,editorKey:m,blockKey:a,text:h})),t.push(e)});var a=_?l.default.createElement("div",{className:"public-DraftStyleDefault-scroller"},l.default.createElement(p.default,{theme:"white"},l.default.createElement("div",{className:"public-DraftStyleDefault-scroller-inner"},t))):t;return l.default.cloneElement(e,{children:a})}}]),a}(),t.propTypes={children:u.default.array},a);return l.default.createElement(g,null)};var l=n(a(0)),u=n(a(2)),c=n(a(1)),d=n(a(329)),f=n(a(331)),p=n(a(28))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["editor.dragOverBlockKey"],["editor.dragOverBlockKey"]),h=s(["editor.internalDrag"],["editor.internalDrag"]),_=s(["editor.dragStartBlockKey"],["editor.dragStartBlockKey"]),g=s(["editor.dragStartBlockAfterKey"],["editor.dragStartBlockAfterKey"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(4),S=a(10),O=n(a(3)),k=n(a(330)),T=(l=(0,w.decorator)({dragOverBlockKey:(0,E.state)(m),internalDrag:(0,E.state)(h),dragStartBlockKey:(0,E.state)(_),dragStartBlockAfterKey:(0,E.state)(g)}),u=(0,O.default)(k.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.blockKey,a=e.dragOverBlockKey,n=e.internalDrag,r=e.dragStartBlockKey,o=e.dragStartBlockAfterKey,i=S.DraftOffsetKey.encode(t,0,0),s=v.default.createElement("div",{"data-offset-key":i});return t===a&&(!n||r&&a!==r&&a!==o)?v.default.createElement("div",{className:this.ss("dragover"),"data-offset-key":i}):s}}]),t}(),d.propTypes={blockKey:y.default.string.isRequired,dragOverBlockKey:y.default.string,internalDrag:y.default.bool,dragStartBlockKey:y.default.string,dragStartBlockAfterKey:y.default.string},c=f))||c)||c);t.default=T},function(e,t){e.exports={dragover:"dragover_TukAOXqJ"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["draft.editorEditable.",""],["draft.editorEditable.",""]),g=n(a(0)),v=n(a(2)),y=n(a(1)),b=a(6),w=a(4),E=a(10),S=n(a(3)),O=n(a(332)),k=(l=(0,b.decorator)({editorState:(0,w.state)(m,(0,w.props)(h)),editable:(0,w.state)(_,(0,w.props)(h))}),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.blockKey,n=e.editorState,r=e.editable,o=E.DraftOffsetKey.encode(a,0,0),i=g.default.createElement("div",{"data-offset-key":o});if(!n)return i;if(n.isInCompositionMode())return i;var s=n.getCurrentContent(),l=s.getBlocksAsArray().filter(function(e){if("atomic"===e.getType()){var t=!1;return e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&("SHOWCASEGALLERY"===s.getEntity(t).getType()||"GAMEGALLERY"===s.getEntity(t).getType()||"WEBGLGALLERY"===s.getEntity(t).getType())},function(){t=!0}),!t}return!0});if(1!==l.length||l[0].getLength()>0||l[0].getKey()!==a)return i;var u=n.getSelection().getHasFocus()&&r;return g.default.createElement("div",{className:this.ss("placeholder",u&&"has-focus"),"data-offset-key":o},t)}}]),t}(),d.propTypes={editorKey:v.default.string.isRequired,blockKey:v.default.string.isRequired,text:v.default.string.isRequired,editorState:v.default.object,editable:v.default.bool},c=f))||c)||c);t.default=k},function(e,t){e.exports={placeholder:"placeholder_3-Ynd1VO","has-focus":"has-focus_3xJGT4wZ"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["editor.inlineToolbars.",""],["editor.inlineToolbars.",""]),g=s(["editor.showInlineToolbar"],["editor.showInlineToolbar"]),v=s(["editor.hideInlineToolbar"],["editor.hideInlineToolbar"]),y=n(a(0)),b=n(a(19)),w=n(a(2)),E=n(a(1)),S=a(6),O=a(4),k=n(a(3)),T=n(a(55)),P=a(10),C=n(a(69)),j=a(334),I=n(a(336)),M=n(a(337)),N=(l=(0,S.decorator)({editorState:(0,O.state)(m,(0,O.props)(h)),inlineToolbarState:(0,O.state)(_,(0,O.props)(h)),showInlineToolbar:(0,O.signal)(g),hideInlineToolbar:(0,O.signal)(v)}),u=(0,k.default)(T.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),p(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,a=e.editorState,n=e.inlineToolbarState,r=e.showInlineToolbar,o=e.hideInlineToolbar;if(a.getSelection().isCollapsed())o({editorKey:t});else{var i=(0,P.getVisibleSelectionRect)(window);if(i&&i.width&&i.height){var s=b.default.findDOMNode(this),l=((0,C.default)(s.parentElement)||document.body).getBoundingClientRect(),u=i.top-l.top-16,c=i.left-l.left+i.width/2;r({editorKey:t,top:Math.round(u),left:Math.round(c)})}else{if(n&&"linkInput"===n.mode)return;o({editorKey:t})}}}},{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.inlineToolbarState,n=!!a,r=a&&{top:a.top,left:a.left},o=void 0;return a&&(o="linkInput"===a.mode?[y.default.createElement(j.LinkInput,{editorKey:t,key:"linkInput"})]:[y.default.createElement(D,{editorKey:t,key:"bold"}),y.default.createElement(x,{editorKey:t,key:"italic"}),y.default.createElement(R,{editorKey:t,key:"underline"}),y.default.createElement(F,{editorKey:t,key:"code"}),y.default.createElement(j.LinkButton,{editorKey:t,key:"link"}),y.default.createElement(I.default,{editorKey:t,key:"clear"})]),y.default.createElement("div",{className:this.ss("inline-toolbar",n&&"show"),style:r},o)}}]),t}(),d.propTypes={editorKey:w.default.string.isRequired,editorState:w.default.object,inlineToolbarState:w.default.object,showInlineToolbar:w.default.func,hideInlineToolbar:w.default.func},c=f))||c)||c);t.default=N;var D=(0,M.default)("BOLD","icons_inline_bold"),x=(0,M.default)("ITALIC","icons_inline_italic"),R=(0,M.default)("UNDERLINE","icons_inline_underline"),F=(0,M.default)("CODE","icons_code")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["draft.editorStates.",""],["draft.editorStates.",""]),w=s(["editorKey"],["editorKey"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),S=s(["editor.showLinkInput"],["editor.showLinkInput"]),O=s(["editor.inlineToolbars.",""],["editor.inlineToolbars.",""]),k=s(["editor.changeLinkInputValue"],["editor.changeLinkInputValue"]),T=s(["editor.hideLinkInput"],["editor.hideLinkInput"]),P=n(a(0)),C=n(a(2)),j=n(a(1)),I=a(6),M=a(4),N=a(10),D=n(a(436)),x=n(a(3)),R=n(a(55)),F=n(a(7)),A=n(a(335)),L=(l=(0,I.decorator)({editorState:(0,M.state)(b,(0,M.props)(w)),setEditorState:(0,M.signal)(E),showLinkInput:(0,M.signal)(S)}),u=(0,x.default)(R.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.removeLinks=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState,i=r.getSelection(),s=i.getStartKey(),l=i.getStartOffset(),u=i.getEndOffset(),c=r.getCurrentContent(),d=c.getBlockForKey(s),f=c;d.findEntityRanges(function(e){var t=e.getEntity(),a=t&&c.getEntity(t);return a&&"LINK"===a.getType()},function(e,t){if(e=Math.max(e,l),t=Math.min(t,u),e<t){var a=new N.SelectionState({anchorKey:s,anchorOffset:e,focusKey:s,focusOffset:t});f=N.Modifier.applyEntity(f,a,null)}}),f!==c&&(f=f.merge({selectionAfter:i.merge({hasFocus:!0})}),o({editorKey:a,editorState:N.EditorState.push(r,f,"apply-entity")}))},n.showLinkInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey;(0,t.showLinkInput)({editorKey:a})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,j.default),y(t,[{key:"render",value:function(){var e=this.props.editorState,t=e.getSelection();if(t.getStartKey()!==t.getEndKey())return null;var a=N.RichUtils.currentBlockContainsLink(e);return P.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("button",{type:"button",onClick:a?this.removeLinks:this.showLinkInput,className:this.ss("toolbar-button","link","ifont","ifont-icons_inline_link",a&&"active")}))}}]),t}(),d.propTypes={editorKey:C.default.string.isRequired,editorState:C.default.object,setEditorState:C.default.func,showLinkInput:C.default.func},c=f))||c)||c),K=(p=(0,I.decorator)({editorState:(0,M.state)(b,(0,M.props)(w)),inlineToolbarState:(0,M.state)(O,(0,M.props)(w)),setEditorState:(0,M.signal)(E),changeLinkInputValue:(0,M.signal)(k),hideLinkInput:(0,M.signal)(T)}),m=(0,x.default)(R.default),h=(0,F.default)(A.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){e.preventDefault();var t=e.currentTarget.value,a=n.props,r=a.editorKey;(0,a.changeLinkInputValue)({editorKey:r,value:t})},n.onKeyDown=function(e){if("Enter"===e.key){e.preventDefault();var t=n.props,a=t.inlineToolbarState,r=t.editorKey,o=t.editorState,i=t.setEditorState,s=t.hideLinkInput,l=a.value,u=D.default.match(l),c=u&&u[0]?u[0].url:"";if(!c)return;s({editorKey:r});var d=o.getSelection(),f=d.merge({hasFocus:!0}),p=o.getCurrentContent(),m=(p=p.createEntity("LINK","MUTABLE",{url:c})).getLastCreatedEntityKey();p=(p=N.Modifier.applyEntity(p,d,m)).merge({selectionAfter:f});var h=N.EditorState.forceSelection(o,p.getSelectionAfter());h=N.EditorState.push(h,p,"apply-entity"),n.inputRef.blur(),i({editorKey:r,editorState:h})}else"Escape"===e.key&&n.hideLinkInput(e)},n.hideLinkInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState;(0,t.hideLinkInput)({editorKey:a}),n.inputRef.blur(),o({editorKey:a,editorState:N.EditorState.forceSelection(r,r.getSelection())})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,j.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.inlineToolbarState.value;return P.default.createElement("div",{className:this.ss("link-input-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("input",{type:"text",className:this.ss("link-input"),autoFocus:!0,value:t,placeholder:this.__("link_input_place_holder"),onChange:this.onChange,onKeyDown:this.onKeyDown,ref:function(t){e.inputRef=t}}),P.default.createElement("button",{type:"button",className:this.ss("close-button","ifont","ifont-icon-close2"),onClick:this.hideLinkInput}))}}]),t}(),g.propTypes={editorKey:C.default.string.isRequired,editorState:C.default.object,inlineToolbarState:C.default.object,setEditorState:C.default.func,changeLinkInputValue:C.default.func,hideLinkInput:C.default.func},_=v))||_)||_)||_);e.exports={LinkButton:L,LinkInput:K}},function(e,t){e.exports={link_input_place_holder:"link_input_place_holder_1qKH"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["draft.setEditorState"],["draft.setEditorState"]),g=n(a(0)),v=n(a(2)),y=n(a(1)),b=a(6),w=a(4),E=a(52),S=a(10),O=n(a(3)),k=n(a(55)),T=(l=(0,b.decorator)({editorState:(0,w.state)(m,(0,w.props)(h)),setEditorState:(0,w.signal)(_)}),u=(0,O.default)(k.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClear=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState,i=r.getSelection(),s=r.getCurrentContent(),l=s.getBlockMap(),u=i.getStartKey(),c=i.getStartOffset(),d=i.getEndKey(),f=i.getEndOffset(),p=l.skipUntil(function(e,t){return t===u}).takeUntil(function(e,t){return t===d}).concat((0,E.Map)([[d,l.get(d)]])).map(function(e,t){var a=void 0,n=void 0;u===d?(a=c,n=f):(a=t===u?c:0,n=t===d?f:e.getLength());for(var r=e.getCharacterList(),o=void 0;a<n;){if((o=r.get(a)).getStyle().size>0){var i=o.set("style",o.getStyle().clear());o=S.CharacterMetadata.create(i),r=r.set(a,o)}var l=o.getEntity(),p=l&&s.getEntity(l);p&&"LINK"===p.getType()&&(o=S.CharacterMetadata.applyEntity(o,null),r=r.set(a,o)),a++}return e.set("characterList",r)});s=s.merge({blockMap:l.merge(p),selectionBefore:i,selectionAfter:i}),o({editorKey:a,editorState:S.EditorState.set(r,{currentContent:s})})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,y.default),p(t,[{key:"render",value:function(){return g.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},g.default.createElement("button",{type:"button",onClick:this.onClear,className:this.ss("toolbar-button","clear","ifont","ifont-icons_inline_clear")}))}}]),t}(),d.propTypes={editorKey:v.default.string.isRequired,editorState:v.default.object,setEditorState:v.default.func},c=f))||c)||c);t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editorKey"],["editorKey"]),d=s(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e,t){var a,n,s,b,w;return a=(0,h.decorator)({editorState:(0,_.state)(u,(0,_.props)(c)),setEditorState:(0,_.signal)(d)}),n=(0,v.default)(y.default),a(s=n((w=b=function(a){function n(){var t,a,i,s;r(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=i=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(u))),i.applyStyle=function(t){t.preventDefault();var a=i.props,n=a.editorKey,r=a.editorState,o=a.setEditorState,s=r.getSelection(),l=r.getCurrentContent();l=g.Modifier.applyInlineStyle(l,s,e),o({editorKey:n,editorState:g.EditorState.push(r,l,"change-inline-style")})},i.removeStyle=function(t){t.preventDefault();var a=i.props,n=a.editorKey,r=a.editorState,o=a.setEditorState,s=r.getSelection(),l=r.getCurrentContent();l=g.Modifier.removeInlineStyle(l,s,e),o({editorKey:n,editorState:g.EditorState.push(r,l,"change-inline-style")})},i.preventBubblingUp=function(e){e.preventDefault()},s=a,o(i,s)}return i(n,m.default),l(n,[{key:"render",value:function(){var a=this.props.editorState,n=(0,g.getSelectionInlineStyle)(a).has(e);return f.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},f.default.createElement("button",{type:"button",onClick:n?this.removeStyle:this.applyStyle,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,n&&"active")}))}}]),n}(),b.displayName="InlineStyleButton("+e+")",b.propTypes={editorKey:p.default.string.isRequired,editorState:p.default.object,setEditorState:p.default.func},s=w))||s)||s};var f=n(a(0)),p=n(a(2)),m=n(a(1)),h=a(6),_=a(4),g=a(10),v=n(a(3)),y=n(a(55))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(0)),p=n(a(2)),m=n(a(1)),h=n(a(22)),_=n(a(3)),g=n(a(55)),v={strategy:function(e,t,a){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===a.getEntity(t).getType()},t)},component:(s=(0,_.default)(g.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.children,r=a.getEntity(t).getData().url;return f.default.createElement(h.default,{text:r,position:"bottom",isSpan:!0,clickToHide:!1},f.default.createElement("a",{href:r,target:"_blank"},n))}}]),t}(),u.propTypes={entityKey:p.default.string.isRequired,contentState:p.default.object.isRequired,children:p.default.any.isRequired},l=c))||l};t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["editor.sideToolbars.",""],["editor.sideToolbars.",""]),g=s(["editor.showSideToolbar"],["editor.showSideToolbar"]),v=s(["editor.hideSideToolbar"],["editor.hideSideToolbar"]),y=s(["editor.toggleSideToolbar"],["editor.toggleSideToolbar"]),b=s(["editor.closeSideToolbar"],["editor.closeSideToolbar"]),w=n(a(0)),E=n(a(2)),S=n(a(1)),O=a(6),k=a(4),T=a(27),P=n(a(69)),C=a(10),j=n(a(340)),I=n(a(346)),M=n(a(347)),N=n(a(353)),D=n(a(354)),x=n(a(355)),R=n(a(3)),F=n(a(37)),A=(l=(0,O.decorator)({editorState:(0,k.state)(m,(0,k.props)(h)),sideToolbarState:(0,k.state)(_,(0,k.props)(h)),showSideToolbar:(0,k.signal)(g),hideSideToolbar:(0,k.signal)(v),toggleSideToolbar:(0,k.signal)(y),closeSideToolbar:(0,k.signal)(b)}),u=(0,R.default)(F.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickOutside=function(){var e=n.props,t=e.editorKey;(0,e.closeSideToolbar)({editorKey:t})},n.onTogglePlus=function(){var e=n.props,t=e.editorKey;(0,e.toggleSideToolbar)({editorKey:t})},i=a,o(n,i)}return i(t,S.default),p(t,[{key:"componentDidMount",value:function(){this.removeClickOutside=(0,T.addClickOutside)([this],this.onClickOutside)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,a=e.editorState,n=e.hideSideToolbar,r=e.showSideToolbar,o=a.getSelection().getStartKey(),i=a.getCurrentContent().getBlockForKey(o);if("atomic"!==i.getType()){var s='[data-block="true"][data-editor="'+t+'"][data-offset-key="'+C.DraftOffsetKey.encode(i.getKey(),0,0)+'"]',l=document.querySelector(s);if(l){var u=l.getBoundingClientRect(),c=((0,P.default)(l.parentElement)||document.body).getBoundingClientRect(),d=u.top-c.top;r({editorKey:t,blockType:i.getType(),top:d})}}else n({editorKey:t})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this.props,t=e.sideToolbarState,a=e.editorKey,n=e.allowImage,r=e.allowVideo,o=e.allowAttachment,i=e.allowHtml,s=e.allowTip,l=!!t,u=t&&t.blockType,c=t&&{top:t.top},d=t&&t.isOpen,f=!1===n&&!1===r&&!1===o&&!1===i&&!1===s;return w.default.createElement("div",{className:this.ss("side-toolbar",l&&"show",u),style:c},!f&&w.default.createElement("div",{className:this.ss("ifont","ifont-icons-add","plus",d&&"open"),onClick:this.onTogglePlus}),w.default.createElement(x.default,{editorKey:a}),w.default.createElement("div",{className:this.ss("menu-icons",d&&"open")},!1!==n&&w.default.createElement(j.default,{editorKey:a}),!1!==r&&w.default.createElement(I.default,{editorKey:a}),!1!==o&&w.default.createElement(M.default,{editorKey:a}),!1!==i&&w.default.createElement(N.default,{editorKey:a}),!1!==s&&w.default.createElement(D.default,{editorKey:a})))}}]),t}(),d.propTypes={editorKey:E.default.string.isRequired,editorState:E.default.object,sideToolbarState:E.default.object,allowImage:E.default.bool,allowVideo:E.default.bool,allowAttachment:E.default.bool,allowHtml:E.default.bool,allowTip:E.default.bool,showSideToolbar:E.default.func,hideSideToolbar:E.default.func,toggleSideToolbar:E.default.func,closeSideToolbar:E.default.func},c=f))||c)||c);t.default=A},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["header.showMessage"],["header.showMessage"]),v=s(["upload.uploadAttachment"],["upload.uploadAttachment"]),y=s(["draft.setEditorState"],["draft.setEditorState"]),b=n(a(0)),w=n(a(2)),E=n(a(1)),S=a(6),O=a(4),k=a(341),T=a(10),P=n(a(22)),C=n(a(3)),j=n(a(37)),I=n(a(7)),M=n(a(56)),N=9,D=(l=(0,S.decorator)({editorState:(0,O.state)(h,(0,O.props)(_)),showMessage:(0,O.signal)(g),uploadAttachment:(0,O.signal)(v),setEditorState:(0,O.signal)(y)}),u=(0,C.default)(j.default),c=(0,I.default)(M.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickUpload=function(){n.refs.imageSelect.click()},n.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,a=void 0===t?[]:t,r=n.props,o=r.showMessage,i=r.uploadAttachment,s=r.setEditorState,l=r.editorKey;a.length>N?o({message:"fileMaxLength_9"}):(0,k.readImages)(a).then(function(e){var t=r.editorState,a=t.getSelection().focusKey;e.forEach(function(e){t=(0,T.addAtomicBlockBefore)(t,a,"IMAGE",{uploadId:e.id}),i({upload:e})}),s({editorKey:l,editorState:t})}),n.refs.imageSelect.value=null}},i=a,o(n,i)}return i(t,E.default),m(t,[{key:"render",value:function(){var e=this.props.type;return b.default.createElement(P.default,{text:this.__("image_tooltip"),position:"bottom"},b.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickUpload},b.default.createElement("div",{className:this.ss("ifont","ifont-icons-"+e,"icon")}),b.default.createElement("input",{type:"file",ref:"imageSelect",multiple:!0,accept:"image/*",className:this.ss("hide"),onChange:this.onFilesChange})))}}]),t}(),f.propTypes={type:w.default.string,editorKey:w.default.string.isRequired,editorState:w.default.object,showMessage:w.default.func,uploadAttachment:w.default.func,setEditorState:w.default.func},f.defaultProps={type:"photo"},d=p))||d)||d)||d);t.default=D},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){if(0!==e.type.indexOf("image/"))throw new Error("file is not an image");return new Promise(function(t){var a=window.URL.createObjectURL(e),n=new window.Image;n.onload=function(){var r=n.width,o=n.height;t({id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"image",dataUrl:a,width:r,height:o})},n.src=a})}function i(e){return e=[].concat(r(e)).filter(function(e){return 0===e.type.indexOf("image/")}),Promise.all(e.map(o))}function s(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"IMAGE"===a.getEntity(t).getType()},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.readImage=o,t.readImages=i,t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=c.default;return e.decorator&&(n=e.decorator(n)),n=(0,l.default)(n,{editorKey:t,renderOnly:a}),{handleDroppedFiles:a?void 0:function(e,t,a){var n=a.getEditorState,r=a.setEditorState,o=(0,a.getProps)().controller,s=o.getState("project.dragOverBlockKey");if(!s)return"not-handled";var l=t.some(function(e){return 0===e.type.indexOf("image/")});return i(t).then(function(e){var t=n();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,s,"IMAGE",{uploadId:e.id}),o.getSignal("project.uploadAttachment")({upload:e})}),r(t)}),l?"handled":"not-handled"},handlePastedFiles:a?void 0:function(e,t){var a=t.getEditorState,n=t.setEditorState,r=(0,t.getProps)().controller,o=a().getSelection().getStartKey(),s=e.some(function(e){return 0===e.type.indexOf("image/")});return i(e).then(function(e){var t=a();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,o,"IMAGE",{uploadId:e.id}),r.getSignal("project.uploadAttachment")({upload:e})}),n(t)}),s?"handled":"not-handled"},decorators:[{strategy:s,component:n}]}};var l=n(a(35)),u=a(10),c=n(a(342))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["header.setting.windowWidth"],["header.setting.windowWidth"]),v=l(["project.contentMap"],["project.contentMap"]),y=l(["project.uploads"],["project.uploads"]),b=l(["draft.editorStates.",""],["draft.editorStates.",""]),w=l(["editorKey"],["editorKey"]),E=l(["draft.setEditorState"],["draft.setEditorState"]),S=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),O=l(["project.retryUploadAttachment"],["project.retryUploadAttachment"]),k=l(["project.openContent"],["project.openContent"]),T=n(a(0)),P=n(a(2)),C=n(a(1)),j=a(6),I=a(4),M=a(20),N=a(10),D=n(a(16)),x=n(a(115)),R=n(a(127)),F=n(a(3)),A=n(a(344)),L=n(a(7)),K=n(a(345)),q=(u=(0,j.decorator)({windowWidth:(0,I.state)(g),contentMap:(0,I.state)(v),uploads:(0,I.state)(y),editorState:(0,I.state)(b,(0,I.props)(w)),setEditorState:(0,I.signal)(E),setEditorEditable:(0,I.signal)(S),retryUploadAttachment:(0,I.signal)(O),openContent:(0,I.signal)(k)}),c=(0,F.default)(A.default),d=(0,L.default)(K.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,C.default),_(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onImageClick",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this.props,r=n.renderOnly,o=n.focus,i=n.openContent;r?i({contentId:t,url:a}):o(e)}},{key:"checkUpload",value:function(){if(!this.props.renderOnly){var e=this.props,t=e.entityKey,a=e.uploads,n=e.contentMap,o=e.editorKey,i=e.editorState,s=e.setEditorState,l=i.getCurrentContent(),u=l.getEntity(t).getData(),c=u.uploadId,d=u.contentId,f=r(u,["uploadId","contentId"]),p=c&&a[c];if(p&&p.contentId&&n&&n[p.contentId]&&!d){var m=(0,N.mergeAtomicEntityData)(l,t,h({},f,{contentId:p.contentId}));s({editorKey:o,editorState:N.EditorState.set(i,{currentContent:m})}),this.__placeholderSrc=p.dataUrl}}}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return T.default.createElement("div",{className:this.ss("loading-wrap")},T.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading")),T.default.createElement("div",{className:this.ss("loading-bar")},T.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})))}},{key:"renderFailed",value:function(e){var t=this;return T.default.createElement("div",{className:this.ss("loading-wrap")},T.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading_failed")),T.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},T.default.createElement("span",{className:this.ss("content")},T.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),T.default.createElement("span",{className:this.ss("text")},this.__("image_uploading_retry")))))}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,a=e.offsetKey,n=e.editorKey,r=e.entityKey,o=e.renderOnly;return T.default.createElement(x.default,{parentEditorKey:n,parentIsFocused:t,parentOffsetKey:a,editorKey:n+":"+a,entityKey:r,renderOnly:o,placeholder:this.__("image_caption_placeholder")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFocused,n=t.focus,r=t.onDragStart,o=t.editorState,i=t.entityKey,s=t.uploads,l=t.contentMap,u=t.renderOnly,c=t.windowWidth,d=o.getCurrentContent().getEntity(i).getData(),f=d.uploadId,p=d.contentId,m=d.url,h=void 0===m?"":m,_=p&&l[p],g=s[f],v=c?Math.min(c,1e3):1e3,y=void 0;if(_){var b=this.__placeholderSrc,w=_.originalImage,E=w.url,S=w.width,O=w.height,k=w.gif,P=S<v?{width:S,height:O,margin:"0 auto",display:"block"}:{};y=T.default.createElement("div",{className:this.ss("image-wrap","content")},T.default.createElement("div",{className:this.ss("image",a&&"focus"),style:P,onClick:function(t){return e.onImageClick(t,p,h)},draggable:!!r,onDragStart:r},T.default.createElement(D.default,{src:E,sizes:"1000px",placeholderSrc:b,width:S,height:O,gif:!!k})))}else if(g){var C=g.dataUrl,j=g.width,I=g.height,N=j<v?{width:j,height:I,margin:"0 auto",display:"block"}:{};y=T.default.createElement("div",{className:this.ss("image-wrap","upload",a&&"focus")},T.default.createElement("div",{className:this.ss("image"),style:N,onClick:n,draggable:!!r,onDragStart:r},T.default.createElement(D.default,{src:C,sizes:"1000px",width:j,height:I})),(0,M.isLoading)(g.status)&&this.renderLoading(g),(0,M.isFailed)(g.status)&&this.renderFailed(g))}return T.default.createElement("div",{className:this.ss("image-wrapper",u&&"render-only")},T.default.createElement(R.default,{text:h,position:"bottom",clickToHide:!1},y),this.renderCaption(_))}}]),t}(),p.propTypes={windowWidth:P.default.number,isFocused:P.default.bool,entityKey:P.default.string,renderOnly:P.default.bool,offsetKey:P.default.string,uploads:P.default.object,contentMap:P.default.object,editorKey:P.default.string.isRequired,editorState:P.default.object,focus:P.default.func,onDragStart:P.default.func,setEditorState:P.default.func,setEditorEditable:P.default.func,retryUploadAttachment:P.default.func,openContent:P.default.func},f=m))||f)||f)||f);t.default=q},function(e,t){e.exports={caption:"caption_2W6VtqEE",hide:"hide_3WsfRMnn"}},function(e,t){e.exports={"image-wrapper":"image-wrapper_3dqAwXWn","image-wrap":"image-wrap_2hIHVxg4",upload:"upload_1gep5Qhf",focus:"focus_2unaBO4d",content:"content_1Z6Qs-jN",image:"image_1z_exUwH",caption:"caption_3zflifMe","render-only":"render-only_ThD25orX","loading-wrap":"loading-wrap_lnoeRNnR","loading-text":"loading-text_1ecGCLG1","loading-bar":"loading-bar_2qIJLZhB",loading:"loading_1scOZSM2","loading-button":"loading-button_1AiyV8fx",retry:"retry_jHqyJ8cE",text:"text_2-ifxOy9"}},function(e,t){e.exports={image_uploading:"image_uploading_S4H2",image_uploading_failed:"image_uploading_failed_UaVA",image_uploading_retry:"image_uploading_retry_1RAt",image_caption_placeholder:"image_caption_placeholder_3uu3"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["editor.openUploadVideo"],["editor.openUploadVideo"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(4),S=n(a(22)),O=n(a(3)),k=n(a(37)),T=n(a(7)),P=n(a(56)),C=(l=(0,w.decorator)({editorState:(0,E.state)(h,(0,E.props)(_)),openUploadVideo:(0,E.signal)(g)}),u=(0,O.default)(k.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickVideo=function(){var e=n.props.editorKey;n.props.openUploadVideo({editorKey:e})},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props.type;return v.default.createElement(S.default,{text:this.__("video_tooltip"),position:"bottom"},v.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickVideo},v.default.createElement("div",{className:this.ss("ifont","ifont-icons_embed","icon",e)})))}}]),t}(),f.propTypes={type:y.default.string,editorKey:y.default.string.isRequired,openUploadVideo:y.default.func},f.defaultProps={type:"video"},d=p))||d)||d)||d);t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["header.showMessage"],["header.showMessage"]),v=s(["upload.uploadRecord"],["upload.uploadRecord"]),y=s(["draft.setEditorState"],["draft.setEditorState"]),b=n(a(0)),w=n(a(2)),E=n(a(1)),S=a(6),O=a(4),k=a(98),T=a(10),P=n(a(22)),C=n(a(3)),j=n(a(37)),I=n(a(7)),M=n(a(56)),N=9,D=(l=(0,S.decorator)({editorState:(0,O.state)(h,(0,O.props)(_)),showMessage:(0,O.signal)(g),uploadRecord:(0,O.signal)(v),setEditorState:(0,O.signal)(y)}),u=(0,C.default)(j.default),c=(0,I.default)(M.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickUpload=function(){n.refs.fileSelect.click()},n.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,a=void 0===t?[]:t,r=n.props,o=r.showMessage,i=r.uploadRecord,s=r.setEditorState,l=r.editorKey,u=(0,k.getFiles)(a);if(a.length>N)o({message:"fileMaxLength_9"});else{var c=0!==u.length,d=n.props.editorState,f=d.getSelection().focusKey;u.forEach(function(e){d=(0,T.addAtomicBlockBefore)(d,f,"VIDEOATTACHMENT",{uploadId:e.id}),i({upload:e})}),c&&s({editorKey:l,editorState:d})}n.refs.fileSelect.value=null}},i=a,o(n,i)}return i(t,E.default),m(t,[{key:"render",value:function(){var e=this.props.type;return b.default.createElement(P.default,{text:this.__("video_attachment_tooltip"),position:"bottom"},b.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickUpload},b.default.createElement("div",{className:this.ss("ifont","ifont-icons-"+e,"icon")}),b.default.createElement("input",{type:"file",ref:"fileSelect",multiple:!0,accept:"video/*",className:this.ss("hide"),onChange:this.onFilesChange})))}}]),t}(),f.propTypes={type:w.default.string,editorKey:w.default.string.isRequired,editorState:w.default.object,showMessage:w.default.func,uploadRecord:w.default.func,setEditorState:w.default.func},f.defaultProps={type:"upload"},d=p))||d)||d)||d);t.default=D},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["loginUser"],["loginUser"]),v=l(["upload.uploads"],["upload.uploads"]),y=l(["editor.contentMap"],["editor.contentMap"]),b=l(["draft.editorStates.",""],["draft.editorStates.",""]),w=l(["editorKey"],["editorKey"]),E=l(["common.loginTo"],["common.loginTo"]),S=l(["draft.setEditorState"],["draft.setEditorState"]),O=l(["upload.retryUploadRecord"],["upload.retryUploadRecord"]),k=l(["editor.addContent"],["editor.addContent"]),T=l(["editor.downloadContent"],["editor.downloadContent"]),P=l(["editor.downloadDraftContent"],["editor.downloadDraftContent"]),C=n(a(0)),j=n(a(2)),I=n(a(1)),M=a(6),N=a(4),D=a(20),x=a(12),R=a(10),F=n(a(42)),A=n(a(16)),L=n(a(115)),K=n(a(3)),q=n(a(349)),z=n(a(7)),U=n(a(350)),B=["video/mp4"],H=a(110),V=(u=(0,M.decorator)({loginUser:(0,N.state)(g),uploads:(0,N.state)(v),contentMap:(0,N.state)(y),editorState:(0,N.state)(b,(0,N.props)(w)),loginTo:(0,N.signal)(E),setEditorState:(0,N.signal)(S),retryUploadRecord:(0,N.signal)(O),addContent:(0,N.signal)(k),downloadContent:(0,N.signal)(T),downloadDraftContent:(0,N.signal)(P)}),c=(0,K.default)(q.default),d=(0,z.default)(U.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,I.default),_(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onDownload",value:function(e){var t=e.id,a=this.props,n=a.downloadContent,r=a.downloadDraftContent;a.renderOnly?n&&n({id:t}):r&&r({id:t})}},{key:"onAttachmentClick",value:function(e){var t=this.props,a=t.renderOnly,n=t.focus;a||n(e)}},{key:"checkUpload",value:function(){var e=this.props,t=e.entityKey,a=e.uploads,n=e.editorKey,o=e.editorState,i=e.setEditorState,s=e.addContent,l=o.getCurrentContent(),u=l.getEntity(t).getData(),c=u.uploadId,d=u.contentId,f=r(u,["uploadId","contentId"]),p=c&&a[c];if(p&&p.contentId&&!d){var m=(0,R.mergeAtomicEntityData)(l,t,h({},f,{contentId:p.contentId}));i({editorKey:n,editorState:R.EditorState.set(o,{currentContent:m})}),s({content:p.content})}}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadRecord)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return C.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})}},{key:"renderFailed",value:function(e){var t=this;return C.default.createElement("div",{className:this.ss("loading-failed")},C.default.createElement("div",{className:this.ss("loading-text")},this.__("file_uploading_failed")),C.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},C.default.createElement("span",{className:this.ss("content")},C.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),C.default.createElement("span",{className:this.ss("text")},this.__("file_uploading_retry")))))}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,a=e.offsetKey,n=e.editorKey,r=e.entityKey,o=e.renderOnly;return C.default.createElement(L.default,{parentEditorKey:n,parentIsFocused:t,parentOffsetKey:a,editorKey:n+":"+a,entityKey:r,renderOnly:o,placeholder:this.__("player_caption_placeholder")})}},{key:"renderPlayer",value:function(e){var t=this,a=this.props,n=a.isFocused,r=a.onDragStart,o=a.renderOnly,i=C.default.createElement("div",{className:this.ss("footer")},C.default.createElement("div",{className:this.ss("caption")},this.renderCaption()));return C.default.createElement("div",{className:this.ss("attachment-media",n&&"selected",o&&"render-only"),onClick:function(e){return t.onAttachmentClick(e)},draggable:!!r,onDragStart:r},C.default.createElement("div",{className:this.ss("player")},C.default.createElement(F.default,{renderOnly:o,videoContent:e})),i)}},{key:"renderPrivatePlayer",value:function(){var e=this.props,t=e.loginUser,a=e.loginTo;return C.default.createElement("div",{className:this.ss("private-player")},C.default.createElement("div",{className:this.ss("player-wrap",!t&&"no-login"),onClick:function(){return!t&&a()}},C.default.createElement("div",{className:this.ss("player-img")},C.default.createElement(A.default,{src:H,sizes:"160px",width:160,height:133})),C.default.createElement("span",null,this.__(t?"label_private_player":"label_private_player_no_login"))))}},{key:"render",value:function(){var e=this.props,t=e.isFocused,a=e.focus,n=e.onDragStart,r=e.editorState,o=e.entityKey,i=e.uploads,s=e.contentMap,l=e.renderOnly,u=r.getCurrentContent().getEntity(o).getData(),c=u.uploadId,d=u.contentId,f=d&&s[d],p=i[c];if(f){var m=f.contentType,h=f.isPrivate;return-1===B.indexOf(m)?null:h&&l?this.renderPrivatePlayer(f):this.renderPlayer(f)}if(p){var _=p.filename,g=p.fileSize,v=p.status;return C.default.createElement("div",{className:this.ss("attachment",!(0,D.isLoading)(v)&&t&&"selected"),onClick:a,draggable:!!n,onDragStart:n},C.default.createElement("div",{className:this.ss("empty")}),C.default.createElement("div",{className:this.ss("file-icon","ifont","ifont-icons_attachment2")}),C.default.createElement("div",{className:this.ss("content-body")},C.default.createElement("div",{className:this.ss("title")},_),C.default.createElement("div",{className:this.ss("size")},(0,x.formatSize)(g))),(0,D.isFailed)(v)&&this.renderFailed(p),(0,D.isLoading)(v)&&this.renderLoading(p))}return null}}]),t}(),p.propTypes={loginUser:j.default.object,isFocused:j.default.bool,entityKey:j.default.string,offsetKey:j.default.string,renderOnly:j.default.bool,uploads:j.default.object,contentMap:j.default.object,editorKey:j.default.string,editorState:j.default.object,loginTo:j.default.func,focus:j.default.func,onDragStart:j.default.func,setEditorState:j.default.func,retryUploadRecord:j.default.func,addContent:j.default.func,downloadContent:j.default.func,downloadDraftContent:j.default.func},f=m))||f)||f)||f);t.default=V},function(e,t){e.exports={empty:"empty_3TuJkHKw","file-icon":"file-icon_g8Shz2xv","content-body":"content-body_2YNVAxGs",title:"title_2lCd9HiU",size:"size_1vDl-sut",download:"download_2qhOovRX",lock:"lock_1JR9Nz-1",nonpointer:"nonpointer_1Y_TBbMX",attachment:"attachment_36ZqN0eF",selected:"selected_2UcrG-bZ","render-only":"render-only_gqd6mzXT","attachment-media":"attachment-media_irnkTOJ0",player:"player_14uifr8C","private-player":"private-player_2xQg3pxa","player-wrap":"player-wrap_1J-QE5wG","no-login":"no-login_1HCYqgvL","player-img":"player-img_1qlsHdGh","video-cover":"video-cover_ssIkluLU","video-cover-text":"video-cover-text_2bWW733a",footer:"footer_3bmJ122x",caption:"caption__s-DDnB0",buttons:"buttons_3dmpnfPD","loading-failed":"loading-failed_2OTKCWgB","loading-text":"loading-text_1ccjiOll","loading-button":"loading-button_3-3tnLin",content:"content_3e5ncNUR",retry:"retry_1uCiOhly",text:"text_xy21lTLo",loading:"loading_KTvci8Uf"}},function(e,t){e.exports={file_uploading_failed:"file_uploading_failed_3EAl",file_uploading_retry:"file_uploading_retry_m-bi",player_caption_placeholder:"player_caption_placeholder_1_sb",label_private_player:"label_private_player_3MOq",label_private_player_no_login:"label_private_player_no_login_2ZbW"}},function(e,t){e.exports={hide:"hide_2x9HRbFl","subtitle-wrapper":"subtitle-wrapper_39NuH942",head:"head_1XX2uYOu",des:"des_1ZBZF1xP","button-close":"button-close_1BgBKiRM","upload-wrapper":"upload-wrapper_1R94wfbN","subtitle-lang":"subtitle-lang_3ROFMT-c","subtitle-upload":"subtitle-upload_1ZZIGo4c",button:"button_3JMd4Qnz","subtitle-list":"subtitle-list_16nLPyPe","subtitle-item-wrapper":"subtitle-item-wrapper_3Ab3bC5J","subtitle-item":"subtitle-item_i0VC8W3o","file-icon":"file-icon_2wSAeXm5","content-body":"content-body_1fQSJRsl","content-title":"content-title_1U1ah5AU",title:"title_3c4nneB1",size:"size_1rvYvizm",dot:"dot_1y64ZxCF",delete:"delete_XaUIubaQ","loading-failed":"loading-failed_1261ALtJ","loading-text":"loading-text_3k7J_IFT","loading-button":"loading-button_1y2l-7qI",content:"content_2RLYnI8k",retry:"retry_39tTESne",text:"text_sS9ewnGe",loading:"loading_DdRqIC6Z",foot:"foot_3aJrOqHo"}},function(e,t){e.exports={title_add_subtitle:"title_add_subtitle_3G1A",title_des:"title_des_2LCp",button_close:"button_close_1qVx",upload_subtitle_tooltip:"upload_subtitle_tooltip_1eJJ",file_uploading_failed:"file_uploading_failed_or5j",file_uploading_retry:"file_uploading_retry_18Y4"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["editor.openUploadHtml"],["editor.openUploadHtml"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(4),S=n(a(22)),O=n(a(3)),k=n(a(37)),T=n(a(7)),P=n(a(56)),C=(l=(0,w.decorator)({editorState:(0,E.state)(h,(0,E.props)(_)),openUploadHtml:(0,E.signal)(g)}),u=(0,O.default)(k.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickHtml=function(){var e=n.props.editorKey;n.props.openUploadHtml({editorKey:e})},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props.type;return v.default.createElement(S.default,{text:this.__("html_tooltip"),position:"bottom"},v.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickHtml},v.default.createElement("div",{className:this.ss("ifont","ifont-icons-public","icon",e)})))}}]),t}(),f.propTypes={type:y.default.string,editorKey:y.default.string.isRequired,openUploadHtml:y.default.func},f.defaultProps={type:"html"},d=p))||d)||d)||d);t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["editor.openTipDialog"],["editor.openTipDialog"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(4),S=n(a(22)),O=n(a(3)),k=n(a(37)),T=n(a(7)),P=n(a(56)),C=(l=(0,w.decorator)({editorState:(0,E.state)(h,(0,E.props)(_)),openTipDialog:(0,E.signal)(g)}),u=(0,O.default)(k.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickHtml=function(){var e=n.props.editorKey;n.props.openTipDialog({editorKey:e})},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props.type;return v.default.createElement(S.default,{text:this.__("tip_tooltip"),position:"bottom"},v.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickHtml},v.default.createElement("div",{className:this.ss("ifont","ifont-lrn_icon_school","icon",e)})))}}]),t}(),f.propTypes={type:y.default.string,editorKey:y.default.string.isRequired,openTipDialog:y.default.func},f.defaultProps={type:"tip"},d=p))||d)||d)||d);t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=n(a(0)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(4),w=n(a(3)),E=n(a(37)),S=n(a(356)),O={"header-one":"icons_block_h1","header-two":"icons_block_h2","unordered-list-item":"icons_block_ul","ordered-list-item":"icons_block_ol",blockquote:"icons_block_quote","code-block":"icons_code"},k=(l=(0,y.decorator)({editorState:(0,b.state)(m,(0,b.props)(h))}),u=(0,w.default)(E.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hover:!1},n.onMouseEnter=function(){n.setState({hover:!0})},n.onMouseLeave=function(){n.setState({hover:!1})},i=a,o(n,i)}return i(t,v.default),p(t,[{key:"renderToolbar",value:function(){if(!this.state.hover)return null;var e=this.props.editorKey,t=[_.default.createElement(T,{editorKey:e,key:"h1"}),_.default.createElement(P,{editorKey:e,key:"h2"}),_.default.createElement(C,{editorKey:e,key:"ul"}),_.default.createElement(j,{editorKey:e,key:"ol"}),_.default.createElement(I,{editorKey:e,key:"quote"}),_.default.createElement(M,{editorKey:e,key:"code-block"})];return _.default.createElement("div",{className:this.ss("block-toolbar-wrapper")},_.default.createElement("div",{className:this.ss("block-toolbar")},t))}},{key:"render",value:function(){var e=this.props.editorState,t="icons_paragraph";if(e){var a=e.getSelection().getStartKey(),n=e.getCurrentContent().getBlockForKey(a).getType();O[n]&&(t=O[n])}return _.default.createElement("div",{className:this.ss("paragraph-icon-wrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_.default.createElement("div",{className:this.ss("ifont","ifont-"+t,"paragraph-icon")}),this.renderToolbar())}}]),t}(),d.propTypes={editorKey:g.default.string.isRequired,editorState:g.default.object},c=f))||c)||c);t.default=k;var T=(0,S.default)("header-one","icons_block_h1"),P=(0,S.default)("header-two","icons_block_h2"),C=(0,S.default)("unordered-list-item","icons_block_ul"),j=(0,S.default)("ordered-list-item","icons_block_ol"),I=(0,S.default)("blockquote","icons_block_quote"),M=(0,S.default)("code-block","icons_code")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editorKey"],["editorKey"]),d=s(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e,t){var a,n,s,b,w;return a=(0,h.decorator)({editorState:(0,_.state)(u,(0,_.props)(c)),setEditorState:(0,_.signal)(d)}),n=(0,v.default)(y.default),a(s=n((w=b=function(a){function n(){var t,a,i,s;r(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=i=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(u))),i.toggleStyle=function(t){t.preventDefault();var a=i.props,n=a.editorKey,r=a.editorState;(0,a.setEditorState)({editorKey:n,editorState:(0,g.toggleBlockType)(r,e)})},i.preventBubblingUp=function(e){e.preventDefault()},s=a,o(i,s)}return i(n,m.default),l(n,[{key:"render",value:function(){var a=this.props.editorState,n=a.getSelection().getStartKey(),r=a.getCurrentContent().getBlockForKey(n).getType()===e;return f.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},f.default.createElement("button",{type:"button",onClick:this.toggleStyle,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,r&&"active")}))}}]),n}(),b.displayName="BlockStyleButton("+e+")",b.propTypes={editorKey:p.default.string.isRequired,editorState:p.default.object,setEditorState:p.default.func},s=w))||s)||s};var f=n(a(0)),p=n(a(2)),m=n(a(1)),h=a(6),_=a(4),g=a(10),v=n(a(3)),y=n(a(37))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["editor.mentionToolbars.",""],["editor.mentionToolbars.",""]),g=s(["suggest.candidate"],["suggest.candidate"]),v=s(["editor.showMentionToolbar"],["editor.showMentionToolbar"]),y=s(["editor.hideMentionToolbar"],["editor.hideMentionToolbar"]),b=s(["editor.moveToMentionItem"],["editor.moveToMentionItem"]),w=s(["suggest.fetchCandidates"],["suggest.fetchCandidates"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),S=n(a(0)),O=n(a(19)),k=n(a(2)),T=n(a(1)),P=a(6),C=a(4),j=a(10),I=n(a(69)),M=n(a(43)),N=n(a(3)),D=n(a(130)),x=(l=(0,P.decorator)({editorState:(0,C.state)(m,(0,C.props)(h)),mentionToolbarState:(0,C.state)(_,(0,C.props)(h)),suggestCandidate:(0,C.state)(g),showMentionToolbar:(0,C.signal)(v),hideMentionToolbar:(0,C.signal)(y),moveToMentionItem:(0,C.signal)(b),fetchCandidates:(0,C.signal)(w),setEditorState:(0,C.signal)(E)}),u=(0,N.default)(D.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onMouseDown=function(e){e.preventDefault();var t=n.props,a=t.mentionToolbarState,r=t.suggestCandidate,o=t.editorKey,i=t.editorState,s=t.setEditorState,l=a.prefix,u=a.index,c=r.user,d=c.length;s({editorKey:o,editorState:(0,j.addUserMention)(i,l,c[(u%d+d)%d])})},n.onMouseEnter=function(e){var t=n.props,a=t.editorKey;(0,t.moveToMentionItem)({editorKey:a,index:e})},i=a,o(n,i)}return i(t,T.default),p(t,[{key:"componentDidUpdate",value:function(e){var t=e.editorState,a=this.props,n=a.editorState,r=a.editorKey,o=a.showMentionToolbar,i=a.hideMentionToolbar,s=a.fetchCandidates,l=t.getSelection(),u=n.getSelection();if(l!==u)if(u.isCollapsed()&&u.getHasFocus()){var c=n.getCurrentContent(),d=u.getFocusKey(),f=c.getBlockForKey(d),p=u.getFocusOffset();if("atomic"!==f.getType()&&"code-block"!==f.getType()){for(var m="",h=p-1;h>=0&&h>=p-20&&!(f.getEntityAt(h)||/\s/.test(f.getText()[h])&&" "!==f.getText()[h]);h--)if("@"===f.getText()[h]){(0===h||f.getEntityAt(h-1)||/\s/.test(f.getText()[h-1]))&&h+1<p&&(m=f.getText().substring(h+1,p));break}if(m){var _=(0,j.getLeafOffsetKeyAndOffset)(n,d,p-1-m.length),g=_.offsetKey,v=_.offset,y=(0,j.getLeafBoundingClientRect)(r,g,v),b=O.default.findDOMNode(this),w=((0,I.default)(b.parentElement)||document.body).getBoundingClientRect();if(y.top+y.bottom<window.innerHeight){var E=y.bottom-w.top+5,S=y.left-w.left;o({editorKey:r,top:Math.round(E),left:Math.round(S),prefix:m})}else{var k=w.bottom-y.top+5,T=y.left-w.left;o({editorKey:r,bottom:Math.round(k),left:Math.round(T),prefix:m})}s({q:m,st:"user"})}else i({editorKey:r})}else i({editorKey:r})}else i({editorKey:r})}},{key:"renderCandidate",value:function(e,t,a){var n=this;return S.default.createElement("div",{className:this.ss("candidate",a&&"active"),key:e.id,onMouseEnter:function(){return n.onMouseEnter(t)},onMouseDown:this.onMouseDown},S.default.createElement(M.default,{className:this.ss("avatar"),user:e,size:"xxxsmall"}),S.default.createElement("span",{className:this.ss("name")},"@",e.name))}},{key:"renderCandidates",value:function(){var e=this,t=this.props,a=t.mentionToolbarState,n=t.suggestCandidate,r=[];if(a&&"user"===n.st&&n.q===a.prefix&&n.user&&(r=n.user),!r.length)return null;var o=r.length,i=(a.index%o+o)%o;return S.default.createElement("div",{className:this.ss("candidates")},r.map(function(t,a){return e.renderCandidate(t,a,a===i)}))}},{key:"render",value:function(){var e=this.props.mentionToolbarState,t=!!e,a=e&&{top:e.top,bottom:e.bottom,left:e.left};return S.default.createElement("div",{className:this.ss("mention-toolbar",t&&"show"),style:a},this.renderCandidates())}}]),t}(),d.propTypes={editorKey:k.default.string.isRequired,editorState:k.default.object,mentionToolbarState:k.default.object,suggestCandidate:k.default.object,showMentionToolbar:k.default.func,hideMentionToolbar:k.default.func,moveToMentionItem:k.default.func,fetchCandidates:k.default.func,setEditorState:k.default.func},c=f))||c)||c);t.default=x},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["editor.userCards"],["editor.userCards"]),h=s(["editor.fetchUserCard"],["editor.fetchUserCard"]),_=n(a(0)),g=n(a(19)),v=n(a(2)),y=n(a(1)),b=a(6),w=a(4),E=n(a(359)),S=n(a(30)),O=n(a(3)),k=n(a(130)),T={strategy:function(e,t,a){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"MENTION"===a.getEntity(t).getType()},t)},component:(l=(0,b.decorator)({userCards:(0,w.state)(m),fetchUserCard:(0,w.signal)(h)}),u=(0,O.default)(k.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hover:!1,top:void 0,bottom:void 0},n.onMouseEnter=function(){var e=n.props,t=e.entityKey,a=e.contentState;(0,e.fetchUserCard)({id:a.getEntity(t).getData().userId});var r=g.default.findDOMNode(n).getBoundingClientRect(),o=void 0,i=void 0;r.top+r.bottom<window.innerHeight?o=r.height:i=r.height,n.clearHoverTimeout(),n.hoverTimeout=setTimeout(function(){n.setState({hover:!0,top:o,bottom:i})},750)},n.onMouseLeave=function(){n.clearHoverTimeout(),n.hoverTimeout=setTimeout(function(){n.setState({hover:!1})},750)},i=a,o(n,i)}return i(t,y.default),p(t,[{key:"componentWillUnmount",value:function(){this.clearHoverTimeout()}},{key:"clearHoverTimeout",value:function(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)}},{key:"renderUserCard",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.userCards[a.getEntity(t).getData().userId],r=this.state,o=r.hover,i=r.top,s=r.bottom;return n&&o?_.default.createElement(E.default,{user:n,top:i,bottom:s}):null}},{key:"render",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.children,r=a.getEntity(t).getData().userId;return _.default.createElement("span",{className:this.ss("mention-wrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_.default.createElement("a",{className:this.ss("link"),href:S.default.DEFAULT_URL+"/u/"+r},n),this.renderUserCard())}}]),t}(),d.propTypes={entityKey:v.default.string.isRequired,contentState:v.default.object.isRequired,children:v.default.any.isRequired,userCards:v.default.object,fetchUserCard:v.default.func},c=f))||c)||c)};t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(0)),m=n(a(2)),h=n(a(1)),_=a(12),g=n(a(568)),v=n(a(43)),y=n(a(16)),b=n(a(22)),w=n(a(3)),E=n(a(363)),S=n(a(7)),O=n(a(364)),k=a(183),T=(s=(0,w.default)(E.default),l=(0,S.default)(O.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"onAvatarClick",value:function(e){(0,_.pauseEvent)(e);var t="/u/"+this.props.user.id;window.open(t,"_blank")}},{key:"renderProjects",value:function(){var e=this,t=this.props.user.projects;if(!t||0===t.length)return null;var a=t.map(function(t){var a=t.id,n=t.thumbnail;return p.default.createElement("div",{key:a,className:e.ss("project-thumbnail")},p.default.createElement(y.default,{src:n&&n.url||k,sizes:"80px"}))});return p.default.createElement("div",{className:this.ss("projects")},a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.top,r=t.bottom,o=g.default.getCoverImage(a);return p.default.createElement("div",{className:this.ss("user-card"),style:{top:n,bottom:r},contentEditable:!1,onClick:function(t){return e.onAvatarClick(t)}},p.default.createElement("div",{className:this.ss("content-wrapper")},p.default.createElement("div",{className:this.ss("cover-image")},p.default.createElement(y.default,{src:o,sizes:"300px"})),p.default.createElement("div",{className:this.ss("avatar-area")},p.default.createElement(v.default,{user:a,size:"xlarge"})),p.default.createElement("div",{className:this.ss("card-desc")},p.default.createElement("div",{className:this.ss("card-desc-top")},p.default.createElement("div",{className:this.ss("card-name")},a.fullName),p.default.createElement("div",{className:this.ss("card-title")},a.title),p.default.createElement("div",{className:this.ss("social-wrapper")},p.default.createElement(b.default,{text:this.__("followers_count"),position:"bottom"},p.default.createElement("div",{className:this.ss("followers")},p.default.createElement("div",{className:this.ss("icon","ifont","ifont-followers-icon")}),p.default.createElement("div",{className:this.ss("followers-count")},(0,_.formatNumber)(a.followCount)))),p.default.createElement("div",{className:this.ss("divider")}),p.default.createElement(b.default,{text:this.__("likes_count"),position:"bottom"},p.default.createElement("div",{className:this.ss("likes")},p.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-heart")}),p.default.createElement("div",{className:this.ss("likes-count")},(0,_.formatNumber)(a.likeCount))))),this.renderProjects()))))}}]),t}(),c.propTypes={user:m.default.object,top:m.default.number,bottom:m.default.number},u=d))||u)||u);t.default=T},function(e,t,a){e.exports=a.p+"../styles/i/covers/cover1.11afc8808f4eb99ed42e5d990061d7a3.jpg"},function(e,t,a){e.exports=a.p+"../styles/i/covers/cover2.862db3f5daf7c6eb0c25a59086b58be5.jpg"},function(e,t,a){e.exports=a.p+"../styles/i/covers/cover3.b987e978934b1adfff96cff52cacea49.jpg"},function(e,t){e.exports={"user-card":"user-card_3QHGjl9W","content-wrapper":"content-wrapper_y4fqw5HR","cover-image":"cover-image_GV8vL2SY","avatar-area":"avatar-area_2kl-G2hH","card-desc":"card-desc_1-Nxhfja","card-desc-top":"card-desc-top_Qlffgx87","card-name":"card-name_Es-BaLPy","card-title":"card-title__wHs7SEq","social-wrapper":"social-wrapper_2PXzroBm",followers:"followers_eEDdPtME",likes:"likes_6srmNub_",icon:"icon_3luINJmE",divider:"divider_1Khef2S2",projects:"projects__9zoCfZp","project-thumbnail":"project-thumbnail_2mUQBu2q"}},function(e,t){e.exports={followers_count:"followers_count_1b1g",likes_count:"likes_count_2G8K"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["draft.setEditorState"],["draft.setEditorState"]),g=s(["editor.mentionLearnToolbars.",""],["editor.mentionLearnToolbars.",""]),v=s(["editor.showMentionLearnToolbar"],["editor.showMentionLearnToolbar"]),y=s(["editor.hideMentionLearnToolbar"],["editor.hideMentionLearnToolbar"]),b=s(["editor.moveToMentionLearnItem"],["editor.moveToMentionLearnItem"]),w=s(["learnSuggest.fetchCandidates"],["learnSuggest.fetchCandidates"]),E=s(["learnSuggest.candidate"],["learnSuggest.candidate"]),S=n(a(0)),O=n(a(19)),k=n(a(2)),T=n(a(1)),P=a(6),C=a(4),j=a(5),I=n(a(16)),M=a(10),N=n(a(69)),D=n(a(3)),x=n(a(131)),R=(l=(0,P.decorator)({editorState:(0,C.state)(m,(0,C.props)(h)),setEditorState:(0,C.signal)(_),mentionLearnToolbarState:(0,C.state)(g,(0,C.props)(h)),showMentionLearnToolbar:(0,C.signal)(v),hideMentionLearnToolbar:(0,C.signal)(y),moveToMentionLearnItem:(0,C.signal)(b),fetchCandidates:(0,C.signal)(w),suggestCandidate:(0,C.state)(E)}),u=(0,D.default)(x.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onMouseDown=function(e){e.preventDefault();var t=n.props,a=t.mentionLearnToolbarState,r=t.suggestCandidate,o=t.editorKey,i=t.editorState,s=t.setEditorState,l=a.prefix,u=a.index,c=r.learn,d=c.length;s({editorKey:o,editorState:(0,M.addLearnMention)(i,l,c[(u%d+d)%d])})},n.onMouseEnter=function(e){var t=n.props,a=t.editorKey;(0,t.moveToMentionLearnItem)({editorKey:a,index:e})},i=a,o(n,i)}return i(t,T.default),p(t,[{key:"componentDidUpdate",value:function(e){var t=e.editorState,a=this.props,n=a.editorState,r=a.editorKey,o=a.showMentionLearnToolbar,i=a.hideMentionLearnToolbar,s=a.fetchCandidates,l=t.getSelection(),u=n.getSelection();if(l!==u)if(u.isCollapsed()&&u.getHasFocus()){var c=n.getCurrentContent(),d=u.getFocusKey(),f=c.getBlockForKey(d),p=u.getFocusOffset();if("atomic"!==f.getType()&&"code-block"!==f.getType()){for(var m="",h=p-1;h>=0&&h>=p-20&&!(f.getEntityAt(h)||/\s/.test(f.getText()[h])&&" "!==f.getText()[h]);h--)if("#"===f.getText()[h]){(0===h||f.getEntityAt(h-1)||/\s/.test(f.getText()[h-1]))&&h+1<p&&(m=f.getText().substring(h+1,p));break}if(m){var _=(0,M.getLeafOffsetKeyAndOffset)(n,d,p-1-m.length),g=_.offsetKey,v=_.offset,y=(0,M.getLeafBoundingClientRect)(r,g,v),b=O.default.findDOMNode(this),w=((0,N.default)(b.parentElement)||document.body).getBoundingClientRect();if(y.top+y.bottom<window.innerHeight){var E=y.bottom-w.top+5,S=y.left-w.left;o({editorKey:r,top:Math.round(E),left:Math.round(S),prefix:m})}else{var k=w.bottom-y.top+5,T=y.left-w.left;o({editorKey:r,bottom:Math.round(k),left:Math.round(T),prefix:m})}s({q:m,st:"learn"})}else i({editorKey:r})}else i({editorKey:r})}else i({editorKey:r})}},{key:"renderCandidate",value:function(e,t,a){var n=this;return S.default.createElement("div",{className:this.ss("candidate",a&&"active"),key:e.id,onMouseEnter:function(){return n.onMouseEnter(t)},onMouseDown:this.onMouseDown},S.default.createElement("div",{className:this.ss("avatar")},S.default.createElement(I.default,{src:(0,j.get)(e,"thumbnail.url"),sizes:"56px",height:32,width:56})),S.default.createElement("span",{className:this.ss("name")},"#",e.title))}},{key:"renderCandidates",value:function(){var e=this,t=this.props,a=t.mentionLearnToolbarState,n=t.suggestCandidate,r=[];if(a&&"learn"===n.st&&n.q===a.prefix&&n.learn&&(r=n.learn),!r.length)return null;var o=r.length,i=(a.index%o+o)%o;return S.default.createElement("div",{className:this.ss("candidates")},r.map(function(t,a){return e.renderCandidate(t,a,a===i)}))}},{key:"render",value:function(){var e=this.props.mentionLearnToolbarState,t=!!e,a=e&&{top:e.top,bottom:e.bottom,left:e.left};return S.default.createElement("div",{className:this.ss("mention-toolbar",t&&"show"),style:a},this.renderCandidates())}}]),t}(),d.propTypes={editorKey:k.default.string.isRequired,editorState:k.default.object,mentionLearnToolbarState:k.default.object,suggestCandidate:k.default.object,showMentionLearnToolbar:k.default.func,hideMentionLearnToolbar:k.default.func,moveToMentionLearnItem:k.default.func,fetchCandidates:k.default.func,setEditorState:k.default.func},c=f))||c)||c);t.default=R},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["editor.mentionLearnCards"],["editor.mentionLearnCards"]),h=s(["editor.fetchMentionLearnCard"],["editor.fetchMentionLearnCard"]),_=s(["currentHost"],["currentHost"]),g=n(a(0)),v=n(a(19)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(4),S=n(a(367)),O=a(9),k=n(a(18)),T=n(a(3)),P=n(a(131)),C={strategy:function(e,t,a){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"MENTIONLEARN"===a.getEntity(t).getType()},t)},component:(l=(0,w.decorator)({learnCards:(0,E.state)(m),fetchMentionLearnCard:(0,E.signal)(h),currentHost:(0,E.state)(_)}),u=(0,T.default)(P.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hover:!1,top:void 0,bottom:void 0},n.onMouseEnter=function(){var e=n.props,t=e.entityKey,a=e.contentState,r=e.fetchMentionLearnCard,o=a.getEntity(t).getData().learnItemId,i=(0,O.GetTypeIdByItemId)(o);r({id:i.id,type:i.type});var s=v.default.findDOMNode(n).getBoundingClientRect(),l=void 0,u=void 0;s.top+s.bottom<window.innerHeight?l=s.height:u=s.height,n.clearHoverTimeout(),n.hoverTimeout=setTimeout(function(){n.setState({hover:!0,top:l,bottom:u})},750)},n.onMouseLeave=function(){n.clearHoverTimeout(),n.hoverTimeout=setTimeout(function(){n.setState({hover:!1})},750)},i=a,o(n,i)}return i(t,b.default),p(t,[{key:"componentWillUnmount",value:function(){this.clearHoverTimeout()}},{key:"clearHoverTimeout",value:function(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)}},{key:"renderLearnCard",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.learnCards,r=a.getEntity(t).getData().learnItemId,o=n[(0,O.GetTypeIdByItemId)(r).id],i=this.state,s=i.hover,l=i.top,u=i.bottom;return o&&s?g.default.createElement(S.default,{learn:o,top:l,bottom:u}):null}},{key:"render",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.children,r=e.currentHost,o=a.getEntity(t).getData().learnItemId,i=(0,O.GetTypeIdByItemId)(o),s=i.id,l=i.type;return g.default.createElement("span",{className:this.ss("mention-wrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},g.default.createElement("a",{className:this.ss("link"),target:"_blank",href:(0,k.default)("/"+l+"/"+s,r)},n),this.renderLearnCard())}}]),t}(),d.propTypes={entityKey:y.default.string.isRequired,contentState:y.default.object.isRequired,children:y.default.any.isRequired,learnCards:y.default.object,currentHost:y.default.string,fetchMentionLearnCard:y.default.func},c=f))||c)||c)};t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(0)),m=n(a(2)),h=n(a(1)),_=a(5),g=a(12),v=n(a(16)),y=n(a(44)),b=n(a(38)),w=n(a(47)),E=a(9),S=n(a(3)),O=n(a(368)),k=n(a(7)),T=n(a(369)),P=(s=(0,S.default)(O.default),l=(0,k.default)(T.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"onCardClick",value:function(e){(0,g.pauseEvent)(e);var t=this.props.learn,a=t.id,n=t.type;(0,w.default)("/"+n+"/"+a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.learn,n=t.top,r=t.bottom,o=a||{},i=o.title,s=o.type,l=o.skillLevel,u=(0,_.get)(a,"withManual")?(0,_.get)(a,"manualDuration"):(0,_.get)(a,"duration");return p.default.createElement("div",{className:this.ss("learn-card-wrapper"),style:{top:n,bottom:r},contentEditable:!1,onClick:function(t){return e.onCardClick(t)}},p.default.createElement("div",{className:this.ss("learn-card"),onClick:this.onClick},p.default.createElement("div",{className:this.ss("card-img")},p.default.createElement(v.default,{src:(0,_.get)(a,"thumbnail.url"),sizes:"280px",height:160,width:280})),p.default.createElement("div",{className:this.ss("card-content")},p.default.createElement("div",{className:this.ss("content-des")},p.default.createElement("div",{className:this.ss("title")},i),p.default.createElement("div",{className:this.ss("info")},this.__("type_"+s),p.default.createElement("div",{className:this.ss("dot")}),(0,E.GetSkillLevelText)(this.context,l),p.default.createElement("div",{className:this.ss("dot")}),p.default.createElement(b.default,{duration:u,theme:"minute"}))),p.default.createElement(y.default,{data:a}))))}}]),t}(),c.propTypes={learn:m.default.object,top:m.default.number,bottom:m.default.number},u=d))||u)||u);t.default=P},function(e,t){e.exports={"learn-card-wrapper":"learn-card-wrapper_3qsvh6Vs","complete-icon":"complete-icon_3H6KBEPN","learn-card":"learn-card_1kwhSL3u","card-img":"card-img_1vvtdUAk","collect-wrap":"collect-wrap_2mWWbykl","card-content":"card-content_1QS2bBsy","content-des":"content-des_2aJ0sCP8",title:"title_2-E3sWzp",info:"info_Zb8QEn5V",dot:"dot_1Qvd5BHY"}},function(e,t){e.exports={type_quiz:"type_quiz_vh_1",type_tutorial:"type_tutorial_cOzx",type_project:"type_project_1mIj",type_course:"type_course_3wUV"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly,n=e.registerActionPath;if(!t)throw new Error("editorKey is empty");return{onChange:a?void 0:function(e,t){var a=t.getEditorState,r=t.getProps,o=a();if(!o||o.getCurrentContent()!==e.getCurrentContent()){var i=r().controller,s=n||"editor.draftChanged",l=e.getCurrentContent().getPlainText();i.getSignal(s)({value:l&&l.trim()})}return e}}}},function(e,t){e.exports={"container-wrap":"container-wrap_ZH4_4VPI","size-medium":"size-medium_2xfQYT77",radio:"radio_zmNEI--x",radioInner:"radioInner_2XbzgXOB","size-small":"size-small_W9G7cN6q",container:"container_2vk1nNna",disabled:"disabled_43YZ0nf8",active:"active_1nKuwA6A",label:"label_20_tXt0Z",light:"light_29_nTCs-",hintLabel:"hintLabel_3pXyjYCE"}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.props,a=e.state,n=e.controller,r=t.options,o=void 0===r?{}:r,i=b.default.getCriteria(a),s={};Object.keys(i).forEach(function(e){s[e]=""});var l=t.query;n.getSignal("search.searchCall")(h({},b.default.updateCriteria(a,h({},s,l)),{options:h({},o,{isPOP:!0})}))}function i(e){var t=e.props,a=e.state,n=t.value,r=(0,w.get)(t,"key",S.CriteriaKeys.query),o={type:r,value:n};b.default.removeKeywordByKey({key:r},a),b.default.appendKeyword({candidate:o},a)}function s(e){var t=e.props,a=e.state;b.default.updateCriteria(a,{ob:t.value})}function l(e){var t=e.props,a=e.state;b.default.updateCriteria(a,{tod:t.value})}function u(e){var t=e.props,a=e.state;b.default.updateCriteria(a,{u:t.value})}function c(e){var t=e.state;b.default.updateCriteria(t,{u:""})}function d(e){var t=e.props,a=e.state,n=t.itemId;n&&b.default.updateCriteria(a,{itemId:n})}function f(e,t){return{schema:e,request:{endpoint:t,method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.config,n=(0,w.get)(a,"request.params",{}),r=b.default.getCriteria(t),o=t.get("search.pageSize"),i=t.get("userPremium");return{params:h({},n,r,{pageSize:o,prm:i})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=(0,E.ParseKeyword)(n.get("search.criteria.k")),o=(0,w.get)(r,"queries",[]).join(" ");if(200===t&&a&&o===a.text){n.merge("search",a);var i=(0,w.get)(a,"learner");n.merge("learner",i)}}}}function p(e,t){return{schema:e,request:{endpoint:t,method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.config,n=(0,w.get)(a,"request.params",{}),r=b.default.getCriteria(t),o=parseInt(t.get("search.page"),10),i=1;o&&(i=o+1);var s=t.get("search.pageSize"),l=t.get("userPremium");return{params:h({},n,r,{page:i,pageSize:s,prm:l})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){n.concat("search.results",a.results||[]),n.merge("search.quizMap",a.quizMap||{}),n.merge("search.projectMap",a.projectMap||{}),n.merge("search.tutorialMap",a.tutorialMap||{}),n.merge("search.userMap",a.userMap||{}),n.merge("search.statsMap",a.statsMap||{}),n.merge("search.industryMap",a.industryMap||{}),n.merge("search.topicMap",a.topicMap||{}),n.set("search.criteria",a.criteria),n.set("search.page",a.page),n.set("search.pageSize",a.pageSize),n.set("search.text",a.text),n.set("search.total",a.total);var r=(0,w.get)(a,"learner")||{};n.merge("learner.collectMap",r.collectMap||{}),n.merge("learner.likeMap",r.likeMap||{}),n.merge("learner.quizMap",r.quizMap||{}),n.merge("learner.recordMap",r.recordMap||{})}}}}function m(t){function a(e){var t=e.props,a=e.state,n=e.search,r=t.options,o=void 0===r?{}:r;if(!0!==(o=h({},S,o)).skipSyncToLocation){var i=b.default.getCriteria(a);if(!0===o.includeTab){var s=a.get("common.tab");i=h({},i,{tab:s})}o.isPOP||n.syncToHistory({criteria:i})}}var n=t.apiURL,m=t.ignoreKeys,w=t.searchSchema,E=t.loadMoreSchema,S=t.defaultOptions;m=m||k,S=S||{};var T=f(w,n),P=p(E,n),C=[a].concat(r((0,y.CallHTTP)(T)));return{name:e,depends:[],signals:{searchCall:(0,y.CallHTTP)(T),syncFromLocation:[o],syncToLocation:[a],changeSearchKeyword:[i],changeSearchKeywordCall:[i].concat(r(C)),checkKeyword:[function(e){var t=e.props,a=e.state,n=t.value,r=t.checked,o={type:t.key,value:n};r?b.default.appendKeyword({candidate:o},a):b.default.removeKeyword({candidate:o},a)}].concat(r(C)),removeKeywordByKey:[function(e){var t=e.props,a=e.state;b.default.removeKeywordByKey(t,a)}].concat(r(C)),clearKeyword:[function(e){var t=e.state;b.default.updateCriteria(t,{k:JSON.stringify([])})}].concat(r(C)),clearSearchFilters:[function(e){var t=e.state,a=e.props.criteria||{k:JSON.stringify([])};b.default.updateCriteria(t,a)},d].concat(r(C)),changeOwnerId:[u].concat(r(C)),removeOwnerId:[c].concat(r(C)),changeOrderBy:[s].concat(r(C)),changeItemId:[d].concat(r(C)),changeTimeOfDay:[l].concat(r(C)),getCalendarList:[function(e){var t=e.props,a=e.state,n=t.period;b.default.updateCriteria(a,{period:n,tod:"",k:JSON.stringify([])})}].concat(r((0,y.CallHTTP)(T))),doSearch:C,presetCriteriaSearch:[function(e){var t=e.state,a=e.props;b.default.updateCriteria(t,a.criteria)}].concat(r(C)),loadMore:(0,y.CallHTTP)(P),clearSearchStore:[function(e){e.state.set(["search"],{criteria:{}})}]},getServices:function(e){var t=(0,g.default)((0,v.default)(_.default))({basename:window.location.pathname});return t.listen(function(t){O&&"POP"===t.action&&!0!==S.skipSyncFromLocation&&e.getSignal("search.syncFromLocation")({query:t.query})}),O=!0,{syncToHistory:function(e){var a=e.criteria,n=h({},a);m.forEach(function(e){n[e]&&delete n[e]}),t.push({pathname:"/",query:n})}}},getState:function(){return{criteria:{}}}}}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.GetSearchConfig=f,t.GetLoadMoreConfig=p,t.SyncSearchStatsCommentCount=function(e,t,a){var n=["search","statsMap",t,"commentCount"],r=e.get(n)+a;e.set(n,r)},t.GetSearchStore=m;var _=n(a(76)),g=n(a(77)),v=n(a(78)),y=a(11),b=n(a(389)),w=a(5),E=a(9),S=a(8),O=!1,k=["page","u","open","tod","prm","itemId"],T=m({apiURL:"/api/learn/search",searchSchema:S.LEARNER_SEARCH,loadMoreSchema:S.SEARCH_LOAD_MORE});t.default=T}).call(t,"views/learn/modules/search/SearchStore.js")},function(e,t){e.exports={statusBar:"statusBar_2AjgPJ_Q",searchInProgress:"searchInProgress_3TvZGExK",loading:"loading_VTnlnpjY","button-more":"button-more_1Q6rCr8d"}},function(e,t){e.exports={more:"more_-sLW"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["userGroups"],["userGroups"]),g=s(["search"],["search"]),v=s(["topics.tagIds"],["topics.tagIds"]),y=s(["topics.tagMap"],["topics.tagMap"]),b=s(["industries.tagIds"],["industries.tagIds"]),w=s(["industries.tagMap"],["industries.tagMap"]),E=s(["unityVersions.versionIds"],["unityVersions.versionIds"]),S=s(["unityVersions.versionMap"],["unityVersions.versionMap"]),O=s(["option.supportedLanguages"],["option.supportedLanguages"]),k=s(["adminLanguages"],["adminLanguages"]),T=s(["tutorialExercises"],["tutorialExercises"]),P=s(["search.doSearch"],["search.doSearch"]),C=s(["search.changeOwnerId"],["search.changeOwnerId"]),j=s(["search.removeOwnerId"],["search.removeOwnerId"]),I=s(["search.changeSearchKeyword"],["search.changeSearchKeyword"]),M=s(["search.changeSearchKeywordCall"],["search.changeSearchKeywordCall"]),N=s(["search.changeDuration"],["search.changeDuration"]),D=s(["search.checkKeyword"],["search.checkKeyword"]),x=s(["search.changeOrderBy"],["search.changeOrderBy"]),R=s(["search.changeItemId"],["search.changeItemId"]),F=s(["search.removeKeywordByKey"],["search.removeKeywordByKey"]),A=n(a(2)),L=n(a(0)),K=n(a(1)),q=a(6),z=a(4),U=a(5),B=n(a(34)),H=n(a(80)),V=n(a(176)),G=n(a(136)),W=a(177),Q=a(8),J=a(9),Y=a(27),Z=a(12),X=a(75),$=n(a(3)),ee=n(a(383)),te=n(a(7)),ae=n(a(53)),ne=n(a(142)),re=a(377),oe={normal:"normal",radio:"radio",multiple:"multiple"},ie=(l=(0,q.decorator)({userGroups:(0,z.state)(_),search:(0,z.state)(g),topicIds:(0,z.state)(v),topicMap:(0,z.state)(y),industryIds:(0,z.state)(b),industryMap:(0,z.state)(w),versionIds:(0,z.state)(E),versionMap:(0,z.state)(S),supportedLanguages:(0,z.state)(O),adminLanguages:(0,z.state)(k),tutorialExercises:(0,z.state)(T),doSearch:(0,z.signal)(P),changeOwnerId:(0,z.signal)(C),removeOwnerId:(0,z.signal)(j),changeSearchKeyword:(0,z.signal)(I),changeSearchKeywordCall:(0,z.signal)(M),changeDuration:(0,z.signal)(N),checkKeyword:(0,z.signal)(D),changeOrderBy:(0,z.signal)(x),changeItemId:(0,z.signal)(R),removeKeywordByKey:(0,z.signal)(F)}),u=(0,$.default)(ee.default),c=(0,te.default)(ae.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={activeKey:null,hideMoreFilters:!0},n.onChangeKeyword=function(e,t,a,r,o){var i=n.props,s=i.checkKeyword,l=i.changeSearchKeywordCall,u=i.search,c=i.searchOptions,d=!((0,J.ParseKeywordMap)((0,U.get)(u,"criteria.k"))[r+":"+a]>=0),f={value:a,key:r,options:c};o===oe.radio?l(f):s(m({},f,{checked:d}))},n.onChangeOrderBy=function(e,t,a,r){e&&(0,Z.pauseEvent)(e),n.onCloseFilter(r),n.props.changeOrderBy({value:a})},n.onChangeItemId=function(e,t,a,r){e&&(0,Z.pauseEvent)(e),n.onCloseFilter(r),n.props.changeItemId({itemId:a})},n.onRemoveKeywordByKey=function(e,t){e&&(0,Z.pauseEvent)(e);var a=n.props,r=a.searchOptions,o=a.removeKeywordByKey,i=a.changeOrderBy;t===Q.CriteriaKeys.orderBy?i({value:""}):o({key:t,options:r})},n.onChangeText=function(e,t){var a=n.props.searchOptions;n.props.changeSearchKeyword({value:t,key:Q.CriteriaKeys.query,options:a})},n.onClear=function(e){e&&n.props.changeSearchKeywordCall({value:"",key:Q.CriteriaKeys.query})},n.onCloseFilter=function(e){e===n.state.activeKey&&n.setState({activeKey:null})},n.onSearchKeyDown=function(e){if(e&&13===e.keyCode){var t=n.props.searchOptions;n.props.doSearch({options:t})}},n.onSelectedOwnerId=function(e){var t=e.id,a=n.props.changeOwnerId;a&&a({value:t})},n.onRemoveOwnerId=function(){var e=n.props.removeOwnerId;e&&e()},i=a,o(n,i)}return i(t,K.default),h(t,[{key:"getConfigByKey",value:function(e,t){var a=this,n=this,r=this.props,o=r.optionType,i=r.supportedLanguages,s=r.adminLanguages,l=r.userGroups,u=n.onChangeKeyword;t||(t=oe.multiple);var c=[];switch(e){case Q.CriteriaKeys.skillLevel:c=Q.SkillLevelTypes;break;case Q.CriteriaKeys.language:c="creator"===o&&(0,X.isLearnAdminEditorAll)(l)?s:i;break;case Q.CriteriaKeys.type:c=Q.DataTypes,"creator"===o&&(c=Q.DataTypesAdmin),"architecture"===o&&(c=Q.ArchitectureDataTypesAdmin);break;case Q.CriteriaKeys.duration:c=Q.FilterDurationTypes,t=oe.radio;break;case Q.CriteriaKeys.instruction:c=Q.FilterInstructionTypes,t=oe.radio;break;case Q.CriteriaKeys.premium:c=Q.FilterPremiumTypes;break;case Q.CriteriaKeys.hidden:c=Q.FilterHiddenTypes;break;case Q.CriteriaKeys.status:c=Q.FilterStatusTypes;break;case Q.CriteriaKeys.orderBy:c=Q.FilterPopularTypes,u=n.onChangeOrderBy,t=oe.normal;break;case Q.CriteriaKeys.ageRange:c=Q.FilterAgeRangeOptions,t=oe.radio}return{selects:c.map(function(t){return{text:a.__(e+"_"+t),value:t}}),onChange:u,selectItemType:t}}},{key:"renderSearchBar",value:function(){var e=this,t=this.props.search,a=(0,J.ParseKeyword)((0,U.get)(t,"criteria.k")),n=(0,U.get)(a,"queries[0]");return L.default.createElement("div",{className:this.ss("filter-item","input-item")},L.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-icons-search")}),L.default.createElement("div",{className:this.ss("search-input")},L.default.createElement(B.default,{theme:"transparent-inherit",size:"medium",value:n,placeholder:this.__("search_placeholder"),onChange:this.onChangeText,onKeyDown:this.onSearchKeyDown,onClear:function(){return e.onClear(n)}})))}},{key:"renderSelectItem",value:function(e,t,a,n){if(!e)return null;var r=void 0,o=e.value,i=e.text,s=a[t+":"+o]>=0,l=L.default.createElement("div",{className:this.ss("select-item-label")},i);switch(n){case oe.normal:r=L.default.createElement("div",{className:this.ss("normal-item",s&&"checked")},l);break;case oe.radio:r=L.default.createElement(V.default,{label:l,isChecked:s});break;default:r=L.default.createElement(H.default,{label:l,checked:s})}return L.default.createElement("div",{className:this.ss("item-wrapper",n)},r)}},{key:"renderFilterItem",value:function(e,t,a,n){var r=this,o=this.state.hideMoreFilters,i=this,s=null,l=i.state.activeKey;return l===a&&(s=L.default.createElement("div",{className:this.ss("expand-wrapper",a)},n)),L.default.createElement("div",{className:this.ss("filter-item",t,a,o&&"more-hide"),key:a},L.default.createElement(Y.ClickOutsideWrap,{onClickOutside:function(){return i.onCloseFilter(a)}},L.default.createElement("div",{className:this.ss("filter-item-inner")},L.default.createElement("div",{className:this.ss("filter-item-label-content")},L.default.createElement("button",{className:this.ss("filter-item-button"),onClick:function(){i.setState({activeKey:a===l?null:a})}},L.default.createElement("div",{className:this.ss("label")},e),L.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_unfold")}),L.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(e){return r.onRemoveKeywordByKey(e,a)}}))),s)))}},{key:"renderSelectsOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments[2],n=arguments[3],r=arguments[4],o=arguments[5],i=arguments[6],s=L.default.createElement(G.default,{selects:e,renderItem:i,onSelect:function(e,a,n){return r(e,a,n,t,o)}});return this.renderFilterItem(a,n,t,s)}},{key:"renderKeywordOptionByKey",value:function(e){var t=this,a=e.keywordMap,n=e.key,r=e.filterType,o=e.config,i=e.label,s=this;o||(o=s.getConfigByKey(n,r));var l=o,u=l.selects,c=l.onChange,d=l.selectItemType,f=Object.keys(a).filter(function(e){return e.startsWith(n+":")}),p=f.length;if(!i)if(i=p?"":this.__("select_"+n),u.length===p)i=this.__(n+"_all");else{var m=", ";f.forEach(function(e,a){a===p-1&&(m="");var r=e.split(":");2===r.length&&(i+=t.__(n+"_"+r[1]),i+=m)})}var h=!!p&&d!==oe.normal&&"active";return this.renderSelectsOption(u,n,i,h,c,d,function(e){return s.renderSelectItem(e,n,a,d)})}},{key:"renderTagsOption",value:function(e,t,a){var n=this,r=this.props,o=r.topicIds,i=r.topicMap,s=r.industryIds,l=r.industryMap,u=r.versionIds,c=r.versionMap,d=[];switch(t){case Q.CriteriaKeys.tag:d=o.map(function(e){return{text:(0,U.get)(i,e+".name"),value:e}});break;case Q.CriteriaKeys.industry:d=s.map(function(e){return{text:(0,U.get)(l,e+".name"),value:e}});break;case Q.CriteriaKeys.uv:d=u.map(function(e){return{text:(0,U.get)(c,e+".name"),value:(0,U.get)(c,e+".id")}}),a=oe.radio}var f=Object.keys(e).filter(function(e){return e.startsWith(t+":")}),p=f.length,m=void 0;if(p&&a===oe.radio){var h=f[0].split(":")[1];m=(0,U.get)(d.find(function(e){return e.value===h}),"text")}m||(m=this.__(p?"selected_"+t:"select_"+t,{count:p}));var _=!!p&&"active";return this.renderSelectsOption(d,t,m,_,n.onChangeKeyword,a,function(r){return n.renderSelectItem(r,t,e,a)})}},{key:"renderFilterSelects",value:function(e){var t=this,a=e,n=this.props.search,r=(0,J.ParseKeywordMap)((0,U.get)(n,"criteria.k")),o=[];return a.forEach(function(e){var a=e.selectType,i=e.filterType;if(a===Q.CriteriaKeys.tag||a===Q.CriteriaKeys.industry||a===Q.CriteriaKeys.uv)o.push(t.renderTagsOption(r,a,i));else if(a===Q.CriteriaKeys.orderBy){var s=(0,U.get)(n,"criteria."+Q.CriteriaKeys.orderBy,Q.FilterPopularTypes[0]);s&&(r[Q.CriteriaKeys.orderBy+":"+s]=!0),o.push(t.renderKeywordOptionByKey({keywordMap:r,key:a,filterType:i}))}else o.push(t.renderKeywordOptionByKey({keywordMap:r,key:a,filterType:i}))}),o}},{key:"renderUserSearch",value:function(e){var t=this,a=e.key,n=this.props,r=n.userGroups,o=n.search;if(!(0,X.isLearnAdminEditorAll)(r))return null;var i=(0,J.ParseKeywordMap)((0,U.get)(o,"criteria.k")),s=Object.keys(i).filter(function(e){return e.startsWith(a+":")}),l=[];if(s.length>0){var u=s[0].split(":")[1]||"";l.push(u)}return L.default.createElement("div",{className:this.ss("filter-item","input-item"),key:"owner-filter"},L.default.createElement("div",{className:this.ss("search-input")},L.default.createElement(W.UserAutoComplete,{inputTheme:"transparent-inherit",size:"medium",idToCandidateMap:(0,U.get)(o,"userMap",{}),selectedIds:l,resultTheme:"full-primary",hintText:this.__("owner_placeholder"),onSelected:function(e){var n=e.id;return t.onChangeKeyword(null,0,n,a)},onRemove:function(){return t.onRemoveKeywordByKey(null,a)}})))}},{key:"renderExercisesFilter",value:function(){var e=this,t=e.props,a=t.defaultItemId,n=t.search,r=e.props.tutorialExercises||[];if(!a)return null;var o=Q.CriteriaKeys.itemId,i={},s=(0,U.get)(n,"criteria."+o);s&&(i[o+":"+s]=!0);var l=this.__("all_exercises"),u=r.map(function(e){var t=(0,U.get)(e,"id"),a=(0,U.get)(e,"type"),n=(0,U.get)(e,"title"),r=(0,J.GetItemIdByType)({id:t,type:a});return r===s&&(l=n),{text:n,value:r}});u.unshift({text:this.__("all_exercises"),value:a});var c={selects:u,onChange:e.onChangeItemId,selectItemType:oe.normal};return e.renderKeywordOptionByKey({keywordMap:i,key:o,config:c,label:l})}},{key:"renderSubmissionOrderBy",value:function(){var e=this,t=e.props.search,a=Q.CriteriaKeys.orderBy,n={},r=(0,U.get)(t,"criteria."+a,Q.FilterSubmissionPopularTypes[0]);r&&(n[a+":"+r]=!0);var o="",i={selects:Q.FilterSubmissionPopularTypes.map(function(t){var n="";return n="collects"===t?e.__("submission_"+a+"_"+t):e.__(a+"_"+t),t===r&&(o=n),{text:n,value:t}}),onChange:e.onChangeOrderBy,selectItemType:oe.normal};return e.renderKeywordOptionByKey({keywordMap:n,key:a,config:i,label:o})}},{key:"renderLeftFilters",value:function(){var e=this,t=this.props.optionType,a=(0,U.get)(ne.default,t+".left")||[];if(0===a.length)return null;var n=this.state.hideMoreFilters,r=a.map(function(t){var a=t.split(":"),n=a[0],r=a[1],o=void 0;switch(n){case"search":o=e.renderSearchBar();break;case"owner":o=e.renderUserSearch({key:"u"});break;case"exercises":o=e.renderExercisesFilter();break;default:var i=(0,U.get)(Q.CriteriaKeys,n);if(!i)return null;o=e.renderFilterSelects([{selectType:i,filterType:r}])}return L.default.createElement("div",{key:t,className:e.ss("filter")},o)});if(r.length>1){var o=L.default.createElement("a",{key:"moreFilterLink",className:this.ss("filter-add"),onClick:function(){return e.setState({hideMoreFilters:!n})}},this.__(n?"filters_show":"filters_hide"));r.splice(1,0,o)}return L.default.createElement("div",{className:this.ss("filters-inner","left")},r)}},{key:"renderRightFilters",value:function(){var e=this,t=this.props.optionType,a=(0,U.get)(ne.default,t+".right",[]);if(0===a.length)return null;var n=a.map(function(t){var a=t.split(":"),n=a[0],r=a[1];if("submissionOrderBy"===t)return e.renderSubmissionOrderBy();var o=(0,U.get)(Q.CriteriaKeys,n);return o?e.renderFilterSelects([{selectType:o,filterType:r}]):null});return L.default.createElement("div",{className:this.ss("filters-inner","right")},n)}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.optionType,n=e.onCreate;return L.default.createElement("div",{className:this.ss("filters-selects-bar",t,a)},L.default.createElement("div",{className:this.ss("center","filters-selects-container")},this.renderLeftFilters(),this.renderRightFilters(),"architecture"===a&&L.default.createElement(re.ArchitectureCreateButton,{onCreate:n})))}}]),t}(),f.propTypes={userGroups:A.default.array,search:A.default.object,topicIds:A.default.array,topicMap:A.default.object,industryIds:A.default.array,industryMap:A.default.object,versionIds:A.default.array,versionMap:A.default.object,optionType:A.default.oneOf(["default","creator","search","landing","educators","submission","architecture","search_skill","mission"]),theme:A.default.oneOf(["default","dark"]),searchOptions:A.default.object,supportedLanguages:A.default.array,adminLanguages:A.default.array,defaultItemId:A.default.string,tutorialExercises:A.default.array,doSearch:A.default.func,changeOwnerId:A.default.func,removeOwnerId:A.default.func,changeSearchKeyword:A.default.func,changeSearchKeywordCall:A.default.func,changeDuration:A.default.func,checkKeyword:A.default.func,changeOrderBy:A.default.func,changeItemId:A.default.func,removeKeywordByKey:A.default.func,onCreate:A.default.func,searchType:A.default.string},f.defaultProps={optionType:"default",theme:"default",searchOptions:{}},d=p))||d)||d)||d);t.default=ie},function(e,t){e.exports={selects:"selects_2Ukdeiuu",selectItem:"selectItem_9BbOy9fg",scroller:"scroller_1pJRZzF5"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ArchitectureCreateButton=t.CreateButtons=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=s(["search"],["search"]),I=s(["search.doSearch"],["search.doSearch"]),M=s(["search.changeSearchKeyword"],["search.changeSearchKeyword"]),N=s(["search.changeSearchKeywordCall"],["search.changeSearchKeywordCall"]),D=s(["common.createByType"],["common.createByType"]),x=n(a(2)),R=n(a(0)),F=n(a(1)),A=a(6),L=a(4),K=a(5),q=n(a(136)),z=n(a(34)),U=n(a(15)),B=a(27),H=a(8),V=a(9),G=n(a(3)),W=n(a(384)),Q=n(a(7)),J=n(a(53)),Y=(l=(0,A.decorator)({search:(0,L.state)(j),doSearch:(0,L.signal)(I),changeSearchKeyword:(0,L.signal)(M),changeSearchKeywordCall:(0,L.signal)(N)}),u=(0,G.default)(W.default),c=(0,Q.default)(J.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onChange=function(e,t){n.props.changeSearchKeyword({value:t,key:H.CriteriaKeys.query})},n.onKeyDown=function(e){e&&13===e.keyCode&&n.props.doSearch()},n.onClear=function(e){e&&n.props.changeSearchKeywordCall({value:"",key:H.CriteriaKeys.query})},i=a,o(n,i)}return i(t,F.default),C(t,[{key:"renderSearchInput",value:function(e){var t=this,a=this.props.search,n=(0,V.ParseKeyword)((0,K.get)(a,"criteria.k")),r=(0,K.get)(n,"queries[0]");return R.default.createElement("div",{className:this.ss("search-input")},R.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-lrn_icon_search")}),R.default.createElement(z.default,{value:r,theme:"transparent-inherit",size:e,placeholder:this.__("search_input_placeholder"),onChange:this.onChange,onKeyDown:this.onKeyDown,onClear:function(){return t.onClear(r)}}))}},{key:"render",value:function(){var e=this.props,t=e.optionType,a=e.theme;return e.sticky?null:R.default.createElement("div",{className:this.ss("filters-search-input",a)},R.default.createElement("div",{className:this.ss("center","filters-search-container")},R.default.createElement("div",{className:this.ss("search-input-wrap")},R.default.createElement("div",{className:this.ss("pc")},this.renderSearchInput("xxxxlarge")),R.default.createElement("div",{className:this.ss("mobile")},this.renderSearchInput("xlarge"))),"creator"===t&&R.default.createElement(ee,null)))}}]),t}(),f.propTypes={search:x.default.object,doSearch:x.default.func,changeSearchKeyword:x.default.func,changeSearchKeywordCall:x.default.func,searchOptions:x.default.object,optionType:x.default.oneOf(["default","creator"]),theme:x.default.oneOf(["default"]),sticky:x.default.bool},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=Y;var Z=t.CreateButtons=(m=(0,A.decorator)({createByType:(0,L.signal)(D)}),h=(0,G.default)(W.default),_=(0,Q.default)(J.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={active:!1},n.onClose=function(){n.setState({active:!1})},i=a,o(n,i)}return i(t,F.default),C(t,[{key:"onSelect",value:function(e,t,a){var n=this.props.onCreate,r=!0;e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)&&(r=!1),n?n({type:a,skipPopup:r}):this.props.createByType({type:a,skipPopup:r})}},{key:"renderOption",value:function(e){var t=e.value,a=e.isLast;return R.default.createElement("div",{className:this.ss("create-item-wrap",!0!==a&&"border")},R.default.createElement("div",{className:this.ss("content")},R.default.createElement("div",{className:this.ss("create-title")},this.__("create_title_"+t)),R.default.createElement("div",{className:this.ss("create-introduction")},this.__("create_introduction_"+t))))}},{key:"renderButton",value:function(){var e=this,t=this.state.active,a=R.default.createElement("div",{className:this.ss("selects-button-content")},R.default.createElement("div",{className:this.ss("label")},this.__("create_new")),R.default.createElement("div",{className:this.ss("plus-icon")},R.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-plus")})));return R.default.createElement("div",{className:this.ss("selects-button")},R.default.createElement(U.default,{size:"large",label:a,onClick:function(){e.setState({active:!t})}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.buttonsMap,n=t.theme,r=null;return this.state.active&&(r=R.default.createElement("div",{className:this.ss("expand-wrapper")},R.default.createElement(q.default,{selects:a,renderItem:function(t){return e.renderOption(t)},onSelect:function(t,a,n){return e.onSelect(t,a,n)}}))),R.default.createElement("div",{className:this.ss("create-selects",n)},R.default.createElement(B.ClickOutsideWrap,{onClickOutside:function(){return e.onClose()}},R.default.createElement("div",{className:this.ss("selects-inner")},this.renderButton(),r)))}}]),t}(),v.propTypes={theme:x.default.oneOf(["default"]),buttonsMap:x.default.array,createByType:x.default.func,onCreate:x.default.func},v.defaultProps={theme:"default"},g=y))||g)||g)||g),X=H.DataTypesAdmin.map(function(e,t){return{value:e,text:e,isLast:t===H.DataTypesAdmin.length-1}}),$=H.ArchitectureDataTypesAdmin.map(function(e,t){return{value:e,text:e,isLast:t===H.DataTypesAdmin.length-1}}),ee=(b=(0,G.default)(W.default),w=(0,Q.default)(J.default),b(E=w(E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,F.default),C(t,[{key:"render",value:function(){return R.default.createElement(Z,{buttonsMap:X})}}]),t}())||E)||E);t.ArchitectureCreateButton=(S=(0,G.default)(W.default),O=(0,Q.default)(J.default),S(k=O((P=T=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,F.default),C(t,[{key:"render",value:function(){var e=this.props.onCreate;return R.default.createElement(Z,{buttonsMap:$,onCreate:e})}}]),t}(),T.propTypes={onCreate:x.default.func},k=P))||k)||k)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.props,a=e.state,n=e.upload,r=d({state:a,props:t});a.set([].concat(D,[r.id]),r),n.httpUpload(r)}function o(e){var t=e.props,a=e.state,n=e.upload,r=f(t.id,a),o=T({},r);o.loaded=0,o.total=0,o.speed=0,o.status=j.default.inProgress,delete o.err,a.set([].concat(D,[r.id]),o),n.httpUpload(o)}function i(e){var t=e.props,a=e.state,n=e.upload,r=d({state:a,props:t});a.set([].concat(D,[r.id]),r),n.httpUpload(r,0)}function s(e){var t=e.props,a=e.state,n=e.upload,r=f(t.id,a),o=T({},r);o.speed=0,o.status=j.default.inProgress,delete o.err;var i=t.result.end;i||(o.total=0),a.set([].concat(D,[r.id]),o),n.httpUpload(o,i)}function l(e){var t=e.controller,a=e.props,n=a.retryCount,r=void 0===n?0:n,o={id:a.id,err:a.err,retryCount:r+1};o.retryCount<=x?setTimeout(function(){t.getSignal("upload.uploadRecordAutoRetry")(o)},R):t.getSignal("upload.uploadFail")(o)}function u(e){var t=e.props,a=e.state,n=t.id;F[n]&&F[n].abort(),h(n,a)}function c(e){return{id:e.id||P.default.createNonce(),sort:e.sort||0,uploadType:e.uploadType||"",filename:e.file&&e.file.name||"",fileSize:e.file&&e.file.size||0,contentType:e.file&&e.file.type||"",width:e.width||0,height:e.height||0,dataUrl:e.dataUrl||"",url:e.url||"",title:e.title||"",file:e.file||{},location:e.location||"",loaded:0,speed:0,status:e.status||j.default.inProgress,itemId:e.itemId,itemType:e.itemType,contentId:e.contentId,language:e.language}}function d(e){var t=e.state,a=e.props,n=(0,N.get)(a,"upload")||{},r=(0,N.get)(a,"learnResourceType")||"",o=(0,N.get)(a,"result.location"),i=T({},n,{location:o}),s=void 0,l=void 0;if(r)l=r,r===M.DataTypeKeys.submission&&(s=t.get("submissionData.id"));else{var u=t.get("tutorialData")||t.get("quizData")||t.get("projectData")||t.get("courseData")||t.get("liveSessionData")||t.get("missionData")||t.get("pathwayData")||t.get("badgeData")||t.get("competencyData");s=(0,N.get)(u,"id"),l=(0,N.get)(u,"type")}return(0,N.merge)(i,{itemId:s,itemType:l}),c(i)}function f(e,t){return t.get([].concat(D,[e]))}function p(e,t){t.set([].concat(D,[e.id]),e)}function m(e,t){var a=f(e.id,t);t.set([].concat(D,[e.id]),T({},a,e))}function h(e,t){t.get([].concat(D,[e]))&&(t.unset([].concat(D,[e])),delete F[e])}function _(e){var t=e.props,a=e.http,n=e.path;return a.post("/api/resumableUpload",{fileName:t.upload.file.name,fileType:t.upload.file.type,fileSize:t.upload.file.size,private:!1}).then(n.success).catch(n.error)}function g(e){var t=e.props,a=e.state,n=e.http,r=e.path,o=f(t.id,a),i=encodeURIComponent(o.location);return n.get("/api/resumableUpload?location="+i).then(r.success).catch(r.error)}function v(e){p(e.props,e.state)}function y(e){var t=e.props,a=e.state,n=a.get([].concat(D,[t.id]));if(n){var r=0;if(n.processTime){var o=t.processTime-n.processTime;o<=0&&(o=1),r=1e3*(t.loaded-n.loaded)/o}t.speed=r,a.set([].concat(D,[n.id]),T({},n,t))}}function b(e){var t=e.props,a=e.state,n=t.id,r=t.result,o=r&&JSON.parse(r)||{};m({id:n,contentId:o.id,content:o,status:j.default.succeeded},a)}function w(e){var t=e.props,a=e.state;f(t.id,a)&&m({id:t.id,err:t.err,status:j.default.failed},a)}function E(e){var t=e.props,a=e.state,n=e.controller,r=f(t.id,a);if(r){var o=(0,I.getErrorMsg)("upload",r.err);n.getSignal("header.showMessage")({message:o})}}function S(e){var t=e.props,a=e.state;h(t.id,a)}function O(e){var t=e.controller,a=e.attachmentsAPIPath,n=e.apiPath,r=e.JSONTypes;return{httpUpload:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.file,s=e.fileSize,u=e.uploadType,c=e.location,d=e.filename,f=e.contentType,p=new XMLHttpRequest;if(p.open("POST",""+C.default.REQUEST_BASE_URL+(u&&n[u]||a),!0),p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.timeout=0,p.upload.addEventListener("progress",function(a){return t.getSignal("upload.uploadProgress")({id:e.id,loaded:a.loaded+o,total:a.total+o,processTime:Date.now()})}),p.addEventListener("timeout",function(){return t.getSignal("upload.uploadFail")({id:e.id})}),p.addEventListener("error",function(){return t.getSignal("upload.uploadFail")({id:e.id,err:"network_error"})}),p.addEventListener("abort",function(){return t.getSignal("upload.uploadAbort")({id:e.id})}),p.addEventListener("readystatechange",function(){if(p&&4===p.readyState)if(p.status>=200&&p.status<300)t.getSignal("upload.uploadComplete")({id:e.id,sort:e.sort,result:p.response});else if(502===p.status){var a={id:e.id,err:"network_error"};"videoattachment"===u?l({controller:t,props:a}):t.getSignal("upload.uploadFail")(a)}else p.status>0&&t.getSignal("upload.uploadFail")({id:e.id,err:JSON.parse(p.responseText)})}),-1!==r.indexOf(u)){p.setRequestHeader("Content-Type","application/json");var m={url:e.url,title:e.title};e.itemId&&(m.itemId=e.itemId),e.itemType&&(m.itemType=e.itemType),p.send(JSON.stringify(m))}else{var h=new FormData;e.itemId&&h.append("itemId",e.itemId),e.itemType&&h.append("itemType",e.itemType),e.contentId&&h.append("contentId",e.contentId),e.language&&h.append("language",e.language),h.append("fileName",d),h.append("fileType",f),h.append("size",s-o),h.append("offset",o.toString()),c&&(h.append("location",c),h.append("uploadMode","resumable")),0!==o?h.append("file",i.slice(o)):h.append("file",i),p.send(h)}F[e.id]=p}}}function k(t){var a=t.attachmentsAPIPath,n=t.apiPath,c=t.JSONTypes;return{name:e,depends:[],signals:{uploadAttachment:[r],retryUploadAttachment:[o],uploadRecord:[_,{success:[i],error:[]}],retryUploadRecord:[g,{success:[s],error:[]}],uploadRecordAutoRetry:[g,{success:[s],error:[l]}],cancelUploadAttachment:[u],uploadCreate:[v],uploadProgress:[y],uploadComplete:[b],uploadFail:[w,E],uploadAbort:[S]},getServices:function(e){return O({controller:e,attachmentsAPIPath:a,apiPath:n,JSONTypes:c})},getState:function(){return{uploads:{}}},getUpload:f}}Object.defineProperty(t,"__esModule",{value:!0});var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.GetUploadStore=k;var P=n(a(403)),C=n(a(30)),j=n(a(20)),I=a(12),M=a(8),N=a(5),D=["upload","uploads"],x=12,R=5e3,F={},A=k({attachmentsAPIPath:"/api/learn/attachments",apiPath:{thumbnail:"/api/learn/thumbnail",video:"/api/learn/tutorial/0/video",image:"/api/learn/tutorial/0/image",audio:"/api/learn/tutorial/0/audio",model3d:"/api/learn/tutorial/0/sketchfab",assetstore:"/api/learn/tutorial/0/asset",videoattachment:"/api/learn/tutorial/0/videoattachment",videosubtitle:"/api/learn/tutorial/0/videosubtitle"},JSONTypes:["video","audio","model3d","assetstore"]});t.default=A}).call(t,"views/learn/modules/upload/UploadStore.js")},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.EducatorInstructionTag=t.EducatorAgeRange=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=s(["loginUser"],["loginUser"]),T=s(["common.loginTo"],["common.loginTo"]),P=n(a(2)),C=n(a(0)),j=n(a(1)),I=a(6),M=a(4),N=a(5),D=a(10),x=n(a(38)),R=n(a(51)),F=a(133),A=n(a(3)),L=n(a(417)),K=n(a(7)),q=n(a(418)),z=(l=(0,I.decorator)({loginUser:(0,M.state)(k),loginTo:(0,M.signal)(T)}),u=(0,A.default)(L.default),c=(0,K.default)(q.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.leftSectionKeys=["description","outcome","objectives","alignment"],i=a,o(n,i)}return i(t,j.default),O(t,[{key:"renderSection",value:function(e){var t=e.key,a=this.props.data,n=(0,N.get)(a,"educatorPlan"),r=(0,N.get)(n,t);return r&&(0,D.convertFromRaw)(JSON.parse(r)).getPlainText()?C.default.createElement("div",{key:t,className:this.ss("section")},C.default.createElement("div",{className:this.ss("section-title")},this.__("section_title_"+t)),C.default.createElement("div",{className:this.ss("section-content")},C.default.createElement(R.default,{value:r,editorKey:"editorTutorialEducatorPlan_"+t,renderOnly:!0}))):null}},{key:"renderPreparationSection",value:function(){var e=this.props,t=e.data,a=e.disabled,n=(0,N.get)(t,"educatorPlan"),r=(0,N.get)(n,"preparation"),o=!0;r||(o=!1),(0,D.convertFromRaw)(JSON.parse(r)).getPlainText()||(o=!1);var i=(0,N.get)(n,"materials",[]);return o||0!==i.length?C.default.createElement("div",{className:this.ss("section")},C.default.createElement("div",{className:this.ss("section-title")},this.__("section_title_preparation")),C.default.createElement(F.Downloads,{theme:"educator",data:{materials:i,type:(0,N.get)(t,"type"),id:(0,N.get)(t,"id")},disabled:a}),o&&C.default.createElement("div",{className:this.ss("section-content")},C.default.createElement(R.default,{value:r,editorKey:"editorTutorialEducatorPlan_preparation",renderOnly:!0}))):null}},{key:"renderDetailLeft",value:function(){var e=this;return C.default.createElement("div",{className:this.ss("column")},C.default.createElement("div",{className:this.ss("left-column")},this.leftSectionKeys.map(function(t){return e.renderSection({key:t})})))}},{key:"renderDetailRight",value:function(){var e=this.props.data,t=(0,N.get)(e,"educatorPlan");return C.default.createElement("div",{className:this.ss("column")},C.default.createElement("div",{className:this.ss("right-column")},this.renderPreparationSection(),C.default.createElement("div",{className:this.ss("tag-wrap")},C.default.createElement("div",{className:this.ss("tag-item")},C.default.createElement(U,{ageRange:(0,N.get)(t,"ageRange",{})})),C.default.createElement("div",{className:this.ss("tag-item")},C.default.createElement(B,{minutes:(0,N.get)(t,"instruction")})))))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme;return(0,N.get)(t,"educatorPlan")?C.default.createElement("div",{className:this.ss("center","educator")},C.default.createElement("div",{className:this.ss("content",a)},this.renderDetailLeft(),this.renderDetailRight())):null}}]),t}(),f.propTypes={loginUser:P.default.object,loginTo:P.default.func,data:P.default.object,disabled:P.default.bool,scrollToStep:P.default.func,theme:P.default.string},d=p))||d)||d)||d);t.default=z;var U=t.EducatorAgeRange=(m=(0,A.default)(L.default),h=(0,K.default)(q.default),m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,j.default),O(t,[{key:"render",value:function(){var e=this.props,t=e.ageRange,a=e.theme,n=(0,N.get)(t,"min"),r=(0,N.get)(t,"max");if(!n&&!r)return null;var o="";return o=n?r?n===r?n:this.__("educator_age_range",{min:n,max:r}):this.__("educator_age_range_above",{value:n}):this.__("educator_age_range_below",{value:r}),C.default.createElement("div",{className:this.ss("educator-age-range-wrap",a)},C.default.createElement("div",{className:this.ss("educator-age-range-title")},this.__("title_educator_age_range")),C.default.createElement("div",{className:this.ss("educator-age-range")},C.default.createElement("div",{className:this.ss("tag")},o)))}}]),t}(),g.propTypes={ageRange:P.default.object,theme:P.default.oneOf(["default","preview"])},g.defaultProps={theme:"default"},_=v))||_)||_),B=t.EducatorInstructionTag=(y=(0,A.default)(L.default),b=(0,K.default)(q.default),y(w=b((S=E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,j.default),O(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.minutes;return a?C.default.createElement("div",{className:this.ss("educator-instruction-time-wrap",t)},C.default.createElement("div",{className:this.ss("educator-age-range-title")},this.__("title_educator_instruct_time")),C.default.createElement("div",{className:this.ss("educator-age-range")},C.default.createElement("div",{className:this.ss("tag")},C.default.createElement(x.default,{duration:a})))):null}}]),t}(),E.propTypes={minutes:P.default.number,theme:P.default.oneOf(["default"])},E.defaultProps={theme:"default"},w=S))||w)||w)},function(e,t){e.exports={"live-session-wrap":"live-session-wrap_1q1bBk1H",small:"small_2MvDDMkO","session-body":"session-body_1407OgWe",head:"head_12G8lzhL","head-title-image":"head-title-image_kCJtIViB","head-title-image-wrap":"head-title-image-wrap_2IKCZx7c","head-title":"head-title_17dlrZ4Q","head-sub-des":"head-sub-des_3XIObQ7o","sub-item":"sub-item_6YRgq4WX",dot:"dot_3KTF5eon","live-session-content":"live-session-content_3zjeLe_M","date-time-item":"date-time-item_21n72ZqM","date-item-icon":"date-item-icon_24sujWa0","date-item-label":"date-item-label_8ATegfu6","date-time-type":"date-time-type_xYqhW8ji","time-item":"time-item_38vAw9cO","video-preview-wrapper":"video-preview-wrapper_1RQyELcD","session-foot":"session-foot_30OmzqWc","link-item-wrap":"link-item-wrap_3CzVDvEa",link:"link_djhHB2gF","live-session":"live-session_2UjjFvwt",top:"top_155mD0B0"}},function(e,t){e.exports={time_format:"time_format_jxKG",live_session_time_diff:"live_session_time_diff_QU6k",live_session_referTo:"live_session_referTo_12q9",button_learn_more:"button_learn_more_1UaN",button_register:"button_register_3hSE",button_start_free_trial:"button_start_free_trial_9KNY"}},function(e,t){e.exports={center:"center_2PkZu5P9","filters-selects-bar":"filters-selects-bar_qURvn_kF",search_skill:"search_skill_QF7jx3yQ",mission:"mission_3TX5QInF",dark:"dark_22QvN6BJ","filter-item":"filter-item_3t2NNJ2A","input-item":"input-item_VGTSkJN-","filter-item-button":"filter-item-button_3pD52a19","expand-wrapper":"expand-wrapper_3sN6YDup","item-wrapper":"item-wrapper_2mPsv3C_","select-item-label":"select-item-label_2aepu3fq",normal:"normal_3yTd9NOx","normal-item":"normal-item_1EyfaN8c",checked:"checked_Av4jf_Af","filters-selects-container":"filters-selects-container_2u2MyFMY","filters-inner":"filters-inner_3ilfP_x2",left:"left_2aRJ_LZQ",right:"right_1POiKn8L",filter:"filter_B3Sfjr-1","filter-add":"filter-add_3W_ts_cw","more-hide":"more-hide_Ic26MX-m",active:"active_1qgdddjk",icon:"icon_28qKzwlT","icon-close":"icon-close_1oqZyAu8",ob:"ob_1l3Lqlhn",tag:"tag_3SJUv__e",ind:"ind_14VMkGab","filter-item-inner":"filter-item-inner_Xxyt_nmn","filter-item-label-content":"filter-item-label-content_xvNBZMrN",label:"label_3aPQpoFh","search-icon":"search-icon_3AdLfPii","search-input":"search-input_hzMmBc8a","select-title":"select-title_3zpaeI-y"}},function(e,t){e.exports={center:"center_1m6ri994","filters-search-input":"filters-search-input_1E7P09sf",dark:"dark_3ccvPgct","filters-search-container":"filters-search-container_F0WkJf2s","search-input-wrap":"search-input-wrap_3RLqQd7r","search-input":"search-input_2clUeJ1g","search-icon":"search-icon_1YSK8rHD",pc:"pc_1DfzPTIa",mobile:"mobile_1cp4WEx7","create-selects":"create-selects_2Z9hIxIA","selects-inner":"selects-inner_3-gCNhPP","create-item-wrap":"create-item-wrap_2BaRYEsk",content:"content_2KNXBMrL","create-title":"create-title_fgIQ49ea",border:"border_I8Ssq-yK","selects-button-content":"selects-button-content_1u6ZoUGC",label:"label_3se6qIBi","plus-icon":"plus-icon_1F1yMzwZ",icon:"icon_uRhu64vB","expand-wrapper":"expand-wrapper_3La4SkmS"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["search"],["search"]),g=s(["search.checkKeyword"],["search.checkKeyword"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(4),S=a(5),O=n(a(80)),k=a(8),T=a(9),P=n(a(3)),C=n(a(386)),j=n(a(7)),I=n(a(53)),M=n(a(142)),N=(l=(0,w.decorator)({search:(0,E.state)(_),checkKeyword:(0,E.signal)(g)}),u=(0,P.default)(C.default),c=(0,j.default)(I.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={activeKey:null,hideMoreFilters:!0},i=a,o(n,i)}return i(t,b.default),h(t,[{key:"onChangeKeyword",value:function(e,t){var a=this.props,n=a.checkKeyword,r=a.search,o=a.searchOptions,i=(0,T.ParseKeywordMap)((0,S.get)(r,"criteria.k"))[t+":"+e];n(m({},{value:e,key:t,options:o},{checked:!(i>=0)}))}},{key:"getFiltersList",value:function(){var e=this.props.optionType,t=(0,S.get)(M.default,e+".check")||[];return 0===t.length?[]:t}},{key:"renderFilterItem",value:function(e){var t=this,a=e.filterValue,n=e.filterKey,r=this.props.search,o=(0,S.get)(k.CriteriaKeys,n),i=(0,T.ParseKeywordMap)((0,S.get)(r,"criteria.k"))[o+":"+a]>=0;return y.default.createElement("div",{key:"filters-checkbox-"+a,className:this.ss("checkbox-item-wrap")},y.default.createElement(O.default,{onCheck:function(){return t.onChangeKeyword(a,o)},label:this.__("checkbox_"+a),checked:i}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=t.optionType,r=this.getFiltersList().map(function(t){var a=t.value,n=t.key;return e.renderFilterItem({filterValue:a,filterKey:n})});return r&&0!==r.length?y.default.createElement("div",{className:this.ss("filters-checkbox-bar",a,n)},y.default.createElement("div",{className:this.ss("center","filters-checkbox-container")},y.default.createElement("div",{className:this.ss("filters-label")},y.default.createElement("div",{className:this.ss("filters-icon")},y.default.createElement("div",{className:this.ss("line","top")}),y.default.createElement("div",{className:this.ss("line","center")}),y.default.createElement("div",{className:this.ss("line","bottom")})),this.__("filters_checkbox_label")),r)):null}}]),t}(),f.propTypes={search:v.default.object,checkKeyword:v.default.func,searchOptions:v.default.object,optionType:v.default.oneOf(["default","creator","search","landing","educators","submission","architecture"]),theme:v.default.oneOf(["default","dark"])},f.defaultProps={optionType:"default",theme:"default",searchOptions:{}},d=p))||d)||d)||d);t.default=N},function(e,t){e.exports={center:"center_3sgl6Wtj","filters-checkbox-bar":"filters-checkbox-bar_15yyDymH",dark:"dark_jGoPpGaA","filters-label":"filters-label_2UQNy_EP","checkbox-item-wrap":"checkbox-item-wrap_2SS9mm0K","filters-icon":"filters-icon_3U34NHd2",line:"line_3v1-5bO-","filters-checkbox-container":"filters-checkbox-container_36Es8PhK",top:"top_1OagQC_W",bottom:"bottom_22LnweHB"}},function(e,t){e.exports={center:"center_190xO25c","search-bar-wrap":"search-bar-wrap_32ulf2Vp",educators:"educators_JtEprESO","search-bar":"search-bar_YQ-UGpBL",landing:"landing_6wx7HDR3",submission:"submission_2BzNZIG-",dark:"dark_3uXypBib",sticky:"sticky_1UlbylaB"}},,function(e,t,a){"use strict";(function(e){function a(e){return e.get([].concat(s,["criteria"]))}function n(e,t){e.set([].concat(s,["criteria"]),t)}function r(e,t){var r=a(e);return t=i({},r,t,{page:t.page||""}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),n(e,t),{criteria:t}}function o(e){var t="",a=e||{},n=a.value,r=a.type,o=t=n;return t&&"string"==typeof t&&(o=t.replace(/:/g," ")),r+":"+o}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=["search"];t.default={name:e,depends:[],signals:{},getState:function(){return{placeMap:{},skillMap:{},loadMoreStatus:"initial"}},updateCriteria:r,getCriteria:a,setCriteria:n,unsetSearchResult:function(e){var t=e.state,n=a(t);t.set([].concat(s),{criteria:n})},appendKeyword:function(e,t){var n=e.candidate,i=a(t).k,s=i?JSON.parse(i):[],l=o(n),u=s.findIndex(function(e){return e===l});return u>=0&&s.splice(u,1),s.push(l),r(t,{k:JSON.stringify(s)})},removeKeyword:function(e,t){var n=e.index,i=e.candidate,s=a(t).k;if(!s)return{};var l=JSON.parse(s),u=n;if(!Number.isInteger(u)){var c=o(i);u=l.findIndex(function(e){return e===c})}return u>=0&&u<l.length&&l.splice(u,1),r(t,{k:JSON.stringify(l)})},removeKeywordByKey:function(e,t){var n=e.key,o=a(t).k;if(!o)return{};var i=JSON.parse(o).filter(function(e){return!e.startsWith(n+":")});return r(t,{k:JSON.stringify(i)})},updateKeyword:function(e,t){var n=e.index,i=e.candidate,s=a(t).k;if(!s)return{};var l=JSON.parse(s);if(Number.isInteger(n)){var u=o(i);return n>=0&&n<l.length&&l.splice(n,1,u),r(t,{k:JSON.stringify(l)})}return{}}}}).call(t,"views/learn/modules/search/SearchBarStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubmissionCommentChannel=t.LearnComment=t.LoadMore=t.Message=t.CommentItem=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N,D,x,R,F,A,L,K,q,z,U,B,H=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),V=r(["comment.focusMsgId"],["comment.focusMsgId"]),G=r(["comment.componentFocused"],["comment.componentFocused"]),W=r(["userGroups"],["userGroups"]),Q=r(["loginUser"],["loginUser"]),J=r(["learner.likeMap"],["learner.likeMap"]),Y=r(["learner.reportMap"],["learner.reportMap"]),Z=r(["comment.currentReplyId"],["comment.currentReplyId"]),X=r(["comment.currentEditId"],["comment.currentEditId"]),$=r(["comment.toggleCurrentReplyId"],["comment.toggleCurrentReplyId"]),ee=r(["comment.toggleEditId"],["comment.toggleEditId"]),te=r(["learner.toggleCommentLike"],["learner.toggleCommentLike"]),ae=r(["report.openReportDialog"],["report.openReportDialog"]),ne=r(["comment.deleteComment"],["comment.deleteComment"]),re=r(["comment.setFocusComponent"],["comment.setFocusComponent"]),oe=r(["comment.loadMore"],["comment.loadMore"]),ie=r(["comment.loadMoreStatus"],["comment.loadMoreStatus"]),se=r(["comment.loadBeforeMoreStatus"],["comment.loadBeforeMoreStatus"]),le=r(["commentData.commentIds"],["commentData.commentIds"]),ue=r(["submissionCommentData.authorMap"],["submissionCommentData.authorMap"]),ce=r(["submissionCommentData.commentMap.",""],["submissionCommentData.commentMap.",""]),de=r(["channelId"],["channelId"]),fe=n(a(2)),pe=n(a(0)),me=n(a(19)),he=a(6),_e=a(4),ge=n(a(1)),ve=a(5),ye=n(a(30)),be=n(a(43)),we=n(a(516)),Ee=a(20),Se=n(a(653)),Oe=n(a(22)),ke=n(a(655)),Te=a(12),Pe=n(a(658)),Ce=a(75),je=n(a(3)),Ie=n(a(660)),Me=n(a(7)),Ne=n(a(391)),De=(l=(0,he.decorator)({}),u=(0,je.default)(Ie.default),c=(0,Me.default)(Ne.default),l(d=u(d=c((p=f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,ge.default),H(t,[{key:"render",value:function(){var e=this.props,t=e.channelId,a=e.channel,n=e.dataType,r=e.authorMap,o=((0,ve.get)(a,"messages.items")||[]).map(function(e,o){var i=(0,ve.get)(e,"id"),s=void 0;return s=n&&"submission"===n?"submissionCommentData.commentMap."+t+".messages.items."+o:"commentData.commentMap."+t+".messages.items."+o,pe.default.createElement(xe,{key:"comment-"+i,channelId:t,comment:e,channel:a,dataType:n,authorMap:r,statsPath:s})});return 0===o.length?null:pe.default.createElement("div",{className:this.ss("comments-wrapper",n+"Tim")},pe.default.createElement(Fe,{channel:a,dataType:n,channelId:t,isBefore:!0}),o,pe.default.createElement(Fe,{channel:a,dataType:n,channelId:t}))}}]),t}(),f.propTypes={channelId:fe.default.string,dataType:fe.default.string,channel:fe.default.object,authorMap:fe.default.object},f.defaultProps={},d=p))||d)||d)||d);t.default=De;var xe=t.CommentItem=(m=(0,he.decorator)({focusMsgId:(0,_e.state)(V),componentFocused:(0,_e.state)(G)}),h=(0,je.default)(Ie.default),_=(0,Me.default)(Ne.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={showAllReply:!1},n.handleViewMoreReplies=function(){n.setState({showAllReply:!0})},n.handleHideReplies=function(){n.setState({showAllReply:!1})},r=a,i(n,r)}return s(t,ge.default),H(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.channel,a=e.comment,n=(0,ve.get)(a,"id");((0,ve.get)(t,"replyMap."+n+".items")||[]).length<=1&&!this.state.showAllReply&&this.setState({showAllReply:!0})}},{key:"renderSubItemsOperate",value:function(e){var t=e.message,a=this.props,n=a.channel,r=a.comment,o=(0,ve.get)(r,"id"),i=((0,ve.get)(n,"replyMap."+o+".items")||0).length,s=(0,ve.get)(t,"id"),l=[];return this.state.showAllReply?l.push(pe.default.createElement("button",{key:"hide-replies-"+s,className:this.ss("button-message-operate","button-more"),onClick:this.handleHideReplies},this.__("hide_replies",{total:i-1}))):l.push(pe.default.createElement("button",{key:"view-more-"+s,className:this.ss("button-message-operate","button-more"),onClick:this.handleViewMoreReplies},this.__("view_more_replies",{total:i-1}))),pe.default.createElement("div",{className:this.ss("subitems-operate")},l)}},{key:"renderSubItems",value:function(){var e=this,t=this.props,a=t.channelId,n=t.channel,r=t.comment,o=t.dataType,i=t.authorMap,s=(0,ve.get)(r,"id"),l=(0,ve.get)(n,"replyMap."+s+".items")||[],u=l.length,c=this.state.showAllReply;u>1&&!c&&(l=l.slice(0,1));var d=l.map(function(t,r){var l=(0,ve.get)(t,"id"),c=void 0;return c=o&&"submission"===o?"submissionCommentData.commentMap."+a+".replyMap."+s+".items."+r:"commentData.commentMap."+a+".replyMap."+s+".items."+r,0===r&&u>1?pe.default.createElement("div",{key:"message-"+l,className:e.ss("subitems-first")},pe.default.createElement(Re,{key:"message-"+l,channelId:a,channel:n,parentMessageId:s,dataType:o,message:t,authorMap:i,statsPath:c}),e.renderSubItemsOperate({message:t})):pe.default.createElement(Re,{key:"message-"+l,channelId:a,channel:n,parentMessageId:s,dataType:o,message:t,authorMap:i,statsPath:c})});return 0===d.length?null:pe.default.createElement("div",{className:this.ss("subitems")},pe.default.createElement(Fe,{channel:n,dataType:o,channelId:a,parentMessageId:s,isBefore:!0}),d,c&&pe.default.createElement(Fe,{dataType:o,channel:n,channelId:a,parentMessageId:s}))}},{key:"render",value:function(){var e=this.props,t=e.channelId,a=e.comment,n=e.statsPath,r=e.authorMap,o=e.dataType,i=e.focusMsgId,s=e.channel,l=e.componentFocused,u=(0,ve.get)(a,"id"),c=(0,ve.get)(s,"replyMap."+u+".items")||[];if(i&&""!==i&&!l){for(var d=!1,f=0;f<c.length;f++)if(c[f].id===i){d=!0;break}d&&!this.state.showAllReply&&(this.state.showAllReply=!0)}return pe.default.createElement("div",{className:this.ss("comment-item")},pe.default.createElement("div",{className:this.ss("root-message")},pe.default.createElement(Re,{key:"message-"+u,channelId:t,channel:s,dataType:o,message:a,authorMap:r,statsPath:n})),this.renderSubItems())}}]),t}(),v.propTypes={channelId:fe.default.string,focusMsgId:fe.default.string,dataType:fe.default.string,channel:fe.default.object,comment:fe.default.object,authorMap:fe.default.object,statsPath:fe.default.string,componentFocused:fe.default.bool},v.defaultProps={},g=y))||g)||g)||g),Re=t.Message=(b=(0,he.decorator)({userGroups:(0,_e.state)(W),loginUser:(0,_e.state)(Q),likeMap:(0,_e.state)(J),reportMap:(0,_e.state)(Y),currentReplyId:(0,_e.state)(Z),currentEditId:(0,_e.state)(X),toggleCurrentReplyId:(0,_e.signal)($),toggleEditId:(0,_e.signal)(ee),toggleLike:(0,_e.signal)(te),openReportDialog:(0,_e.signal)(ae),deleteComment:(0,_e.signal)(ne),setFocusComponent:(0,_e.signal)(re),focusMsgId:(0,_e.state)(V),componentFocused:(0,_e.state)(G)}),w=(0,je.default)(Ie.default),E=(0,Me.default)(Ne.default),b(S=w(S=E((k=O=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onToggleLike=function(e){e&&(0,Te.pauseEvent)(e);var t=n.props,a=t.message,r=t.toggleLike,o=t.statsPath,i=t.channelId,s=(0,ve.get)(a,"id"),l=(0,ve.get)(a,"parentMessageId")||"";s&&r&&r({id:s,parentMessageId:l,type:"message",statsPath:o,channelId:i})},n.getParseContent=function(e){return Pe.default.parse(e,!0)},n.handleReport=function(e){var t=e.hasReport,a=n.props,r=a.openReportDialog,o=a.channelId,i=a.message,s=(0,ve.get)(i,"id"),l=(0,ve.get)(i,"parentMessageId");r&&r({type:"message",channelId:o,itemId:s,parentMessageId:l,reportStatus:t&&"submitted"})},n.handleDelete=function(){var e=n.props,t=e.message,a=e.userGroups,r=e.loginUser,o=e.openReportDialog,i=e.deleteComment,s=e.dataType;if(r&&t){var l=(0,ve.get)(t,"id");(0,ve.get)(r,"id")===(0,ve.get)(t,"authorId")?i({messageId:l,dataType:s}):(0,Ce.isLearnModeratorAll)(a)&&o&&o({reportStatus:"delete",itemId:l,dataType:s})}},n.handleReply=function(){var e=n.props,t=e.message,a=e.toggleCurrentReplyId,r=(0,ve.get)(t,"id");a&&a({messageId:r})},n.handleEdit=function(){var e=n.props,t=e.message,a=e.toggleEditId,r=e.channelId,o=e.dataType,i=(0,ve.get)(t,"id"),s=(0,ve.get)(n.props,"parentMessageId")||"";a&&a({messageId:i,parentMessageId:s,channelId:r,dataType:o})},r=a,i(n,r)}return s(t,ge.default),H(t,[{key:"renderUserRole",value:function(){var e=this,t=this.props,a=t.authorMap,n=t.message,r=t.dataType,o=(0,ve.get)(n,"id"),i=(0,ve.get)(n,"authorId"),s=((0,ve.get)(a,i+".authorTypes")||[]).map(function(t){return pe.default.createElement("div",{key:"message-"+o+"-author-"+t,className:e.ss("user-role")},e.__("author_type_"+t))});return 0===s.length?null:pe.default.createElement("div",{className:this.ss("user-role-group")},"tutorial"===r&&s)}},{key:"renderEditUpdated",value:function(){var e=this.props.message,t=(0,ve.get)(e,"postTime"),a=(0,ve.get)(e,"updateTime");return a&&a>t?pe.default.createElement("div",{className:this.ss("from-update")},this.__("updateEdited")):null}},{key:"renderMessageHead",value:function(){var e=this.props,t=e.authorMap,a=e.message,n=e.parentMessageId,r=(0,ve.get)(a,"authorId"),o=(0,ve.get)(a,"postTime"),i=(0,ve.get)(t,r),s=(0,ve.get)(i,"fullname")||(0,ve.get)(i,"username"),l=ye.default.DEFAULT_URL+"/u/"+r;return pe.default.createElement("div",{className:this.ss("message-head")},pe.default.createElement("div",{className:this.ss("message_content")},pe.default.createElement("a",{className:this.ss("link","avatar"),href:l},pe.default.createElement(be.default,{user:i,size:n?"xxxsmall":"xxsmall"})),pe.default.createElement("a",{className:this.ss("link","user-name"),href:l},s),this.renderUserRole(),pe.default.createElement("div",{className:this.ss("from-now")},this.__("comment_created_at",{time:o})),this.renderEditUpdated()))}},{key:"renderMessageButtons",value:function(){var e=this.props,t=e.message,a=e.likeMap,n=(0,ve.get)(t,"id"),r=(0,ve.get)(a,""+n),o=(0,ve.get)(t,"likeCount"),i=(0,Te.formatNumber)(o);return pe.default.createElement("div",{className:this.ss("message-buttons")},pe.default.createElement("div",{className:this.ss("like-button-wrap")},pe.default.createElement("button",{className:this.ss("toggle-active-button","like-button"),onClick:this.onToggleLike},r?pe.default.createElement("div",{className:this.ss("icon","active","ifont","ifont-icon-like")}):pe.default.createElement("div",{className:this.ss("icon","inactive","ifont","ifont-material-outline-thumb_up")})),pe.default.createElement("div",{className:this.ss("like-num")},i)))}},{key:"renderMessageBody",value:function(){var e=this.props,t=e.message,a=e.currentEditId,n=(0,ve.get)(t,"content"),r=this.getParseContent(n),o=!!(0,ve.get)(t,"deletedTime");if(a===(0,ve.get)(t,"id"))return null;if(o){var i=(0,ve.get)(t,"authorId")===(0,ve.get)(t,"deletedBy");return pe.default.createElement("div",{className:this.ss("message-body","archived")},i?this.__("archived_tip_user"):this.__("archived_tip"))}return pe.default.createElement("div",{className:this.ss("message-body")},pe.default.createElement("div",{className:this.ss("message-content")},r),this.renderMessageButtons())}},{key:"renderOperateGroup",value:function(){var e=this,t=this.props,a=t.message,n=t.parentMessageId,r=t.currentEditId,o=t.reportMap,i=t.userGroups,s=t.loginUser;if(!!(0,ve.get)(a,"deletedTime"))return null;var l=(0,ve.get)(a,"id"),u=(0,ve.get)(a,"authorId"),c=!!(0,ve.get)(o,l),d=(0,ve.get)(s,"id")===u,f=(0,Ce.isLearnModeratorAll)(i)||d;if(r===l)return null;var p=[];return n||p.push(pe.default.createElement("div",{key:"reply-"+l,className:this.ss("reply")},pe.default.createElement("button",{className:this.ss("button-message-operate","button-reply"),onClick:this.handleReply},this.__("reply")))),p.push(pe.default.createElement("div",{key:"tool-buttons-"+l,className:this.ss("tool-buttons-wrap")},pe.default.createElement("div",{className:this.ss("flag_button")},pe.default.createElement(Oe.default,{text:this.__("flag_this_comment"),position:"left"},pe.default.createElement("button",{className:this.ss("toggle-active-button","button"),onClick:function(){return e.handleReport({hasReport:c})}},pe.default.createElement("div",{className:this.ss("icon",c&&"active","ifont","ifont-icons-flag")})))),f&&pe.default.createElement("button",{className:this.ss("toggle-active-button","button","delete_button"),onClick:function(){return e.handleDelete()}},pe.default.createElement("div",{className:this.ss("text")},this.__("button_delete"))),d&&pe.default.createElement("button",{className:this.ss("toggle-active-button","button","edit_button"),onClick:function(){return e.handleEdit()}},pe.default.createElement("div",{className:this.ss("text")},this.__("button_edit"))))),pe.default.createElement("div",{className:this.ss("operate-group",n&&"flex-end")},p)}},{key:"renderReplyInput",value:function(){var e=this.props,t=e.channel,a=e.channelId,n=e.message,r=e.currentReplyId,o=e.dataType;return(0,ve.get)(n,"id")!==r?null:pe.default.createElement("div",{className:this.ss("reply-input",o+"-input")},pe.default.createElement(we.default,{theme:"reply",channel:t,dataType:o,channelId:a}))}},{key:"renderEditInput",value:function(){var e=this.props,t=e.channel,a=e.channelId,n=e.parentMessageId,r=e.message,o=e.currentEditId,i=e.dataType,s=(0,ve.get)(r,"id");return s!==o?null:pe.default.createElement("div",{className:this.ss("edit-input",i+"-input")},pe.default.createElement(we.default,{theme:"edit",channel:t,dataType:i,channelId:a,parentMessageId:n,messageId:s}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.parentMessageId,n=t.message,r=t.focusMsgId,o=t.setFocusComponent,i=t.componentFocused;return n.id!==r||i||setTimeout(function(){var t=me.default.findDOMNode(e);t&&o({component:t.offsetTop})},100),pe.default.createElement("div",{className:this.ss("message-item","message-level-"+(a?2:1),n.id===r?"selected":"")},this.renderMessageHead(),this.renderMessageBody(),this.renderOperateGroup(),this.renderReplyInput(),this.renderEditInput())}}]),t}(),O.propTypes={userGroups:fe.default.array,loginUser:fe.default.object,authorMap:fe.default.object,statsPath:fe.default.string,likeMap:fe.default.object,reportMap:fe.default.object,channelId:fe.default.string,message:fe.default.object,parentMessageId:fe.default.string,currentReplyId:fe.default.string,currentEditId:fe.default.string,theme:fe.default.string,dataType:fe.default.string,channel:fe.default.object.isRequired,openReportDialog:fe.default.func,toggleCurrentReplyId:fe.default.func,toggleEditId:fe.default.func,toggleLike:fe.default.func,deleteComment:fe.default.func,focusMsgId:fe.default.string,setFocusComponent:fe.default.func,componentFocused:fe.default.bool},O.defaultProps={},S=k))||S)||S)||S),Fe=t.LoadMore=(T=(0,he.decorator)({loadMore:(0,_e.signal)(oe),loadMoreStatus:(0,_e.state)(ie),loadBeforeMoreStatus:(0,_e.state)(se)}),P=(0,je.default)(Ie.default),C=(0,Me.default)(Ne.default),T(j=P(j=C((M=I=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onLoadMore=function(){var e=n.props,t=e.channelId,a=e.parentMessageId,r=e.loadMore,o=e.loadMoreStatus,i=e.dataType,s=a?(0,ve.get)(o,a):(0,ve.get)(o,t);if(!(0,Ee.isLoading)(s)){var l={channelId:t,dataType:i};a&&(l.parentMessageId=a),r&&r(l)}},n.onLoadBeforeMore=function(){var e=n.props,t=e.channelId,a=e.parentMessageId,r=e.loadMore,o=e.loadBeforeMoreStatus,i=e.dataType,s=a?(0,ve.get)(o,a):(0,ve.get)(o,t);if(!(0,Ee.isLoading)(s)){var l={channelId:t,dataType:i,isBefore:!0};a&&(l.parentMessageId=a),r&&r(l)}},r=a,i(n,r)}return s(t,ge.default),H(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.channelId,n=t.channel,r=t.parentMessageId,o=t.loadMoreStatus,i=t.isBefore,s=t.dataType,l=void 0,u=void 0;if(r||(l=(0,ve.get)(n,"messages"),u=(0,ve.get)(o,a)),r&&(l=(0,ve.get)(n,"replyMap."+r),u=(0,ve.get)(o,r)),i){if(!(0,ve.get)(l,"hasBeforeMore"))return null}else{var c=(0,ve.get)(l,"hasMore"),d=((0,ve.get)(l,"items")||[]).length,f=(0,ve.get)(l,"total")||0;if(!c||d>=f)return null}var p=(0,Ee.isLoading)(u),m=null;return p?m=pe.default.createElement("div",{className:this.ss("loading")}):p||(m=s&&"tutorial"===s?pe.default.createElement("button",{className:this.ss("button-message-operate","button-load-more"),onClick:function(){return i?e.onLoadBeforeMore():e.onLoadMore()}},this.__("view_more")):pe.default.createElement("button",{className:this.ss("button-message-operate","button-view-more"),onClick:function(){return i?e.onLoadBeforeMore():e.onLoadMore()}},this.__("load_more"))),pe.default.createElement("div",{className:this.ss("load-more")},m)}}]),t}(),I.propTypes={channelId:fe.default.string,channel:fe.default.object,parentMessageId:fe.default.string,dataType:fe.default.string,loadMore:fe.default.func,loadMoreStatus:fe.default.object,loadBeforeMoreStatus:fe.default.object,isBefore:fe.default.bool},I.defaultProps={},j=M))||j)||j)||j);t.LearnComment=(N=(0,he.decorator)({channelIds:(0,_e.state)(le)}),D=(0,je.default)(Ie.default),x=(0,Me.default)(Ne.default),N(R=D(R=x((A=F=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,ge.default),H(t,[{key:"render",value:function(){var e=this.props,t=e.channelIds,a=e.scrollToStep,n=e.type,r=(t||[]).map(function(e,t){return pe.default.createElement(Se.default,{key:"channel-"+e,scrollToStep:a,contentType:n,channelId:e,channelIdx:t})});return 0===r.length?null:pe.default.createElement("div",{className:this.ss("comment-wrap")},pe.default.createElement(ke.default,null),r)}}]),t}(),F.propTypes={type:fe.default.string,channelIds:fe.default.array,scrollToStep:fe.default.func},F.defaultProps={},R=A))||R)||R)||R),t.SubmissionCommentChannel=(L=(0,he.decorator)({authorMap:(0,_e.state)(ue),channel:(0,_e.state)(ce,(0,_e.props)(de))}),K=(0,je.default)(Ie.default),q=(0,Me.default)(Ne.default),L(z=K(z=q((B=U=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,ge.default),H(t,[{key:"render",value:function(){var e=this.props,t=e.channel,a=e.channelId,n=e.authorMap,r=e.submissionType,o=Object.assign({},t);return pe.default.createElement("div",{className:this.ss("submission-wrap")},pe.default.createElement(we.default,{channel:o,channelId:a,dataType:r}),pe.default.createElement(De,{channelId:a,channel:o,dataType:r,authorMap:n}))}}]),t}(),U.propTypes={channel:fe.default.object,authorMap:fe.default.object,channelId:fe.default.string,submissionType:fe.default.string},U.defaultProps={},z=B))||z)||z)||z)},function(e,t){e.exports={general_discuss_tutorial:"general_discuss_tutorial_111d",tutorial_comment_input_placeholder:"tutorial_comment_input_placeholder_NzcA",submission_comment_input_placeholder:"submission_comment_input_placeholder_NMrs",reply_input_placeholder:"reply_input_placeholder_Aq1i",input_button_comment:"input_button_comment_2kuR",input_button_cancel:"input_button_cancel_uoOZ",input_button_reply:"input_button_reply_1eUt",comment_created_at:"comment_created_at_2NU5",reply:"reply_1DOi",view_more_replies:"view_more_replies_BS_E",hide_replies:"hide_replies_AQQM",view_more:"view_more_r9Pg",load_more:"load_more_39HN",author_type_admin:"author_type_admin_2BkC",author_type_unity:"author_type_unity_f6Il",author_type_creator:"author_type_creator_219k",archived_tip:"archived_tip_1IJM",archived_tip_user:"archived_tip_user_1OTH",button_sign_in:"button_sign_in_foHZ",sign_in_hint_title:"sign_in_hint_title_2Bsm",sign_in_hint_des:"sign_in_hint_des_1UXl",button_delete:"button_delete_3jja",show_list:"show_list_2Yp0",button_edit:"button_edit_1zIf",edit_button_save:"edit_button_save_15Uq",edit_button_cancel:"edit_button_cancel__FN5",updateEdited:"updateEdited_ibVj",flag_this_comment:"flag_this_comment_ko55"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectGroupCard=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),S=a(5),O=a(26),k=n(a(72)),T=n(a(3)),P=n(a(412)),C=n(a(7)),j=n(a(413)),I=(s=(0,T.default)(P.default),l=(0,C.default)(j.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleJoinNow=function(){var e=n.props,t=e.data,a=e.onJoinNow;a?a(t):(0,k.default)((0,S.get)(t,"url"))},i=a,o(n,i)}return i(t,w.default),v(t,[{key:"renderSubTitle",value:function(){var e=this.props.data,t=(0,S.get)(e,"onlineMembers",0),a=(0,S.get)(e,"membersCount",0);return b.default.createElement("div",{className:this.ss("sub-title")},b.default.createElement("div",{className:this.ss("sub-title-item")},t,b.default.createElement("span",{className:this.ss("sub-title-item-label")},this.__("sub_title_online_members"))),b.default.createElement("div",{className:this.ss("dot")}),b.default.createElement("div",{className:this.ss("sub-title-item")},a,b.default.createElement("span",{className:this.ss("sub-title-item-label")},this.__("sub_title_members_count"))))}},{key:"renderGroupInfo",value:function(){var e=this.props.data,t=(0,S.get)(e,"name");return b.default.createElement("div",{className:this.ss("group-head")},b.default.createElement("div",{className:this.ss("head-title")},b.default.createElement("span",null,t)),b.default.createElement("div",{className:this.ss("sub-title-wrap")},b.default.createElement("div",{className:this.ss("dot-icon")}),this.renderSubTitle()))}},{key:"renderFoot",value:function(){var e=[];return e.push(b.default.createElement("div",{key:"join-now",className:this.ss("link-item-wrap")},b.default.createElement("a",{className:this.ss("link"),onClick:this.handleJoinNow},this.__("button_view_group")))),b.default.createElement("div",{className:this.ss("group-foot")},e)}},{key:"render",value:function(){var e=this.props.disabled;return b.default.createElement("div",{className:this.ss("connect-group-wrap")},b.default.createElement("div",{className:this.ss("group-body")},this.renderGroupInfo()),!e&&this.renderFoot())}}]),t}(),c.propTypes={data:y.default.object,onJoinNow:y.default.func,theme:y.default.oneOf(["default"]),disabled:y.default.bool},c.defaultProps={theme:"default"},u=d))||u)||u);t.default=I;t.ConnectGroupCard=(f=(0,E.decorator)({}),p=(0,T.default)(P.default),m=(0,C.default)(j.default),f(h=p(h=m((g=_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),v(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.projectMap,n=e.disabled;return b.default.createElement("div",{className:this.ss("connect-group")},b.default.createElement("div",{className:this.ss("top")},b.default.createElement(O.ConnectGroupLabel,null)),b.default.createElement(I,{data:t,projectMap:a,disabled:n}))}}]),t}(),_.propTypes={data:y.default.object,projectMap:y.default.object,disabled:y.default.bool},h=g))||h)||h)||h)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ContentEyebrow=t.ListRow=t.PageSearchResults=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),N=s(["userPremium"],["userPremium"]),D=s(["search"],["search"]),x=s(["httpAPI.",""],["httpAPI.",""]),R=s(["common.closeSearchBox"],["common.closeSearchBox"]),F=s(["search.doSearch"],["search.doSearch"]),A=s(["search.changeSearchKeyword"],["search.changeSearchKeyword"]),L=s(["search.changeSearchKeywordCall"],["search.changeSearchKeywordCall"]),K=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),q=s(["search.clearKeyword"],["search.clearKeyword"]),z=s(["search.loadMore"],["search.loadMore"]),U=s(["learner.recordMap"],["learner.recordMap"]),B=s(["locale"],["locale"]),H=s(["currentHost"],["currentHost"]),V=s(["unityVersions.versionMap"],["unityVersions.versionMap"]),G=n(a(2)),W=n(a(0)),Q=n(a(1)),J=a(6),Y=a(4),Z=a(5),X=n(a(116)),$=n(a(34)),ee=n(a(16)),te=n(a(44)),ae=n(a(138)),ne=n(a(49)),re=n(a(182)),oe=a(54),ie=n(a(15)),se=n(a(40)),le=a(99),ue=a(59),ce=a(26),de=n(a(18)),fe=a(9),pe=a(20),me=a(8),he=n(a(3)),_e=n(a(399)),ge=n(a(7)),ve=n(a(400)),ye=(l=(0,J.decorator)({userPremium:(0,Y.state)(N),search:(0,Y.state)(D),searchData:(0,Y.state)(x,me.LEARNER_SEARCH),closeSearchBox:(0,Y.signal)(R),doSearch:(0,Y.signal)(F),changeSearchKeyword:(0,Y.signal)(A),changeSearchKeywordCall:(0,Y.signal)(L)}),u=(0,he.default)(_e.default),c=(0,ge.default)(ve.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e,t){n.props.changeSearchKeyword({value:t,key:me.CriteriaKeys.query})},n.onKeyDown=function(e){e&&13===e.keyCode&&n.props.doSearch()},n.onClear=function(e){e&&n.props.changeSearchKeywordCall({value:"",key:me.CriteriaKeys.query})},i=a,o(n,i)}return i(t,Q.default),M(t,[{key:"componentWillMount",value:function(){this.props.closeSearchBox()}},{key:"renderSearchInput",value:function(e){var t=this,a=this.props.search,n=(0,fe.ParseKeyword)((0,Z.get)(a,"criteria.k")),r=(0,Z.get)(n,"queries[0]"),o="pc"===e?"xxxxlarge":"xlarge",i="mobile"===e?W.default.createElement("button",{className:this.ss("search-input-button"),onClick:function(){return t.props.doSearch()}},this.__("search_button")):null;return W.default.createElement("div",{className:this.ss("search-input")},W.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-lrn_icon_search")}),W.default.createElement($.default,{type:"search",value:r,theme:"transparent-inherit",size:o,placeholder:this.__("search_input_placeholder"),onChange:this.onChange,onKeyDown:this.onKeyDown,onClear:function(){return t.onClear(r)}}),i)}},{key:"renderSearchBar",value:function(e){return W.default.createElement("div",{className:this.ss("search-bar")},W.default.createElement("div",{className:this.ss("center","pc")},this.renderSearchInput("pc")),W.default.createElement("div",{className:this.ss("center","mobile")},this.renderSearchInput("mobile")),W.default.createElement(re.default,{theme:e,optionType:"search"}))}},{key:"render",value:function(){var e=this.props.userPremium?"dark":"default";return W.default.createElement(X.default,null,W.default.createElement("div",{className:this.ss("body-wrapper",e)},this.renderSearchBar(e),W.default.createElement(be,{theme:e})))}}]),t}(),f.propTypes={userPremium:G.default.bool,search:G.default.object,searchData:G.default.object,closeSearchBox:G.default.func,doSearch:G.default.func,changeSearchKeyword:G.default.func,changeSearchKeywordCall:G.default.func},d=p))||d)||d)||d);t.default=ye;var be=t.PageSearchResults=(m=(0,J.decorator)({search:(0,Y.state)(D),searchData:(0,Y.state)(x,me.LEARNER_SEARCH),loadMoreStatus:(0,Y.state)(K,me.SEARCH_LOAD_MORE),clearKeyword:(0,Y.signal)(q),loadMore:(0,Y.signal)(z)}),h=(0,he.default)(_e.default),_=(0,ge.default)(ve.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClearAll=function(){n.props.clearKeyword()},i=a,o(n,i)}return i(t,Q.default),M(t,[{key:"renderSearchTotal",value:function(){var e=this.props,t=e.search,a=e.searchData,n=t.total,r=t.text,o=(0,Z.get)(a,"updateStatus"),i=(0,pe.isLoading)(o),s=this.__("search_in_progress"),l=this.__(r?"search_result_hint_text":"search_result_hint",{total:n,text:r});return W.default.createElement("div",{className:this.ss("result-total","center")},i?s:l)}},{key:"renderEmptyBody",value:function(){return W.default.createElement("div",{className:this.ss("center","empty-body")},W.default.createElement("div",{className:this.ss("empty-label")},this.__("search_result_empty")),W.default.createElement("div",{className:this.ss("button-clear")},W.default.createElement(ie.default,{ref:"clear",widthStyle:"full",label:this.__("button_clear"),onClick:this.onClearAll})))}},{key:"renderBodyNodes",value:function(){var e=this,t=this.props,a=t.search,n=t.theme,r=(0,Z.get)((0,fe.ParseKeyword)((0,Z.get)(a,"criteria.k")),me.CriteriaKeys.uv),o=(0,Z.get)(a,"results");if(!o||0===o.length)return this.renderEmptyBody();var i=o.map(function(t){var a=(0,Z.get)(t,"type"),o=(0,Z.get)(t,a);return W.default.createElement("div",{key:"row_"+o.id,className:e.ss("card-wrapper")},W.default.createElement(we,{data:o,theme:n,statsPath:"search",versionId:r}))});return W.default.createElement("div",{className:this.ss("center")},i)}},{key:"renderLoading",value:function(){return W.default.createElement("div",{className:this.ss("loading-container")},W.default.createElement("div",{className:this.ss("loading-wrap")},W.default.createElement("div",{className:this.ss("loading")})))}},{key:"render",value:function(){var e=this.props,t=e.search,a=e.searchData,n=e.loadMore,r=e.loadMoreStatus,o=e.theme,i=(0,Z.get)(a,"updateStatus"),s=(0,pe.isLoading)(i),l=(0,Z.get)(t,"page","0"),u=(0,Z.get)(t,"pageSize","0"),c=(0,Z.get)(t,"total","0"),d={page:parseInt(l,10),pageSize:parseInt(u,10),total:parseInt(c,10),loadMoreStatus:r,searchStatus:i,onPage:n};return W.default.createElement("div",{className:this.ss("page-search-result",o)},this.renderSearchTotal(),s?this.renderLoading():this.renderBodyNodes(),!s&&W.default.createElement(ae.default,d))}}]),t}(),v.propTypes={search:G.default.object,searchData:G.default.object,loadMoreStatus:G.default.string,theme:G.default.oneOf(["default","dark"]),clearKeyword:G.default.func,loadMore:G.default.func},v.defaultProps={theme:"default"},g=y))||g)||g)||g),we=t.ListRow=(b=(0,J.decorator)({recordMap:(0,Y.state)(U),locale:(0,Y.state)(B),currentHost:(0,Y.state)(H),versionMap:(0,Y.state)(V)}),w=(0,he.default)(_e.default),E=(0,ge.default)(ve.default),b(S=w(S=E((k=O=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Q.default),M(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.recordMap,r=e.theme,o=e.navIds,i=e.locale,s=e.currentHost,l=e.versionMap,u=e.versionId,c=(0,Z.get)(t,"thumbnail.url"),d=t||{},f=d.id,p=d.type,m=d.descPlain,h=(0,Z.get)(n,""+t.id),_=p===me.DataTypeKeys.quiz,g=(0,Z.get)(t,"withPay"),v=(0,fe.GetRecordStatus)(h,u).completed,y=(0,Z.get)(l,u+".name"),b=(0,de.default)((0,fe.GetUrlByNavIds)(o,(0,fe.GetDetailPageURL)(t,i,y)),s);return W.default.createElement("div",{className:this.ss("row-wrapper",v&&"completed",r)},W.default.createElement("div",{className:this.ss("eyebrow-wrapper")},g&&W.default.createElement(ce.PaymentLabel,null)),W.default.createElement("a",{className:this.ss("list-row"),href:b},W.default.createElement("div",{className:this.ss("row-img")},W.default.createElement("div",{className:this.ss("img-container")},W.default.createElement(ee.default,{src:c,sizes:"351px",height:198,width:351}),W.default.createElement("div",{className:this.ss("collect-wrap")},W.default.createElement(ne.default,{id:f,type:p,statsPath:a}))),h&&!_&&W.default.createElement(oe.ProgressBar,{data:t,record:h})),W.default.createElement("div",{className:this.ss("row-content")},W.default.createElement(Ee,{data:t}),W.default.createElement("div",{className:this.ss("content-title")},(0,Z.get)(t,"title")),W.default.createElement("div",{className:this.ss("content-subtitle")},W.default.createElement(se.default,{data:t,theme:r,size:"small"})),W.default.createElement("div",{className:this.ss("content-desc")},m),W.default.createElement("div",{className:this.ss("author")},W.default.createElement(te.default,{data:t,theme:r})),W.default.createElement(le.ParentLabel,{data:t,ref:"parentRef"}))),h&&v&&W.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),O.propTypes={data:G.default.object.isRequired,navIds:G.default.array,recordMap:G.default.object,currentHost:G.default.string,versionId:G.default.string,versionMap:G.default.object,locale:G.default.string,statsPath:G.default.string.isRequired,url:G.default.string,theme:G.default.oneOf(["default","dark"])},O.defaultProps={theme:"default",navIds:[]},S=k))||S)||S)||S),Ee=t.ContentEyebrow=(T=(0,he.default)(_e.default),P=(0,ge.default)(ve.default),T(C=P((I=j=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Q.default),M(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=t.withLab,r=t.liveSession,o=t.withPay;return n||r||o?W.default.createElement("div",{className:this.ss("content-eyebrow",a)},W.default.createElement("div",{className:this.ss("eyebrow-premium")},o&&W.default.createElement(ce.PaymentLabel,{theme:a}),W.default.createElement("div",{className:this.ss("dot")})),W.default.createElement(ue.StudyMethod,{data:t,theme:a})):null}}]),t}(),j.propTypes={data:G.default.object,theme:G.default.oneOf(["default","dark"])},j.defaultProps={theme:"default"},C=I))||C)||C)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(19)),h=n(a(1)),_=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-transform","width","padding-left","padding-right","border-width","box-sizing"],g=void 0,v=(u=l=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={height:"auto"},r=a,i(n,r)}return s(t,h.default),d(t,[{key:"componentDidMount",value:function(){this.recalculateSize(),this.props.autoFocus&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){e&&e.value!==this.props.value&&this.recalculateSize(e.value)}},{key:"componentDidUpdate",value:function(e,t){var a=t.height,n=this.state.height;n!==a&&this.props.onResize&&this.props.onResize(n)}},{key:"onChange",value:function(e){this.recalculateSize(),this.props.onChange&&this.props.onChange(e)}},{key:"clear",value:function(){m.default.findDOMNode(this).value="",this.recalculateSize()}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"recalculateSize",value:function(e){var t=m.default.findDOMNode(this);void 0!==e&&null!==e||(e=t.value);var a=this.props.fontWidthEstimate;if(null!==a&&-1===e.indexOf("\n")&&e.length*a<.8*t.offsetWidth)this.setState({height:"auto",overflow:"hidden"});else{g||(g=document.createElement("textarea"),document.body.appendChild(g));var n=this.calculateNodeStyling(t),r=n.paddingSize,o=n.borderSize,i=n.boxSizing,s=n.sizingStyle;g.setAttribute("style",s+";\n    height:0;\n    visibility:hidden;\n    overflow:hidden;\n    position:absolute;\n    z-index:-1000;\n    top:0;\n    right:0;\n"),g.value=e;var l=g.scrollHeight;"border-box"===i?l+=o:"content-box"===i&&(l-=r),this.setState({height:l,overflow:"hidden"})}}},{key:"calculateNodeStyling",value:function(e){var t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),n=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),r=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:_.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:n,borderSize:r,boxSizing:a}}},{key:"render",value:function(){var e=this,t=this.props,a=(t.fontWidthEstimate,t.onResize,r(t,["fontWidthEstimate","onResize"]));return p.default.createElement("textarea",c({ref:"input"},a,{style:this.state,onChange:function(t){return e.onChange(t)}}))}}]),t}(),l.propTypes={value:f.default.string,fontWidthEstimate:f.default.number,autoFocus:f.default.bool,onResize:f.default.func,onChange:f.default.func},l.defaultProps={fontWidthEstimate:null},u);t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(19)),y=n(a(20)),b=a(639),w=n(a(3)),E=n(a(518)),S=n(a(7)),O=n(a(519)),k=(l=(0,w.default)(E.default),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={value:n.getValue(n.props.value)},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"componentDidMount",value:function(){this.setFocus(this.props.autoFocus)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setInputValue(t)}},{key:"onSave",value:function(){this.props.onSave&&this.props.onSave(this.state.value),this.props.autoClear&&this.onClearInput()}},{key:"onClear",value:function(e){this.props.onClear&&this.props.onClear(e),this.props.onChange&&this.props.onChange(null,""),this.props.onSave&&this.props.onSave(""),this.onClearInput()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focus:!0})}},{key:"onBlur",value:function(e){this.props.onBlur?this.props.onBlur(e):this.onSave(),this.setState({focus:!1});try{(0,b.weiXinScrollIntoView)()}catch(e){console.error(e)}}},{key:"onChange",value:function(e){var t=e.target.value,a="";if("number"===this.props.type&&this.hasValue(t)){var n=this.__("numberOutput",{value:t});a=this.hasValue(n)&&n.toString()||""}else a=t;this.setState({value:a}),this.props.onChange&&this.props.onChange(e,a)}},{key:"onKeyDown",value:function(e){e&&e.stopPropagation();var t=e.keyCode;switch(this.props.onKeyDown&&this.props.onKeyDown(e),t){case 13:this.onSave();break;case 27:this.onClear()}}},{key:"onClearInput",value:function(){this.setInputValue("")}},{key:"setInputValue",value:function(e){this.setState({value:e})}},{key:"setFocus",value:function(e){var t=v.default.findDOMNode(this.refs.input);e&&t&&setTimeout(function(){return t.focus()},100)}},{key:"getNotice",value:function(){var e=this.props.errorText;return(e?{text:e,type:y.default.failed}:null)||this.props.notice||{}}},{key:"getText",value:function(){return this.refs.input.value}},{key:"getValue",value:function(e){return this.hasValue(e)?e:""}},{key:"hasValue",value:function(e){return""!==e&&null!==e&&void 0!==e}},{key:"focus",value:function(){var e=this.refs.input;e&&e.focus()}},{key:"renderNoticeText",value:function(){var e=this.props,t=e.noticeClassName,a=e.noticePosition,n=this.getNotice(),r=n.text,o=n.type;if(!o)return null;var i=["notice",t,a,o,this.state.hide&&"hide"];return _.default.createElement("div",{className:this.ss.apply(this,i)},r||this.__(o))}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.className,o=t.iconName,i=t.iconClassName,s=t.inputClassName,l=t.closeIconClassName,u=t.borderClassName,c=(t.noticeClassName,t.noticePosition,t.disabled),d=(t.autoFocus,t.autoClear,t.errorText,t.onSave,t.onClear,t.notice,t.theme),f=t.showNoticeText,m=t.readOnly,h=t.focusTheme,g=t.rightHint,v=r(t,["type","className","iconName","iconClassName","inputClassName","closeIconClassName","borderClassName","noticeClassName","noticePosition","disabled","autoFocus","autoClear","errorText","onSave","onClear","notice","theme","showNoticeText","readOnly","focusTheme","rightHint"]),b=this.state.value,w="number"===a&&this.hasValue(b)?this.__("numberInput",{value:b}):this.getValue(b),E=_.default.createElement("div",{className:this.ss(i,"icon","ifont","ifont-"+o)}),S="small"===d,O=_.default.createElement("div",{className:this.ss(l,"close","ifont","ifont-icon-close"),onClick:function(t){return e.onClear(t)}}),k=this.getNotice().type===y.default.failed,T=["input-wrap",c&&"disabled",k&&"failed",u];this.state.focus&&T.push("active-"+h);var P=_.default.createElement("div",{key:"input",className:this.ss.apply(this,T),onClick:function(){return e.focus()}},o&&E,_.default.createElement("input",p({},v,{className:this.ss("input",s),type:"number"!==a&&a||"text",value:w,disabled:c,readOnly:m,onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},ref:"input"})),!S&&!c&&!m&&this.hasValue(b)&&O,g&&_.default.createElement("div",{className:this.ss("right-hint")},g));return _.default.createElement("div",{className:this.ss("text-input",n,"theme-"+d)},P,f&&this.renderNoticeText())}}]),t}(),d.propTypes={type:h.default.string,value:h.default.oneOfType([h.default.string,h.default.number,h.default.array]),iconName:h.default.string,className:h.default.string,iconClassName:h.default.string,inputClassName:h.default.string,borderClassName:h.default.string,closeIconClassName:h.default.string,noticeClassName:h.default.string,showNoticeText:h.default.bool,errorText:h.default.any,autoFocus:h.default.bool,autoClear:h.default.bool,disabled:h.default.bool,readOnly:h.default.bool,onSave:h.default.func,onChange:h.default.func,onClear:h.default.func,onFocus:h.default.func,onBlur:h.default.func,onKeyDown:h.default.func,notice:h.default.shape({text:h.default.string,type:h.default.oneOf(["",y.default.initial,y.default.inProgress,y.default.succeeded,y.default.failed])}),theme:h.default.oneOf(["small","transparent","dark","light"]),noticePosition:h.default.oneOf(["right","bottom"]),focusTheme:h.default.oneOf(["blue-green","primary-blue"]),rightHint:h.default.string},d.defaultProps={noticePosition:"right",showNoticeText:!0,theme:"dark",focusTheme:"blue-green"},c=f))||c)||c);t.default=k},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["common","tooltips"];t.default={name:e,depends:[],signals:{tooltipShow:[function(e){var t=e.props;e.state.set([].concat(a,[t.id]),t)}],tooltipHide:[function(e){var t=e.props;e.state.unset([].concat(a,[t.id]))}]},getState:function(){return{tooltips:{}}}}}).call(t,"views/learn/modules/common/TooltipStore.js")},function(e,t){e.exports={"banner-wrapper":"banner-wrapper_3eeGcsWF","banner-container":"banner-container_10x1PKHy",text:"text_3ywJBf1m",link:"link_1hu06uhE",pc:"pc_26f1LjtH",mobile:"mobile_abv0QOoe"}},function(e,t){e.exports={banner_text:"banner_text_5Hc5",sign_button_text:"sign_button_text_1pSG"}},function(e,t){e.exports={"body-wrapper":"body-wrapper_3JdUqpg8",dark:"dark_3aF3BPAw","search-bar":"search-bar_2Pk5KKwj","search-input":"search-input_2fN82YxJ","search-icon":"search-icon_a5Bve5GP","page-search-result":"page-search-result_27LHFD3q","result-total":"result-total_2sOM1ybP",barrier:"barrier_1B6VdLWL",light:"light_1YFC85FT",center:"center_2qDXH5q-","search-input-button":"search-input-button_1sUbEj_U","card-wrapper":"card-wrapper_1gg_Vntm","loading-container":"loading-container_3dDlv1jS","loading-wrap":"loading-wrap_3jOVL3Na",loading:"loading_1uPkgr-o","row-wrapper":"row-wrapper_wnFEbN2D",completed:"completed_1eKY8nGy","list-row":"list-row_3UarrcLH","row-content":"row-content_1h35PM-M","content-title":"content-title_aMREoBKV","content-subtitle":"content-subtitle_1CRadWm3","content-desc":"content-desc_1cPdiCaz",author:"author_2UF6Hd_b","author-name":"author-name_3GU8_2a0","eyebrow-wrapper":"eyebrow-wrapper_dfwDp3zv","complete-icon":"complete-icon_E6KgHRsp","row-img":"row-img_A--cyBoW","img-container":"img-container_2cfGLojp","collect-wrap":"collect-wrap_37VcoOk7","content-eyebrow":"content-eyebrow_1Eldk64Q","eyebrow-premium":"eyebrow-premium_1UnfP1OS",dot:"dot_2XHCY00L","empty-body":"empty-body_2XAfo3hv","empty-label":"empty-label_RD2JiBKB","button-clear":"button-clear_36F_HWlE",pc:"pc_2usqEu6F",mobile:"mobile_16jv1cAp"}},function(e,t){e.exports={search_input_placeholder:"search_input_placeholder_25Iy",search_result_hint:"search_result_hint_3Gl3",search_result_hint_text:"search_result_hint_text_1QBR",search_result_empty:"search_result_empty_TMVG",search_in_progress:"search_in_progress_28ri",button_clear:"button_clear_2QGw",search_button:"search_button_1H--"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e,t){return(e=Math.round(e))>0?e=0:e<-t&&(e=-t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailHeadForSubmission=t.DetailHeadForQuiz=t.DetailHeadForChallenge=t.DetailPreview=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N,D,x,R,F=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=s(["loginUser"],["loginUser"]),L=s(["learner.recordMap.",""],["learner.recordMap.",""]),K=s(["data.id"],["data.id"]),q=s(["common.loginTo"],["common.loginTo"]),z=s(["common.uv"],["common.uv"]),U=s(["common.setting.headerTop"],["common.setting.headerTop"]),B=s(["common.setting.scrollTop"],["common.setting.scrollTop"]),H=s(["common.setCurrStickerTop"],["common.setCurrStickerTop"]),V=s(["common.setStickerPosition"],["common.setStickerPosition"]),G=s(["quiz.initFreeTime"],["quiz.initFreeTime"]),W=n(a(2)),Q=n(a(0)),J=n(a(19)),Y=n(a(1)),Z=a(6),X=a(4),$=a(41),ee=a(5),te=n(a(54)),ae=n(a(297)),ne=n(a(447)),re=n(a(318)),oe=a(450),ie=n(oe),se=n(a(141)),le=n(a(455)),ue=a(419),ce=n(ue),de=a(45),fe=a(122),pe=n(a(3)),me=n(a(457)),he=n(a(7)),_e=n(a(263)),ge=$.presets.stiff,ve=88,ye=412,be=(u=(0,Z.decorator)({loginUser:(0,X.state)(A),record:(0,X.state)(L,(0,X.props)(K)),loginTo:(0,X.signal)(q),uv:(0,X.state)(z),headerTop:(0,X.state)(U),scrollTop:(0,X.state)(B),setCurrStickerTop:(0,X.signal)(H),setStickerPosition:(0,X.signal)(V)}),c=(0,pe.default)(me.default),d=(0,he.default)(_e.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.headerTop,a=e.setStickerPosition;if(!e.disabled){var r=document.getElementById("pageBody").parentNode,o=r.scrollTop,i=r.scrollHeight,s=r.clientHeight;if((0,de.isTouch)())t<0&&a({headerTop:-ve,scrollTop:o});else{var l=J.default.findDOMNode(n.refs.detail);o<(l&&l.offsetTop||ye)?a({headerTop:-ve,scrollTop:o}):o<=i-s&&a({headerTop:Math.max(t,o>ve?0:-o),scrollTop:o})}}},i=a,o(n,i)}return i(t,Y.default),F(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.record,n=t.scrollToFirst,r=e.record,o=Object.keys((0,ee.get)(r,"steps")||{}).length>0;n&&void 0===a&&void 0!==r&&!0!==o&&n()}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this,t=this.props,a=t.headerTop,n=t.setCurrStickerTop,r=t.data,o=t.theme,i=t.statsPath,s=t.scrollToStep,u=t.disabled,c=t.uv,d=t.versionId,f=(0,ee.get)(r,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",o)},Q.default.createElement(se.default,{url:f}),Q.default.createElement(le.default,{data:r,scrollToStep:s,versionId:d}),Q.default.createElement(ce.default,{data:r,statsPath:i,disabled:u}),Q.default.createElement(ie.default,{data:r,scrollToStep:s,disabled:u,uv:c,versionId:d}),Q.default.createElement(re.default,null),Q.default.createElement($.Motion,{style:{headerTop:(0,$.spring)(a,ge)}},function(t){var a={position:"fixed",top:l(t.headerTop,ve)};return"undefined"!=typeof window&&setTimeout(function(){n({currHeaderTop:a.top})},0),Q.default.createElement("div",{className:e.ss("sticker-head-wrap"),style:a},Q.default.createElement(te.default,{data:r,scrollToStep:s,versionId:d}))}),Q.default.createElement(ae.default,{data:r}),Q.default.createElement(ne.default,null))}}]),t}(),p.propTypes={data:W.default.object.isRequired,record:W.default.object,theme:W.default.string,loginUser:W.default.object,headerTop:W.default.number.isRequired,scrollTop:W.default.number.isRequired,statsPath:W.default.string.isRequired,disabled:W.default.bool,uv:W.default.string,versionId:W.default.string,setCurrStickerTop:W.default.func,setStickerPosition:W.default.func,loginTo:W.default.func,scrollToStep:W.default.func,scrollToFirst:W.default.func},f=m))||f)||f)||f);t.default=be;t.DetailPreview=(h=(0,pe.default)(me.default),_=(0,he.default)(_e.default),h(g=_((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),F(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.statsPath,r=(0,ee.get)(t,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",a)},Q.default.createElement(se.default,{url:r}),Q.default.createElement(ce.default,{data:t,statsPath:n}),Q.default.createElement(oe.DetailInfoForPreview,{data:t}))}}]),t}(),v.propTypes={data:W.default.object,theme:W.default.string,statsPath:W.default.string.isRequired},g=y))||g)||g),t.DetailHeadForChallenge=(b=(0,pe.default)(me.default),w=(0,he.default)(_e.default),b(E=w((O=S=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),F(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.statsPath,r=e.disabled,o=e.versionId,i=(0,ee.get)(t,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",a)},Q.default.createElement(se.default,{url:i}),Q.default.createElement(le.default,{theme:"challenge",data:t,versionId:o}),Q.default.createElement(ue.BriefInfoForChallenge,{data:t,statsPath:n,disabled:r}),Q.default.createElement(oe.DetailInfoForChallenge,{data:t,disabled:r}),Q.default.createElement(re.default,null),Q.default.createElement(ae.default,{data:t}),Q.default.createElement(ne.default,null))}}]),t}(),S.propTypes={data:W.default.object,theme:W.default.string,statsPath:W.default.string.isRequired,disabled:W.default.bool,versionId:W.default.string},E=O))||E)||E),t.DetailHeadForQuiz=(k=(0,Z.decorator)({loginUser:(0,X.state)(A),loginTo:(0,X.signal)(q),uv:(0,X.state)(z),headerTop:(0,X.state)(U),scrollTop:(0,X.state)(B),setCurrStickerTop:(0,X.signal)(H),setStickerPosition:(0,X.signal)(V),initFreeTime:(0,X.signal)(G)}),T=(0,pe.default)(me.default),P=(0,he.default)(_e.default),k(C=T(C=P((I=j=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.headerTop,a=e.setStickerPosition;if(!e.disabled){var r=document.getElementById("pageBody").parentNode,o=r.scrollTop,i=r.scrollHeight,s=r.clientHeight;if((0,de.isTouch)())t<0&&a({headerTop:-ve,scrollTop:o});else{var l=J.default.findDOMNode(n.refs.detail);o<(l&&l.offsetTop||ye)?a({headerTop:-ve,scrollTop:o}):o<=i-s&&a({headerTop:Math.max(t,o>ve?0:-o),scrollTop:o})}}},i=a,o(n,i)}return i(t,Y.default),F(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.quizMapData,n=t.scrollToFirst,r=t.initFreeTime,o=(0,ee.get)(e,"quizMapData"),i=(0,ee.get)(o,"answered");n&&((0,fe.isUndefined)(a)&&(0,fe.isDraft)(o)&&!0!==i&&n(),(0,fe.isSubmitted)(a)&&(0,fe.isDraft)(o)&&!0!==i&&n()),(0,fe.isDraft)(a)&&(0,fe.isSubmitted)(o)&&r()}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this,t=this.props,a=t.headerTop,n=t.setCurrStickerTop,r=t.data,o=t.theme,i=t.statsPath,s=t.scrollToStep,u=t.disabled,c=t.uv,d=t.versionId,f=(0,ee.get)(r,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",o)},Q.default.createElement(se.default,{url:f}),Q.default.createElement(le.default,{theme:"quiz",data:r,scrollToStep:s,versionId:d}),Q.default.createElement(ce.default,{theme:"quiz",data:r,statsPath:i,disabled:u}),Q.default.createElement(oe.DetailInfoForQuiz,{data:r,disabled:u,uv:c}),Q.default.createElement(re.default,null),Q.default.createElement($.Motion,{style:{headerTop:(0,$.spring)(a,ge)}},function(t){var a={position:"fixed",top:l(t.headerTop,ve)};return"undefined"!=typeof window&&setTimeout(function(){n({currHeaderTop:a.top})},0),Q.default.createElement("div",{className:e.ss("sticker-head-wrap"),style:a},Q.default.createElement(te.default,{theme:"quiz",data:r,scrollToStep:s}))}),Q.default.createElement(ae.default,{data:r}))}}]),t}(),j.propTypes={data:W.default.object,theme:W.default.string,loginUser:W.default.object,headerTop:W.default.number.isRequired,scrollTop:W.default.number.isRequired,statsPath:W.default.string.isRequired,disabled:W.default.bool,quizMapData:W.default.object,uv:W.default.string,versionId:W.default.string,setCurrStickerTop:W.default.func,setStickerPosition:W.default.func,loginTo:W.default.func,scrollToStep:W.default.func,scrollToFirst:W.default.func,initFreeTime:W.default.func},C=I))||C)||C)||C),t.DetailHeadForSubmission=(M=(0,pe.default)(me.default),N=(0,he.default)(_e.default),M(D=N((R=x=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),F(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=(0,ee.get)(t,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",a)},Q.default.createElement(se.default,{url:n}),Q.default.createElement(re.default,null))}}]),t}(),x.propTypes={data:W.default.object,theme:W.default.string,statsPath:W.default.string.isRequired,disabled:W.default.bool},D=R))||D)||D)},,,function(e,t){e.exports={"head-bg-image-wrap":"head-bg-image-wrap_GiGEFRp_","head-bg-image":"head-bg-image_G4GX9OnR","head-bg-cover":"head-bg-cover_1UJQ_b8N"}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["quizData"],["quizData"]),_=s(["learner.recordMap"],["learner.recordMap"]),g=s(["learner.quizMap"],["learner.quizMap"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(5),E=a(6),S=a(4),O=n(a(3)),k=n(a(424)),T=n(a(7)),P=n(a(425)),C=(l=(0,E.decorator)({quizData:(0,S.state)(h),recordMap:(0,S.state)(_),quizMap:(0,S.state)(g)}),u=(0,O.default)(k.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.quizData,a=e.recordMap,n=e.quizMap,r=e.theme,o=(0,w.get)(t,"id"),i=(0,w.get)(n,o+".scoreStatus"),s=(0,w.get)(a,o),l=0;s&&(l=(0,w.get)(s,"answerScore"));var u=((0,w.get)(t,"questions")||[]).length,c=(0,w.get)(t,"quizSetting.passNumber"),d=void 0;return d=i?y.default.createElement("div",{className:this.ss("content","info")},y.default.createElement("div",{className:this.ss("score-percent")},l+"/"+u),y.default.createElement("div",{className:this.ss("score-res")},this.__("tracker_status_"+i))):y.default.createElement("div",{className:this.ss("content","info-none")},y.default.createElement("div",null,this.__("tracker_score")),y.default.createElement("div",{className:this.ss("dot")},"...")),y.default.createElement("div",{className:this.ss("tracker-wrap",r)},y.default.createElement("div",{className:this.ss("tracker",i||"none")},d),y.default.createElement("div",{className:this.ss("tracker-des")},this.__("correctly_to_pass",{percent:c+"/"+u})))}}]),t}(),f.propTypes={quizData:v.default.object,recordMap:v.default.object,quizMap:v.default.object,theme:v.default.oneOf(["default","brief"])},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=C},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=s(["common.tooltips"],["common.tooltips"]),m=s(["common.tooltipShow"],["common.tooltipShow"]),h=s(["common.tooltipHide"],["common.tooltipHide"]),_=n(a(2)),g=n(a(0)),v=n(a(19)),y=n(a(1)),b=a(6),w=a(4),E=a(45),S=n(a(409)),O=0,k=["breadcrumb"],T=(l=(0,b.decorator)({tooltips:(0,w.state)(p),tooltipShow:(0,w.signal)(m),tooltipHide:(0,w.signal)(h)}))((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={tooltipId:(O++).toString()},i=a,o(n,i)}return i(t,y.default),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.tooltips,n=t.theme,r=this.state.tooltipId,o=e.theme;a[r]&&n!==o&&this.tooltipShow(o)}},{key:"componentWillUnmount",value:function(){this.tooltipHide()}},{key:"tooltipShow",value:function(e){if(!(0,E.isDevice)()){this.tid&&clearTimeout(this.tid);var t=v.default.findDOMNode(this.refs.child).getBoundingClientRect(),a=t.left,n=t.right,r=t.top,o=t.bottom,i=this.props,s=i.theme,l=i.type,u=i.position,c=i.tooltipShow,d=i.uv;c({id:this.state.tooltipId,type:l,theme:e||s,position:u,targetWidth:n-a,targetHeight:o-r,left:a,top:r,uv:d})}}},{key:"tooltipHide",value:function(){var e=this;(0,E.isDevice)()||(this.tid&&clearTimeout(this.tid),this.tid=setTimeout(function(){(0,e.props.tooltipHide)({id:e.state.tooltipId})},50))}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,r=t.isSpan,o=t.clickToHide;if(!a)return null;var i=g.default.Children.only(a);i=g.default.cloneElement(i,{ref:"child"});var s=r?"span":"div";return g.default.createElement(s,{onMouseOver:function(){return e.tooltipShow()},onMouseLeave:function(){return e.tooltipHide()},onClick:function(){return o&&e.tooltipHide()},className:n},i,g.default.createElement(S.default,{supportThemes:k}))}}]),t}(),c.propTypes={type:_.default.oneOf(["normal"]),position:_.default.oneOf(["top","left","bottom","right","lower-right","bottom-left"]),isSpan:_.default.bool,clickToHide:_.default.bool,children:_.default.any,className:_.default.string,tooltips:_.default.object,theme:_.default.oneOf(k).isRequired,uv:_.default.string,tooltipShow:_.default.func,tooltipHide:_.default.func},c.defaultProps={type:"normal",position:"top",isSpan:!1,clickToHide:!0},u=d))||u;t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p,m,h,_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.tooltips"],["common.tooltips"]),v=n(a(2)),y=n(a(0)),b=n(a(19)),w=n(a(1)),E=a(6),S=a(4),O=n(a(5)),k=n(a(137)),T=n(a(3)),P=n(a(410)),C=(s=(0,T.default)(P.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={left:0,top:0},i=a,o(n,i)}return i(t,w.default),_(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tooltip,t=e.position,a=e.targetWidth,n=e.targetHeight,r=e.left,o=e.top,i=b.default.findDOMNode(this),s=r,l=o;switch(t){case"left":s+=-i.offsetWidth,l+=n/2-i.offsetHeight/2;break;case"right":s+=a,l+=n/2-i.offsetHeight/2;break;case"lower-right":s+=a,l+=n/2-i.offsetHeight/3;break;case"bottom":s+=a/2-i.offsetWidth/2,l+=n;break;case"bottom-left":s+=a-i.offsetWidth,l+=n;break;case"top":default:s+=a/2-i.offsetWidth/2,l+=-i.offsetHeight}this.setState({left:s,top:l})}},{key:"renderTipContent",value:function(){var e=this.props.tooltip,t=e.theme,a=e.uv,n=null;switch(t){case"breadcrumb":n=y.default.createElement(k.default,{uv:a})}return n}},{key:"render",value:function(){var e=this.props.tooltip,t=e.theme,a=e.type,n=e.position,r=this.state,o=r.left,i=r.top;return y.default.createElement("div",{className:this.ss("tooltip","tooltip-"+n,"tooltip-"+a,"theme-"+t),style:{left:o,top:i}},this.renderTipContent())}}]),t}(),u.propTypes={tooltip:v.default.object.isRequired},l=c))||l,j=(d=(0,E.decorator)({tooltips:(0,S.state)(g)}),f=(0,T.default)(P.default),d(p=f((h=m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),_(t,[{key:"render",value:function(){var e=this.props,t=e.tooltips,a=e.supportThemes,n=O.default.map(t,function(e){return e.theme&&a.indexOf(e.theme)>-1&&y.default.createElement(C,{key:e.id,tooltip:e})});return y.default.createElement("div",{className:this.ss("tooltips")},n)}}]),t}(),m.propTypes={tooltips:v.default.object.isRequired,supportThemes:v.default.array},p=h))||p)||p);t.default=j},function(e,t){e.exports={tooltips:"tooltips_2_E3fPTo",tooltip:"tooltip_3-Z8Cq10","tooltip-top":"tooltip-top_16i8OhMK","tooltip-bottom":"tooltip-bottom_1b4DznKK","tooltip-bottom-left":"tooltip-bottom-left_AH7hq19l","tooltip-left":"tooltip-left_ecOPLK7D","tooltip-right":"tooltip-right_3_AKrrOp","tooltip-lower-right":"tooltip-lower-right_3SObfS_H","theme-breadcrumb":"theme-breadcrumb_VZ2NslBr"}},function(e,t){e.exports={"breadcrumb-tip":"breadcrumb-tip_2_JlLRtz","breadcrumb-head":"breadcrumb-head_knC8ODMH","breadcrumb-item":"breadcrumb-item_28eXXQdf",last:"last_O7qjl5fV",link:"link_1YVPTI0c",title:"title_9xLlORO0","breadcrumb-arrow":"breadcrumb-arrow_e202nA7Z"}},function(e,t){e.exports={"connect-group-wrap":"connect-group-wrap_29emYbyf","group-body":"group-body_3ujnfmZf","group-head":"group-head_3Z49-r8U","head-title":"head-title_3kpPRftY","sub-title-wrap":"sub-title-wrap_1MZlG8sh","sub-title":"sub-title_MNpPqTHR","sub-title-item":"sub-title-item_qb-FCG7-","sub-title-item-label":"sub-title-item-label_2jLm7_ia",dot:"dot_HDdpy1Zn","group-foot":"group-foot_1cUjAOmP","link-item-wrap":"link-item-wrap_iYzGT3uu",link:"link_dm4Z_mcK","dot-icon":"dot-icon_TJu2TXaj","connect-group":"connect-group_oEz2bKDY",top:"top_1OmTXjvX"}},function(e,t){e.exports={sub_title_online_members:"sub_title_online_members_mv_0",sub_title_members_count:"sub_title_members_count_2w5J",button_view_group:"button_view_group_1d65"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusDot=t.default=void 0;var l,u,c,d,f,p,m,h,_,g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=s(["learner.recordMap.",""],["learner.recordMap.",""]),y=s(["data.id"],["data.id"]),b=s(["learner.parentIds"],["learner.parentIds"]),w=s(["currentHost"],["currentHost"]),E=s(["locale"],["locale"]),S=n(a(2)),O=n(a(0)),k=n(a(1)),T=a(5),P=a(6),C=a(4),j=n(a(18)),I=a(9),M=n(a(3)),N=n(a(415)),D=function(){},x=(l=(0,P.decorator)({record:(0,C.state)(v,(0,C.props)(y)),parentIds:(0,C.state)(b),currentHost:(0,C.state)(w),locale:(0,C.state)(E)}),u=(0,M.default)(N.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,k.default),g(t,[{key:"scrollToStep",value:function(e){this.props.scrollToStep&&this.props.scrollToStep(e)}},{key:"renderOutlineItem",value:function(e){var t=e.item,a=e.index,n=e.lastIndex,r=e.completed,o=(0,I.GetCompletedStatus)(a,r);return O.default.createElement("div",{key:"item_"+a,className:this.ss("item","text")},O.default.createElement(R,{isFirst:0===a,isLast:a===n,status:o}),O.default.createElement("div",{className:this.ss("item-title",o.completed&&"completed")},O.default.createElement("div",{className:this.ss("item-index")},a+1+"."),O.default.createElement("div",{className:this.ss("title")},(0,T.get)(t,"title"),("lab"===(0,T.get)(t,"type")||!0===(0,T.get)(t,"withLab"))&&O.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_streaming_lab")}))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.record,r=t.parentIds,o=t.disabled,i=t.currentHost,s=t.locale,l=t.uv,u=t.versionId,c=a.type,d=(0,I.GetRecordSubItems)({data:a,record:n,versionId:u}),f=d.items,p=d.completed;if(!f||0===f.length)return null;var m=f.length-1,h=f.map(function(t,n){if("tutorial"===c)return O.default.createElement("a",{key:"item_"+n,className:e.ss("item-link"),onClick:o?D():function(){return e.scrollToStep({itemId:t.id})}},e.renderOutlineItem({item:t,index:n,lastIndex:m,completed:p}));var u=(0,j.default)((0,I.GetItemUrlInDetail)({parentIds:r,data:a,item:t,locale:s,uv:l}),i);return O.default.createElement("a",{key:"item_"+n,className:e.ss("item-link"),href:o?"#":u},e.renderOutlineItem({item:t,index:n,lastIndex:m,completed:p}))});return O.default.createElement("div",{className:this.ss("outline-items")},h)}}]),t}(),d.propTypes={data:S.default.object,record:S.default.object,parentIds:S.default.object,currentHost:S.default.string,locale:S.default.string,disabled:S.default.bool,uv:S.default.string,versionId:S.default.string,scrollToStep:S.default.func},c=f))||c)||c);t.default=x;var R=t.StatusDot=(p=(0,M.default)(N.default))((_=h=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,k.default),g(t,[{key:"render",value:function(){var e=this.props,t=e.isFirst,a=e.isLast,n=e.status,r=n.prevCompleted,o=n.nextCompleted,i=n.completed;return O.default.createElement("div",{className:this.ss("status-dot")},!t&&O.default.createElement("div",{className:this.ss("status-bg-up",i&&r&&"completed")},O.default.createElement("div",{className:this.ss("vertical-line")})),!a&&O.default.createElement("div",{className:this.ss("status-bg-down",i&&o&&"completed")},O.default.createElement("div",{className:this.ss("vertical-line")})),O.default.createElement("div",{className:this.ss("dot",i&&"completed")}))}}]),t}(),h.propTypes={isFirst:S.default.bool,isLast:S.default.bool,status:S.default.object},m=_))||m},function(e,t){e.exports={"outline-items":"outline-items_2zLjTXJj",text:"text_2GUFJu8v","item-link":"item-link_230NRe65","item-title":"item-title_My8ol-2D",item:"item_1NMLbnGa","title-wrap":"title-wrap_N7moP-pl",dot:"dot_2pW0m4nf",icon:"icon_1CEdrsGS",completed:"completed_3qpXrdB0","item-index":"item-index_2FWvVHUV","status-dot":"status-dot_203fed9E","vertical-line":"vertical-line_1QtyLSBI","status-bg-up":"status-bg-up_1bgOI9Io","status-bg-down":"status-bg-down_2_112rSl"}},function(e,t){e.exports={center:"center_1Se7LH-J","section-wrap":"section-wrap_-8vbwfDA","summary-wrap":"summary-wrap_3dXPGQR3","projectObjective-wrap":"projectObjective-wrap_2BV_ncwP","section-title":"section-title_UDJD7Kl8","parent-list-wrap":"parent-list-wrap_uXYNMig6","parent-list-item":"parent-list-item_10a6sg0J",type:"type_3MyGn154",title:"title_282pwgAn",dot:"dot_2Eehq28D","tags-wrap":"tags-wrap_1Mc3oanU",tags:"tags_1h8mZd0V","tag-item":"tag-item_skbQGPHX",active:"active_1Nj8wMow",tag:"tag_t13oztMw","keep-learn":"keep-learn_-YRFj2rx",language:"language_2_T4JdwN","unityVersion-wrap":"unityVersion-wrap_1eEDWlNW",select:"select_2HFDxdKa",unityVersion:"unityVersion_3tom5klw","detailVersion-title":"detailVersion-title_3eOaerOv","help-icon":"help-icon_17c2e_9p",version_tooltip:"version_tooltip_3i1eUcWv",preview:"preview_2en6fI7e","unityVersion-title":"unityVersion-title_1CA-wjN_","with-all":"with-all_3FwOgMsh","download-wrap":"download-wrap_2scY3Z6C",educator:"educator_3j8JlOFH",quiz:"quiz_2QqfbWeq",material:"material_2PmvZgMB","material-icon":"material-icon_26-rszHA",solution:"solution_3v2VL_kF","links-wrap":"links-wrap_3JhqxQFg","buton-sign-in":"buton-sign-in_RlH-UlDH"}},function(e,t){e.exports={center:"center_31tiVqQM",educator:"educator_20kLhRtX",content:"content_2jy29LJv",architecture:"architecture_314MMX0D","section-content":"section-content_3noYQKoG","section-title":"section-title_2qWTGCGL",column:"column_1EA8IYwP","left-column":"left-column_2rptmDOs","right-column":"right-column_32Pfsc4H","tag-wrap":"tag-wrap_3oK1crvB","tag-item":"tag-item_3tPijpl6",downloads:"downloads_1R40685S",resources:"resources_2U6EZCzZ",material:"material_w4iPytQo","material-icon":"material-icon_3TsZVrGr",tag:"tag_3zH7fYa6","educator-age-range-wrap":"educator-age-range-wrap_1d-_Z4fn",preview:"preview_1E0HnQtL","educator-age-range-title":"educator-age-range-title_VC-GfrsH",default:"default_1kBrXCiC","educator-instruction-time-wrap":"educator-instruction-time-wrap_3NtiR6B5"}},function(e,t){e.exports={section_title_description:"section_title_description_3Pn5",section_title_outcome:"section_title_outcome_2IWl",section_title_objectives:"section_title_objectives_2wiJ",section_title_alignment:"section_title_alignment_24zL",section_title_preparation:"section_title_preparation_3IcK",title_educator_age_range:"title_educator_age_range_1XWU",educator_age_range:"educator_age_range_Bc9D",educator_age_range_below:"educator_age_range_below_1sX0",educator_age_range_above:"educator_age_range_above_Qf3e",title_educator_instruct_time:"title_educator_instruct_time_2XxK"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BriefInfoForChallenge=t.default=void 0;var l,u,c,d,f,p,m,h,_,g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=r(["learner.recordMap.",""],["learner.recordMap.",""]),y=r(["data.id"],["data.id"]),b=n(a(2)),w=n(a(0)),E=n(a(1)),S=a(5),O=a(6),k=a(4),T=n(a(16)),P=n(a(44)),C=n(a(49)),j=n(a(40)),I=a(134),M=a(393),N=n(a(420)),D=n(a(406)),x=n(a(3)),R=n(a(426)),F=(l=(0,x.default)(R.default))((d=c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,E.default),g(t,[{key:"renderLiveSession",value:function(){var e=this.props,t=e.theme,a=e.data,n=(0,I.GetLiveSessionFromContentData)(a);return"default"===t&&n?w.default.createElement("div",{className:this.ss("learn-live")},w.default.createElement(I.LiveSessionWidget,{data:n})):null}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.disabled,r=e.theme,o=(0,S.get)(t,"thumbnail.url",""),i=t.id,s=t.title,l=t.type;return w.default.createElement("div",{className:this.ss("brief","brief-"+r)},w.default.createElement("div",{className:this.ss("center","brief-body")},w.default.createElement("div",{className:this.ss("thumbnail")},w.default.createElement(T.default,{src:o,sizes:"284px",width:284,height:160})),w.default.createElement("div",{className:this.ss("brief-info")},"default"===r&&w.default.createElement(M.ContentEyebrow,{data:t,theme:"dark"}),w.default.createElement("div",{className:this.ss("info-top")},w.default.createElement("h1",{className:this.ss("title")},s),w.default.createElement("div",{className:this.ss("info-tags")},w.default.createElement(j.default,{data:t,size:"large",theme:"dark"}),w.default.createElement("div",{className:this.ss("dot")}),w.default.createElement(C.default,{id:i,type:l,theme:"no-tip",size:"large",disabled:n,statsPath:a}))),w.default.createElement("div",{className:this.ss("author")},w.default.createElement(P.default,{data:t,theme:"dark"}))),this.renderLiveSession(),"quiz"===r&&w.default.createElement("div",{className:this.ss("quiz-score-tracker")},w.default.createElement(D.default,{theme:"brief"}))))}}]),t}(),c.propTypes={statsPath:b.default.string.isRequired,data:b.default.object,disabled:b.default.bool,theme:b.default.oneOf(["default","quiz"])},c.defaultProps={theme:"default"},u=d))||u;t.default=F;t.BriefInfoForChallenge=(f=(0,O.decorator)({record:(0,k.state)(v,(0,k.props)(y))}),p=(0,x.default)(R.default),f(m=p((_=h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,E.default),g(t,[{key:"getAssetUrl",value:function(){var e=this.props.data;return(0,S.get)(e,"asset.url")||null}},{key:"renderProgress",value:function(){var e=this.props,t=e.data,a=e.record,n=(0,S.get)(a,"subItems",{}),r=(0,S.get)(t,"contentIds")||[],o=r.length,i=r.filter(function(e){return!0===(0,S.get)(n,e+".completed")}).length;return 0===o?null:w.default.createElement("div",{className:this.ss("challenge-progress-wrap")},w.default.createElement(N.default,{totalCount:o,completedCount:i}))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.disabled,r=(0,S.get)(t,"thumbnail.url",""),o=t.id,i=t.title,s=t.type,l=t.descPlain,u=t.asset;return w.default.createElement("div",{className:this.ss("brief","brief-challenge")},w.default.createElement("div",{className:this.ss("center","brief-body")},w.default.createElement("div",{className:this.ss("thumbnail")},w.default.createElement(T.default,{src:r,sizes:"284px",width:284,height:160})),w.default.createElement("div",{className:this.ss("brief-info")},w.default.createElement("div",{className:this.ss("title")},i),w.default.createElement("div",{className:this.ss("info-tags")},w.default.createElement(C.default,{id:o,type:s,theme:"no-tip",size:"large",disabled:n,statsPath:a})),w.default.createElement("div",{className:this.ss("des")},l),u&&w.default.createElement("div",{className:this.ss("link")},w.default.createElement("a",{className:this.ss("material"),href:this.getAssetUrl(),target:"_blank"},w.default.createElement("div",{className:this.ss("material-icon","ifont","ifont-icons_link")}),(0,S.get)(u,"name","")))),w.default.createElement("div",{className:this.ss("progress")},this.renderProgress())))}}]),t}(),h.propTypes={statsPath:b.default.string.isRequired,record:b.default.object,data:b.default.object,disabled:b.default.bool},m=_))||m)||m)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(16)),_=n(a(3)),g=n(a(421)),v={inComplete:a(422),completed:a(423)},y=(s=(0,_.default)(g.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(e){this.props.completedCount!==e.completedCount&&this.updateCanvas()}},{key:"getTotalLevel",value:function(){var e=this.props.totalCount;return e?Math.min(3,e):0}},{key:"getOneLevelCount",value:function(){var e=this.props.totalCount;return e?Math.floor(e/this.getTotalLevel()):0}},{key:"getCompletedLevel",value:function(){var e=this.props,t=e.completedCount,a=e.totalCount,n=this.getTotalLevel();if(t===a)return n;var r=this.getOneLevelCount();if(!r)return 0;for(var o=1;t>=r*o&&o<n;)o++;return Math.max(0,o-1)}},{key:"getCurrentPercentage",value:function(){var e=this.props,t=e.completedCount,a=e.totalCount,n=this.getOneLevelCount(),r=this.getTotalLevel();if(!n||!t)return 0;var o=this.getCompletedLevel();if(o>=r)return 100;var i=Math.max(0,t-n*o),s=o===r-1?Math.max(1,a-n*o):n;return Math.round(100*i/s)}},{key:"updateCanvas",value:function(){var e=this.refs.canvas;if(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var a=e.width/2,n=e.height/2,r=2*Math.PI/100,o=t.createLinearGradient(0,0,0,180);o.addColorStop(0,"#42EB7E"),o.addColorStop(1,"#1FD348");var i=function(e,i){t.save(),t.beginPath(),t.strokeStyle=o,t.lineWidth=20,t.lineCap=i,t.arc(a,n,a-10,-Math.PI/2,-Math.PI/2+e*r,!1),t.stroke(),t.restore()};t.save(),t.beginPath(),t.strokeStyle="#5A5A5B",t.lineWidth=20,t.arc(a,n,a-10,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore();var s=this.getCurrentPercentage();s>0&&(i(s,"round"),i(5,"square"))}}},{key:"renderStart",value:function(e){return e?p.default.createElement(h.default,{key:"completed",src:v.completed,sizes:"100px"}):p.default.createElement(h.default,{key:"inCompleted",src:v.inComplete,sizes:"100px"})}},{key:"render",value:function(){if(!this.props.totalCount)return null;var e=this.getTotalLevel(),t=this.getCompletedLevel(),a=t>=1,n=t>=2,r=t>=3,o=1===e,i=2===e,s=[];return e>=3&&s.push(p.default.createElement("div",{className:this.ss("star-icon"),key:"single-star"},this.renderStart(a))),e>=2&&s.push(p.default.createElement("div",{className:this.ss("star-icon"),key:"only-two"},this.renderStart(n))),p.default.createElement("div",{className:this.ss("progress-wrapper")},p.default.createElement("div",{className:this.ss("bgc-icon")},p.default.createElement("canvas",{ref:"canvas",width:174,height:174})),p.default.createElement("div",{className:this.ss("star-wrapper",o&&"single",i&&"only-two")},p.default.createElement("div",{className:this.ss("up")},p.default.createElement("div",{className:this.ss("star-icon")},this.renderStart(r||o&&a||i&&a))),!o&&p.default.createElement("div",{className:this.ss("down")},s)))}}]),t}(),u.propTypes={totalCount:f.default.number,completedCount:f.default.number},u.defaultProps={completedCount:0},l=c))||l;t.default=y},function(e,t){e.exports={"progress-wrapper":"progress-wrapper_3Gf1tylT","bgc-icon":"bgc-icon_3pcI39Zf","star-wrapper":"star-wrapper_T5P3Vmj1",single:"single_2wiv-h4E",up:"up_3h7L2GTR","only-two":"only-two_1WRQnudh",down:"down_1wL68Zve","star-icon":"star-icon_7lh5wUMs"}},function(e,t,a){e.exports=a.p+"../styles/i/learn/star-incomplete.dcecc1ea04a51c26ef7f7c423e00a5e8.png"},function(e,t,a){e.exports=a.p+"../styles/i/learn/star-completed.03fc79874e433508a9d16ca99e580fa2.png"},function(e,t){e.exports={"tracker-wrap":"tracker-wrap_1XDqQ4AO",brief:"brief_1OYrLZwz","tracker-des":"tracker-des_38Uw-_06",tracker:"tracker_2ncefl_r",none:"none_2NUggO7_",pass:"pass_4TrgfaDO",perfect:"perfect_2SpyzKQc",notPass:"notPass_36kHx_Vn",content:"content_3bnusRRH",info:"info_1CCUiZ1Y","score-percent":"score-percent_69j3e0r2","score-res":"score-res_3iQlcsQq","info-none":"info-none_3nISC4ud",dot:"dot_3OE1ruOh"}},function(e,t){e.exports={tracker_score:"tracker_score_4SOK",tracker_status_pass:"tracker_status_pass_2oEf",tracker_status_perfect:"tracker_status_perfect_pctP",tracker_status_notPass:"tracker_status_notPass_2lk-",correctly_to_pass:"correctly_to_pass_2-U4"}},function(e,t){e.exports={center:"center_3nBoZWHN",brief:"brief_8rlR1aNg","brief-body":"brief-body_39VrevLt",thumbnail:"thumbnail_23DlvOQu","brief-info":"brief-info_3bZYTf8q","root-link":"root-link_3PZDYTWr","root-wrap":"root-wrap_1K5CGZnR",dot:"dot_SaTGXcs4",title:"title_2x-hNO8U","info-tags":"info-tags_3x1siYJt","collect-icon":"collect-icon_3bH6zh95",author:"author_3RNp0oyu","learn-live":"learn-live_3ImG3usl","brief-quiz":"brief-quiz_RyJ5VB2R","brief-challenge":"brief-challenge_28aCCMXb",des:"des_ibOiu0rj",link:"link_HODqXyBU",progress:"progress_1LBoXMXB","challenge-progress-wrap":"challenge-progress-wrap_1mOJHIwU",material:"material_5uxz0uaR","material-icon":"material-icon_2VuuzIt7","quiz-score-tracker":"quiz-score-tracker_2chKcl4J"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(428)),o=n(a(429)),i=n(a(430)),s=n(a(431)),l=n(a(432)),u=n(a(433)),c=n(a(434)),d=n(a(435)),f=[r.default,o.default,i.default,s.default,l.default,u.default,c.default,d.default];t.default={learner:f}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(11),o=a(8),i=function(e){return e&&e.__esModule?e:{default:e}}(a(36)),s=a(5),l=["learner","collectMap"],u=["learner","parentIds"],c={schema:o.POST_COLLECT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,r=a.id,o=a.type,i=t.get(u)||{},s=t.get("userPremium");return{endpoint:"/api/learn/collect",params:n({},i,{id:r,type:o,userPremium:s})}}},d={schema:o.DELETE_COLLECT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,r=a.id,o=a.type,i=t.get(u)||{},s=t.get("userPremium");return{endpoint:"/api/learn/collect/delete",params:n({},i,{id:r,type:o,userPremium:s})}}},f={schema:o.GET_COLLECT_LIST,request:{method:"get",endpoint:"/api/learn/collect/list",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.props,r=e.state,o=n.tab,i=r.get("common.tab");200===t&&a&&i===o&&(r.set("collectList",a),r.set("learner.recordMap",(0,s.get)(a,"recordMap")||{}),r.set("learner.collectMap",(0,s.get)(a,"collectMap")||{}),r.set("privacyLimitation",(0,s.get)(a,"privacyLimitation")||{}))}};t.default={name:e,depends:[],signals:{toggleCollect:i.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,r=t.id,o=t.statsPath,i=[].concat(l,[r]),s=a.get(i),u=o+".statsMap."+r+".collectCount",c=a.get(u);return a.set(u,s?Math.max(0,c-1):c+1),a.set(i,!s),s?n.negative(t):n.positive(t)},{positive:(0,r.CallHTTP)(c),negative:(0,r.CallHTTP)(d)}]),getCollectList:(0,r.CallHTTP)(f)},getServices:function(){},getState:function(){return{collectMap:{}}}}}).call(t,"views/learn/modules/learner/CollectStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e){return{architecture:e.state.get("architectureRequired")}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(11),u=a(8),c=n(a(36)),d=a(5),f=n(a(25)),p=a(9),m=n(a(18)),h=n(a(292)),_=["learner","recordMap"],g=["learner","quizMap"],v=["learner","parentIds"],y=["learner","rewards"],b=function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=a.recordMap,o=a.breadcrumb,i=a.quizMap,s=a.checkpoint,l=a.rewards;n.merge(_,r),n.merge(g,i),n.set("breadcrumb",o),n.set("checkpoint",s),n.set(y,l||[])}},w=function(e){var t=e.status,a=e.props,n=e.result,r=e.state,o=a.tab,i=r.get("common.tab");if(200===t&&n&&i===o){r.set(o+"List",n),r.set("learner.recordMap",(0,d.get)(n,"recordMap")||{}),r.set("learner.collectMap",(0,d.get)(n,"collectMap")||{}),r.set("privacyLimitation",(0,d.get)(n,"privacyLimitation")||{});var s=(0,d.get)(n,"recent");s?r.set("recent",s):r.unset("recent")}},E={schema:u.POST_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.versionId,l=t.currentId,u=a.get(v)||{},c=a.get("userPremium");return{endpoint:"/api/learn/record",params:s({},u,{id:n,type:r,versionId:o,userPremium:c,currentId:l}),headers:i({state:a})}},onSuccess:b},S={schema:u.RESTART_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.versionId,l=a.get(v)||{},u=a.get("userPremium");return{endpoint:"/api/learn/record/restart",params:s({},l,{id:n,type:r,versionId:o,userPremium:u}),headers:i({state:a})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=e.controller;if(b({status:t,result:a,state:n}),(0,d.get)(r,"type")===u.DataTypeKeys.mission){var i=o.getSignal("mission.onRestartedMission");i&&i()}}},O={schema:u.DELETE_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/record/delete",params:{id:e.props.id},headers:i({state:state})}}},k={schema:u.TOGGLE_STEP_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.stepId,l=t.completed,u=t.versionId,c=a.get(v)||{},d=a.get("userPremium");return{endpoint:"/api/learn/record/tutorial/step",params:s({},c,{id:n,type:r,stepId:o,versionId:u,completed:l,userPremium:d}),headers:i({state:a})}},onSuccess:b},T={schema:u.GET_ACTIVITY_RECORD_LIST,request:{method:"get",endpoint:"/api/learn/record/list",params:{}},onPrepareRequest:function(e){var t=e.props;return{params:{completed:t.completed,userId:t.userId}}},onSuccess:w},P={schema:u.GET_COMPLETED_RECORD_LIST,request:{method:"get",endpoint:"/api/learn/record/list",params:{}},onPrepareRequest:function(e){var t=e.props;return{params:{completed:t.completed,userId:t.userId}}},onSuccess:w},C={schema:u.POST_QUESTION_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.questionId,l=t.answerId,u=t.checked,c=t.versionId,d=a.get(v)||{},f=a.get("userPremium");return{endpoint:"/api/learn/record/quiz/question",params:s({},d,{id:n,type:r,questionId:o,answerId:l,checked:u,versionId:c,userPremium:f}),headers:i({state:a})}},onSuccess:b},j={schema:u.SET_QUIZ_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.completed,l=t.versionId,u=a.get(v)||{},c=a.get("userPremium");return{endpoint:"/api/learn/record/quiz",params:s({},u,{id:n,type:r,completed:o,userPremium:c,versionId:l}),headers:i({state:a})}},onSuccess:b},I={schema:u.RETAKE_QUIZ_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.data,r=t.versionId,o=(0,d.get)(n,"id"),l=(0,d.get)(n,"type"),u=a.get(v)||{},c=a.get("userPremium");return{endpoint:"/api/learn/record/quiz",params:s({},u,{id:o,type:l,completed:!1,userPremium:c,versionId:r}),headers:i({state:a})}},onSuccess:function(e){var t=e.props,a=e.status,n=e.result;if(200===a&&n){var r=t.data,o=t.currentHost,i=t.locale,s=t.uv,l=(0,m.default)((0,p.GetUrlByNavIds)(r.navIds,(0,p.GetDetailPageURL)(r,i,s,!0)),o);(0,f.default)(l)}}},M={schema:u.SET_MISSION_CONTENT_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.completed,l=t.versionId,u=t.currentId,c=a.get(v)||{},d=a.get("userPremium");return{endpoint:"/api/learn/record/mission/content",params:s({},c,{id:n,type:r,completed:o,userPremium:d,versionId:l,currentId:u}),headers:i({state:a})}},onSuccess:b},N={schema:u.SET_PATHWAY_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.completed,l=t.versionId,u=t.currentId,c=a.get(v)||{},d=a.get("userPremium");return{endpoint:"/api/learn/record/pathway/mission",params:s({},c,{id:n,type:r,completed:o,userPremium:d,versionId:l,currentId:u}),headers:i({state:a})}},onSuccess:b},D={schema:u.TOGGLE_TUTORIAL_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.completed,l=t.versionId,u=a.get(v)||{},c=a.get("userPremium");return{endpoint:"/api/learn/record/tutorial",params:s({},u,{id:n,type:r,versionId:l,completed:o,userPremium:c}),headers:i({state:a})}},onSuccess:b};t.default={name:e,depends:[],signals:{postRecord:c.default.LoginRequired((0,l.CallHTTP)(E)),restartRecord:c.default.LoginRequired((0,l.CallHTTP)(S)),toggleStepRecord:c.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,r=t.id,o=t.stepId,i=[].concat(_,[r]),l=a.get(i);return(0,d.get)(l,"steps."+o+".completed")?n.negative(s({},t,{completed:!1})):n.positive(s({},t,{completed:!0}))},{positive:(0,l.CallHTTP)(k),negative:(0,l.CallHTTP)(k)}]),toggleTutorialRecord:c.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,r=t.id,o=[].concat(_,[r]),i=a.get(o);return(0,d.get)(i,"completed")?n.negative(s({},t,{completed:!1})):n.positive(s({},t,{completed:!0}))},{positive:(0,l.CallHTTP)(D),negative:(0,l.CallHTTP)(D)}]),setQuestionRecord:c.default.LoginRequired([function(e){var t=e.props,a=e.state,n=t.id,r=t.questionId,i=t.answerId,l=t.checked,u=[].concat(_,[n,"answers",r]),c=a.get(u),f=(a.get("quizData.questions")||[]).find(function(e){return e.id===r}),p=1===((0,d.get)(f,"correctIds")||[]).length,m=(0,d.get)(c,"questionAnswers")||{};l?p?m=o({},i,{createdTime:Date.now().toString()}):m[i]={createdTime:Date.now().toString()}:m[r]&&delete m[i];var h=s({},c,{questionAnswers:m});a.set(u,h)}].concat(r((0,l.CallHTTP)(C)))),setQuizRecord:c.default.LoginRequired((0,l.CallHTTP)(j)),deleteRecord:c.default.LoginRequired((0,l.CallHTTP)(O)),setMissionContentRecord:c.default.LoginRequired((0,l.CallHTTP)(M)),setMissionContentRecordConfirm:c.default.LoginRequired([h.default.Confirmed("learner.setMissionContentRecord")]),setPathwayRecord:c.default.LoginRequired((0,l.CallHTTP)(N)),startToLearn:[function(e){var t=e.props,a=e.state,n=t.data,r=t.parentData,o=void 0===r?{}:r,i=t.parentIds,l=void 0===i?{}:i,c=t.uv,d=a.get("locale"),f=a.get("currentHost"),h=(0,m.default)((0,p.GetDetailPageURL)(n,d,c),f),_=s({},l,{start:!0});return o.type===u.DataTypeKeys.project&&(_.projectId=o.id),o.type===u.DataTypeKeys.course&&(_.courseId=o.id),{url:(0,p.AppendUrlQuery)(h,_)}}].concat(r(c.default.LoginRequired(function(e){var t=e.props;(0,f.default)((0,d.get)(t,"url","."))}))),getActivityRecordList:(0,l.CallHTTP)(T),getCompletedRecordList:(0,l.CallHTTP)(P),syncRecordNextData:[function(e){var t=e.state,a=e.props,n=a.data,r=a.versionId,o=[].concat(_,[n.id]),i=t.get(o),s=(0,p.GetNextRecordData)({data:n,record:i,versionId:r});s&&t.merge(o,{nextRecordData:s})}],retakeQuizRecord:c.default.LoginRequired((0,l.CallHTTP)(I))},getServices:function(){},getState:function(){return{recordMap:{},quizMap:{}}}}}).call(t,"views/learn/modules/learner/RecordStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),r=a(8),o=a(5),i={schema:r.GET_CREATED_LIST,request:{method:"get",endpoint:"/api/learn/created/list",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.props,r=e.state,i=n.tab,s=r.get("common.tab");200===t&&a&&s===i&&(r.set("createdList",a),r.set("learner.recordMap",(0,o.get)(a,"recordMap")||{}),r.set("learner.collectMap",(0,o.get)(a,"collectMap")||{}),r.set("privacyLimitation",(0,o.get)(a,"privacyLimitation")||{}))}};t.default={name:e,depends:[],signals:{getCreatedList:(0,n.CallHTTP)(i)},getServices:function(){},getState:function(){}}}).call(t,"views/learn/modules/learner/CreatedStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(){c&&(c.clear(),c=null)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(526)),i=n(a(20)),s=n(a(72)),l=["learner","lab"],u=240,c=null;t.default={name:e,depends:[],signals:{launchLab:[function(e){var t=e.props,a=e.state,n=e.controller,d=t.labUrl;(0,s.default)(d),r(),a.set([].concat(l,["status"]),i.default.inProgress),c=new o.default(function(){n.getSignal("learner.endLaunchLab")()},1e3*u)}],endLaunchLab:[function(e){e.state.set([].concat(l,["status"]),i.default.succeeded),r()}]},getServices:function(){},getState:function(){return{lab:{status:i.default.initial}}}}}).call(t,"views/learn/modules/learner/LabStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),r=a(9),o=a(8),i=function(e){return e&&e.__esModule?e:{default:e}}(a(36)),s=["learner","likeMap"],l={schema:o.POST_LIKE,request:{method:"post",endpoint:"/api/learn/like",params:{}},onPrepareRequest:function(e){var t=e.props;return{params:{id:t.id,type:t.type}}}},u={schema:o.DELETE_LIKE,request:{method:"post",endpoint:"/api/learn/like/delete",params:{}},onPrepareRequest:function(e){var t=e.props;return{params:{id:t.id,type:t.type}}}};t.default={name:e,depends:[],signals:{toggleLike:i.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,r=t.id,o=t.statsPath,i=[].concat(s,[r]),l=a.get(i),u=o+".likeCount",c=a.get(u);return a.set(u,l?Math.max(0,c-1):c+1),a.set(i,!l),l?n.negative(t):n.positive(t)},{positive:(0,n.CallHTTP)(l),negative:(0,n.CallHTTP)(u)}]),toggleCommentLike:i.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,i=e.controller,l=t.id,u=t.parentMessageId,c=t.statsPath,d=t.channelId,f=[].concat(s,[l]),p=a.get(f),m=c+".likeCount",h=a.get(m);if(a.set(m,p?Math.max(0,h-1):h+1),a.set(f,!p),d){var _="commentData.commentMap."+d+".messages.likeCount",g=a.get(_);g>=0&&a.set(_,p?Math.max(0,g-1):g+1)}var v=i.getSignal("header.sendCDPRequest");if(v){var y=(0,r.GetSendMessageCDPParams)(a,d,l,u);y.interactionType=o.InteractionTypes.like,v({type:o.CDPLearnType.interaction,eventType:o.EventType.learn,data:y})}return p?n.negative(t):n.positive(t)},{positive:(0,n.CallHTTP)(l),negative:(0,n.CallHTTP)(u)}])},getServices:function(){},getState:function(){return{likeMap:{}}}}}).call(t,"views/learn/modules/learner/LikeStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),r=a(11),o=a(8),i=a(9),s=["learner","collectMap"],l={schema:o.POST_COLLECT_TAGS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get(["learner","currentSelectTagIds"])||[],r=t.get(["tagListRecommend","tagMap"])||{},o=t.get("userPremium");return{endpoint:"/api/learn/tags/save",params:{tags:a.map(function(e){var t=(0,n.get)(r,e);return{id:e,type:(0,n.get)(t,"type")}}),userPremium:o}}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state,o=e.controller;if(200===t&&a){var i=o.getSignal("common.openSavedTagDialog");i&&i();var l=o.getSignal("learner.getTagRecommend");l&&l();var u=(0,n.get)(a,"collectMap")||{};r.merge([].concat(s),u),r.set(["learner","hasSavedTags"],!0)}},onError:(0,i.onError)("save_tags")},u={schema:o.POST_COLLECT_TAGS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/collect",params:{id:a.id,type:a.type,userPremium:t.get("userPremium")}}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state;if(200===t&&a){var o=(0,n.get)(a,"id");r.set([].concat(s,[o]),!0)}},onError:(0,i.onError)("tag")},c={schema:o.DELETE_COLLECT_TAG,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/collect/delete",params:{id:a.id,type:a.type,userPremium:t.get("userPremium")}}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state;if(200===t&&a){var o=(0,n.get)(a,"id");r.unset([].concat(s,[o]))}},onError:(0,i.onError)("tag")},d={schema:o.GET_SAVED_TAGS_LEARN_LIST,request:{method:"get",params:{}},onPrepareRequest:function(){return{endpoint:"/api/learn/tags"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&n.merge(["learner","tagRecommend"],a)},onError:(0,i.onError)("get_tags")};t.default={name:e,depends:[],signals:{changeSelectTagIds:[function(e){var t=e.props,a=e.state,r=(0,n.get)(t,"id"),o=a.get([].concat(s))||{};if((0,n.get)(o,r)){a.unset([].concat(s,[r]));var i=a.get(["learner","currentSelectTagIds"])||[];a.set(["learner","currentSelectTagIds"],i.filter(function(e){return e!==r}))}else a.set([].concat(s,[r]),!0),a.push(["learner","currentSelectTagIds"],r)}],saveTagsWithSyncRecommend:(0,r.CallHTTP)(l),getTagRecommend:(0,r.CallHTTP)(d),toggleCollectTag:[function(e){var t=e.state,a=e.props,n=e.path,r=a.id,o=[].concat(s,[r]),i=t.get(o);return t.set(o,!i),i?n.negative():n.positive()},{positive:(0,r.CallHTTP)(u),negative:(0,r.CallHTTP)(c)}]},getState:function(){return{currentSelectTagIds:[]}}}}).call(t,"views/learn/modules/learner/SavedTagStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(8),o=a(5),i=["learner","recordMap"],s=["learner","parentIds"],l=["learner","cdpState"];t.default={name:e,depends:[],signals:{postScrollRecord:[function(e){var t=e.state,a=e.props,o=e.controller;if(t.get("loginUser")){var u=a.id,c=a.type,d=[l,u,"itemStart"];if(!t.get(d)){t.set(d,!0);var f=t.get(s)||{},p=t.get("userPremium"),m=[].concat(i,[u]),h=t.get(m),_=n({},f,{id:u,type:c,userPremium:p,scrollStart:!0,isStart:null!==h});o.getSignal("header.sendCDPRequest")({type:r.CDPLearnType.item_start,eventType:r.EventType.learn,data:_})}}}],postStepScrollRecord:[function(e){var t=e.state,a=e.props,u=e.controller;if(t.get("loginUser")){var c=a.id,d=a.type,f=a.stepId,p=[].concat(l,[c,f]);if(!t.get(p)){t.set(p,!0);var m=[].concat(i,[c]),h=t.get(m),_=(0,o.get)(h,"steps."+f+".completed"),g=t.get(s)||{},v=t.get("userPremium"),y=n({},g,{id:c,type:d,stepId:f,completed:_,userPremium:v,stepScrollComplete:!0});u.getSignal("header.sendCDPRequest")({type:r.CDPLearnType.step_update,eventType:r.EventType.learn,data:y})}}}]},getServices:function(){},getState:function(){return{cdpState:{}}}}}).call(t,"views/learn/modules/learner/RecordCdpStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(t){var a=e.get("currentHost"),n=e.get("common.uv"),r=e.get("locale"),o=(0,u.default)((0,l.GetUrlByNavIds)(t.navIds,(0,l.GetDetailPageURL)(t,r,n,!0)),a);(0,c.default)(o)}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(268),s=n(i),l=a(9),u=n(a(18)),c=n(a(48)),d=a(8),f=a(5),p=["breadcrumb"];t.default={name:e,depends:[],signals:{syncBreadcrumb:[function(e){var t=e.state,a=t.get(p),n=t.get("learner.recordMap");if(a){var r=o({},a);(0,s.default)(r,n),t.set(p,r)}}],syncUncompleted:[function(e){var t=e.state,a=t.get(p),n=t.get("learner.parentIds"),r=t.get("checkpointRequired");if(a){var s=o({},a),u=(0,f.get)(n,"contentId"),c=void 0;n.missionId?c=(0,l.GetItemIdByType)({id:n.missionId,type:d.DataTypeKeys.mission}):n.pathwayId&&(c=(0,l.GetItemIdByType)({id:n.pathwayId,type:d.DataTypeKeys.pathway})),(0,i.CheckUncompletedNextNode)(s,r,c,u),t.set(p,s)}}],syncMissionNextContent:[function(e){var t=e.state,a=e.props.id,n=t.get(p),r=t.get("learner.parentIds");if(n){var o=(0,f.get)(r,"contentId"),s=(0,i.GetMissionNextContent)(n,a,o);t.set([].concat(p,["nextMissionContent"]),s)}}],syncPathwayCurrentMission:[function(e){var t=e.state,a=e.props.id,n=t.get(p);if(n){var r=(0,i.GetPathwayCurrentMission)(n,a);t.set([].concat(p,["currentMission"]),r)}}],startMission:[function(e){var t=e.state,a=e.props,n=a.missionId,o=a.contentId,s=t.get(p);s&&n&&o&&r(t,(0,i.GetMissionNextContent)(s,n,o))}],startPathwayCheckpoint:[function(e){var t=e.state,a=t.get([p,"root"]),n=(0,f.get)(a,"checkpointMap");if(n){var o=Object.keys(n).filter(function(e){var t=(0,f.get)(n,e);return!(0,f.get)(t,"state.completed")});if(o&&o.length>0){var i=(0,f.get)(n,o[0]);r(t,(0,f.get)(i,"groupNodes.0"))}}}],syncContentId:[function(e){var t=e.state,a=e.props.contentId,n=t.get("learner.parentIds.contentId");a&&n!==a&&t.merge("learner.parentIds",{contentId:a})}]},getServices:function(){}}}).call(t,"views/learn/modules/learner/BreadcrumbStore.js")},,function(e,t){e.exports={content:"content_2EjLOlvu",body:"body_1MZVd-pp","share-title":"share-title_2yte8hsx","share-content":"share-content_3FMvQ7bB","img-wrap":"img-wrap_109CxkRQ","content-text":"content-text_3zKTtOKi",dot:"dot_1Lsx5_v6","share-items":"share-items_36nOYNiw",item:"item_1VZoFD9x","item-icon":"item-icon_2GXezEih","item-img":"item-img_awXF-I30","share-url":"share-url_13EcSSg8","input-wrap":"input-wrap_pk9Ujedi","input-link":"input-link_N4ulBqAf","btn-wrap":"btn-wrap_FS4Y664r",foot:"foot_3Mx_TOo-",button:"button_18Vis-m8"}},function(e,t){e.exports={button_cancel:"button_cancel_3fsp",share_title:"share_title_20HG",copy_url:"copy_url_1n8h",share_subject:"share_subject_1c6N",share_body:"share_body_2azs",share_twitter_text:"share_twitter_text_3W-h",type_project:"type_project_1ZT6",type_tutorial:"type_tutorial_3unm",type_course:"type_course_1Nhl",type_submission:"type_submission_27Wv",type_mission:"type_mission_3jb9",type_quiz:"type_quiz_38bF",type_pathway:"type_pathway_vvwn"}},function(e,t,a){e.exports=a.p+"../styles/i/learn/icon-socialmedia-fb@2x.0b00ead9d025c9aea791d7e527538ccd.png"},function(e,t,a){e.exports=a.p+"../styles/i/learn/icon-socialmedia-twitter@2x.87d2da7062d7ea9cdc74d8826824fc60.png"},function(e,t,a){e.exports=a.p+"../styles/i/learn/icon-socialmedia-google@2x.b06351e478c7db9104f270763891f33c.png"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e).indent||r};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(443)),r="  "},function(e,t,a){e.exports=a(14)(876)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=t||(0,r.default)(e),(0,n.List)(e.split(t))};var n=a(52),r=function(e){return e&&e.__esModule?e:{default:e}}(a(180))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){a=a||(0,r.default)(e);for(var n=0,i=0,s=0;i>=0&&i<t;)n++,s=i,i=e.indexOf(a,i+a.length);return new o({line:n-1,offset:t-s})};var n=a(52),r=function(e){return e&&e.__esModule?e:{default:e}}(a(180)),o=(0,n.Record)({line:Number(0),offset:Number(0)});o.prototype.getLine=function(){return this.get("line")},o.prototype.getOffset=function(){return this.get("offset")}},function(e,t){e.exports={image_link_input_place_holder:"image_link_input_place_holder_14SK",image_alt_input_place_holder:"image_alt_input_place_holder_r8Ld"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["common.streamingLabDialog.open"],["common.streamingLabDialog.open"]),_=s(["common.closeStreamingLabDialog"],["common.closeStreamingLabDialog"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(4),w=a(6),E=n(a(32)),S=a(26),O=n(a(15)),k=n(a(3)),T=n(a(448)),P=n(a(7)),C=n(a(449)),j=(l=(0,w.decorator)({open:(0,b.state)(h),closeStreamingLabDialog:(0,b.signal)(_)}),u=(0,k.default)(T.default),c=(0,P.default)(C.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){n.props.closeStreamingLabDialog()},i=a,o(n,i)}return i(t,y.default),m(t,[{key:"render",value:function(){var e=this.props.open;return v.default.createElement(E.default,{open:e,position:"center"},v.default.createElement("div",{className:this.ss("content-wrapper")},v.default.createElement("div",{className:this.ss("streaming-lab")},v.default.createElement(S.StreamIconLabel,{theme:"inherit"})),v.default.createElement("div",{className:this.ss("title")},this.__("title")),v.default.createElement("div",{className:this.ss("description")},v.default.createElement("div",{className:this.ss("paragraph")},this.__("description_paragraph_1")),v.default.createElement("div",{className:this.ss("paragraph")},this.__("description_paragraph_2")),v.default.createElement("div",{className:this.ss("paragraph")},this.__("description_paragraph_3"))),v.default.createElement("div",{className:this.ss("feedback")},this.__("feedback_text"),v.default.createElement("a",{className:this.ss("feedback-email"),href:"mailto:support@unity3d.com"},this.__("feedback_email"))),v.default.createElement(O.default,{label:this.__("got_it"),onClick:this.onClose}),v.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},v.default.createElement("div",{className:this.ss("ifont","ifont-icon-close")}))))}}]),t}(),f.propTypes={open:g.default.bool,closeStreamingLabDialog:g.default.func},d=p))||d)||d)||d);t.default=j},function(e,t){e.exports={"content-wrapper":"content-wrapper_1AzCyFOw","streaming-lab":"streaming-lab_1LhJgaPQ",title:"title_1Dm0cvmh",description:"description_1zzIjmB0",paragraph:"paragraph_2HO7XDnm",feedback:"feedback_2bLRynlB","feedback-email":"feedback-email_PPb5BfR4","button-close":"button-close_LeC5FRZs"}},function(e,t){e.exports={title:"title_3BAL",description_paragraph_1:"description_paragraph_1_2hzy",description_paragraph_2:"description_paragraph_2_POjO",description_paragraph_3:"description_paragraph_3_12TE",feedback_text:"feedback_text_2dX7",feedback_email:"feedback_email_1UYQ",got_it:"got_it_2zdv"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailInfoForPreview=t.DetailInfoForQuiz=t.DetailInfoForChallenge=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),k=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.tab"],["common.tab"]),T=n(a(2)),P=n(a(0)),C=n(a(1)),j=a(6),I=a(4),M=a(5),N=a(451),D=n(N),x=n(a(380)),R=a(42),F=a(124),A=a(133),L=a(9),K=a(8),q=n(a(3)),z=n(a(454)),U=(s=(0,j.decorator)({tab:(0,I.state)(k)}),l=(0,q.default)(z.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleToggleExpand=function(){var e=n.state.expand;n.setState({expand:!e})},i=a,o(n,i)}return i(t,C.default),O(t,[{key:"renderTabOverview",value:function(){var e=this.props,t=e.data,a=e.disabled,n=e.scrollToStep,r=e.uv,o=e.versionId;return P.default.createElement("div",{className:this.ss("center","tab-container","overview")},P.default.createElement("div",{className:this.ss("left-column","left-column-overview")},P.default.createElement(A.Outline,{data:t,scrollToStep:n,disabled:a,uv:r,versionId:o}),P.default.createElement(A.ParentList,{data:t})),P.default.createElement("div",{className:this.ss("middle-column","middle-column-overview")},P.default.createElement(A.Summary,{data:t}),P.default.createElement(R.LearnOverviewVideoWidget,{data:t,disabled:a}),P.default.createElement(A.UnityVersionDropDown,{data:t})),P.default.createElement("div",{className:this.ss("right-column","right-column-overview")},P.default.createElement(A.ConnectGroup,{data:t,disabled:a}),P.default.createElement(A.Tags,{type:"topic",data:t,disabled:a}),P.default.createElement(A.Tags,{type:"industry",data:t,disabled:a}),P.default.createElement(A.Language,{data:t})))}},{key:"renderTabMaterials",value:function(){var e=this.props,t=e.data,a=e.disabled;return P.default.createElement("div",{className:this.ss("center","tab-container","materials")},P.default.createElement("div",{className:this.ss("middle-column","middle-column-materials")},P.default.createElement(A.Downloads,{data:t,disabled:a}),P.default.createElement(A.Resources,{data:t,disabled:a}),P.default.createElement(A.Assets,{data:t,disabled:a})))}},{key:"renderTabDetails",value:function(){var e=this.props.data;return P.default.createElement("div",{className:this.ss("center","tab-container","details")},P.default.createElement("div",{className:this.ss("left-column","left-column-details")},P.default.createElement(A.Tags,{type:"package",data:e,disabled:!0}),P.default.createElement(A.Tags,{type:"tag",data:e,disabled:!0})),P.default.createElement("div",{className:this.ss("middle-column","middle-column-details")},P.default.createElement(A.ProjectObjective,{data:e}),P.default.createElement(A.CareerGoal,{data:e})),P.default.createElement("div",{className:this.ss("right-column","right-column-details")}))}},{key:"renderToggleCollapse",value:function(){var e=this.state.expand;return P.default.createElement("div",{className:this.ss("toggle-tool",e&&"static")},P.default.createElement("button",{className:this.ss("toggle-button"),onClick:this.handleToggleExpand},P.default.createElement("div",{className:this.ss("icon",e?"toggle-expand":"toggle-collapse","ifont","ifont-lrn_icon_unfold")})))}},{key:"render",value:function(){var e=this.state.expand,t=this.props,a=t.data,n=t.disabled,r=t.tab,o=(0,M.get)(a,"type"),i=this.renderTabOverview();return r===K.DetailHeadTabs.educator&&(0,M.get)(a,"withEducator")&&(i=P.default.createElement(x.default,{data:a,disabled:n})),r===K.DetailHeadTabs.materials&&(i=this.renderTabMaterials()),r===K.DetailHeadTabs.detail&&(0,L.ValidDetailData)(a)&&(i=this.renderTabDetails()),P.default.createElement("div",{ref:"detail",className:this.ss("detail",!e&&"hidden")},P.default.createElement(D.default,{disabled:n,type:o}),i,this.renderToggleCollapse())}}]),t}(),c.propTypes={data:T.default.object.isRequired,tab:T.default.string,disabled:T.default.bool,uv:T.default.string,versionId:T.default.string,scrollToStep:T.default.func},c.defaultProps={},u=d))||u)||u);t.default=U;t.DetailInfoForChallenge=(f=(0,q.default)(z.default))((h=m=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={collapse:!0},n.handleTabChange=function(){var e=n.state.collapse;n.setState({collapse:!e})},i=a,o(n,i)}return i(t,C.default),O(t,[{key:"renderDetailsTab",value:function(){var e=this.props,t=e.data,a=e.disabled;return P.default.createElement("div",{className:this.ss("tab-content","tab-details")},P.default.createElement("div",{className:this.ss("column","left-column")},P.default.createElement(A.UnityVersionDropDown,{data:t})),P.default.createElement("div",{className:this.ss("column","middle-column")},P.default.createElement(A.Downloads,{data:t}),P.default.createElement(A.Resources,{data:t}),P.default.createElement(A.Tags,{type:"topic",data:t,disabled:a}),P.default.createElement(A.Language,{data:t})),P.default.createElement("div",{className:this.ss("column","right-column")},P.default.createElement(A.ConnectGroup,{data:t,disabled:a})))}},{key:"render",value:function(){var e=this,t=this.props.disabled,a=this.state.collapse,n=null;return a||(n=this.renderDetailsTab()),P.default.createElement("div",{ref:"detail",className:this.ss("detail-challenge")},P.default.createElement(N.TabBarForChallenge,{collapse:a,onChange:function(){return e.handleTabChange()},disabled:t}),P.default.createElement("div",{className:this.ss("center")},n))}}]),t}(),m.propTypes={data:T.default.object.isRequired,disabled:T.default.bool},m.defaultProps={},p=h))||p,t.DetailInfoForQuiz=(_=(0,q.default)(z.default))((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),O(t,[{key:"renderTabDetails",value:function(){var e=this.props,t=e.data,a=e.disabled,n=e.uv;return P.default.createElement("div",{className:this.ss("center","tab-container","details")},P.default.createElement("div",{className:this.ss("left-column","left-column-details")},P.default.createElement(F.BreadcrumbTip,{uv:n}),P.default.createElement(A.Summary,{data:t}),P.default.createElement(A.ProjectObjective,{data:t}),P.default.createElement(A.ParentList,{data:t})),P.default.createElement("div",{className:this.ss("middle-column","middle-column-details")},P.default.createElement(A.Downloads,{statsPath:"prerequisites",data:t,disabled:a}),P.default.createElement(A.Downloads,{data:t,disabled:a}),P.default.createElement(A.Tags,{type:"topic",data:t,disabled:a}),P.default.createElement(A.UnityVersionDropDown,{data:t})),P.default.createElement("div",{className:this.ss("right-column","right-column-details")},P.default.createElement(A.ConnectGroup,{data:t,disabled:a}),P.default.createElement(A.Language,{data:t})))}},{key:"render",value:function(){var e=this.props.disabled,t=this.renderTabDetails();return P.default.createElement("div",{ref:"detail",className:this.ss("detail-quiz")},P.default.createElement(D.default,{disabled:e,type:K.DataTypeKeys.quiz}),t)}}]),t}(),v.propTypes={data:T.default.object.isRequired,disabled:T.default.bool,uv:T.default.string},v.defaultProps={},g=y))||g,t.DetailInfoForPreview=(b=(0,q.default)(z.default))((S=E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),O(t,[{key:"render",value:function(){var e=this.props.data;return P.default.createElement("div",{className:this.ss("detail")},P.default.createElement("div",{className:this.ss("center","tab-container","overview")},P.default.createElement("div",{className:this.ss("left-column","left-column-overview")},P.default.createElement(A.OutlineForPreview,{data:e})),P.default.createElement("div",{className:this.ss("middle-column","middle-column-overview")},P.default.createElement(A.Summary,{data:e}),P.default.createElement(A.Downloads,{data:e}),P.default.createElement(A.Resources,{data:e}),P.default.createElement(A.Assets,{data:e}),P.default.createElement(A.UnityVersion,{data:e})),P.default.createElement("div",{className:this.ss("right-column","right-column-overview")},P.default.createElement(A.Tags,{type:"topic",data:e}),P.default.createElement(A.Tags,{type:"industry",data:e}),P.default.createElement(A.Language,{data:e}))))}}]),t}(),E.propTypes={data:T.default.object.isRequired},w=S))||w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.TabBarForChallenge=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["supportedTabs"],["supportedTabs"]),E=s(["common.tab"],["common.tab"]),S=s(["tutorialData"],["tutorialData"]),O=s(["common.changeLearnDetailTab"],["common.changeLearnDetailTab"]),k=s(["common.openShareDialog"],["common.openShareDialog"]),T=s(["comment.openCommentDrawer"],["comment.openCommentDrawer"]),P=n(a(2)),C=n(a(0)),j=n(a(1)),I=a(6),M=a(4),N=a(8),D=a(5),x=a(12),R=n(a(3)),F=n(a(452)),A=n(a(7)),L=n(a(453)),K=(l=(0,I.decorator)({tabs:(0,M.state)(w),tab:(0,M.state)(E),tutorialData:(0,M.state)(S),changeLearnDetailTab:(0,M.signal)(O),openShareDialog:(0,M.signal)(k),openCommentDrawer:(0,M.signal)(T)}),u=(0,R.default)(F.default),c=(0,A.default)(L.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClick=function(e){e!==n.props.tab&&n.props.changeLearnDetailTab({tab:e})},i=a,o(n,i)}return i(t,j.default),b(t,[{key:"renderTabs",value:function(){var e=this,t=this.props,a=t.tabs,n=t.type,r=this.props.tab||"overview";return a.map(function(t){return C.default.createElement("div",{className:e.ss("tab-item",t===r?"active":"inactive"),onClick:function(){return e.handleClick(t)},key:"tab_"+t},C.default.createElement("div",{className:e.ss("tab-item-label")},t===N.DetailHeadTabs.materials?e.__("tab_"+t+"_"+n):e.__("tab_"+t)),t===r&&C.default.createElement("div",{className:e.ss("tab-item-line")}))})}},{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.type,n=e.openShareDialog,r=e.openCommentDrawer,o=e.tutorialData,i="tutorial"===a,s=(0,D.get)(o,"id"),l=(0,D.get)(o,"statsMap."+s),u=(0,x.formatNumber)((0,D.get)(l,"commentCount")||0);return C.default.createElement("div",{className:this.ss("tabs-wrap")},C.default.createElement("div",{className:this.ss("tabs-content")},C.default.createElement("div",{className:this.ss("tabs")},this.renderTabs()),C.default.createElement("div",{className:this.ss("button-group")},i&&C.default.createElement("a",{className:this.ss("button-comment"),onClick:t?function(){}:function(){return r()}},C.default.createElement("div",{className:this.ss("comment-icon","ifont","ifont-lrn_icon_comment")}),C.default.createElement("div",{className:this.ss("comment-count")},u)),C.default.createElement("a",{className:this.ss("button","button-share"),onClick:t?function(){}:function(){return n()}},C.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-lrn_icon_share")})))))}}]),t}(),f.propTypes={tabs:P.default.array,tab:P.default.string,type:P.default.string,tutorialData:P.default.object,changeLearnDetailTab:P.default.func,disabled:P.default.bool,openShareDialog:P.default.func,openCommentDrawer:P.default.func},d=p))||d)||d)||d);t.default=K;t.TabBarForChallenge=(m=(0,I.decorator)({openShareDialog:(0,M.signal)(k)}),h=(0,R.default)(F.default),_=(0,A.default)(L.default),m(g=h(g=_((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,j.default),b(t,[{key:"onChange",value:function(){var e=this.props,t=e.onChange;!0!==e.disabled&&t&&t()}},{key:"renderTabs",value:function(){var e=this,t=this.props.collapse;return["detail"].map(function(a){return C.default.createElement("div",{className:e.ss("tab-item"),onClick:function(){return e.onChange()},key:"tab_"+a},C.default.createElement("div",{className:e.ss("tab-item-content")},C.default.createElement("div",{className:e.ss("tab-item-label")},e.__("tab_"+a)),!t&&C.default.createElement("div",{className:e.ss("tab-item-line")})),C.default.createElement("div",{className:e.ss("icon",!t&&"toggle-expand","ifont","ifont-lrn_icon_unfold")}))})}},{key:"render",value:function(){var e=this.props,t=e.collapse,a=e.disabled,n=e.openShareDialog;return C.default.createElement("div",{className:this.ss("tabs-challenge-wrap")},C.default.createElement("div",{className:this.ss("tabs-content",t&&"collapse")},C.default.createElement("div",{className:this.ss("tabs")},this.renderTabs()),C.default.createElement("div",{className:this.ss("button-group")},C.default.createElement("a",{className:this.ss("button-share"),onClick:a?function(){}:function(){return n()}},C.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-lrn_icon_share")})))))}}]),t}(),v.propTypes={collapse:P.default.bool,onChange:P.default.func,disabled:P.default.bool,openShareDialog:P.default.func},g=y))||g)||g)||g)},function(e,t){e.exports={"tabs-wrap":"tabs-wrap__jRy0TZo","tabs-content":"tabs-content_2qrr7xon","button-group":"button-group_12UyzljE","button-comment":"button-comment_1tvi9VZT","comment-icon":"comment-icon_s_QPWYHu","button-share":"button-share_2h9IAdB5","share-icon":"share-icon_1kCPCXsi",tabs:"tabs_2zQ91rxZ","tab-item":"tab-item_139lL-2Q",active:"active_3a6DS044","tab-item-line":"tab-item-line_3MSsRFG2","tabs-challenge-wrap":"tabs-challenge-wrap_15pQmMFT",collapse:"collapse_1qFRZWd8","tab-item-content":"tab-item-content_1r_u2-Tb",icon:"icon_2gbVyuT_","toggle-expand":"toggle-expand_1t5_tAoj"}},function(e,t){e.exports={tab_overview:"tab_overview_37j7",tab_educator:"tab_educator_iIIs",tab_detail:"tab_detail_1LWY",tab_materials_tutorial:"tab_materials_tutorial_3tho",tab_materials_project:"tab_materials_project_2FcF",tab_materials_course:"tab_materials_course_xiAK",tab_materials_quiz:"tab_materials_quiz_1bl5"}},function(e,t){e.exports={center:"center_NCukgIeh","toggle-tool":"toggle-tool_2vUQ-0Ka",static:"static_208LrMSL","toggle-button":"toggle-button_hUXzEIYK",icon:"icon_2VbKCzXi","toggle-expand":"toggle-expand_2w9PWvVH",detail:"detail_1aZpzwwy",hidden:"hidden_3k8FBcGM","tab-container":"tab-container_3a4__NJt","left-column":"left-column_HeHP3jo6","middle-column":"middle-column_ZVFbHTr5","right-column":"right-column_hzJRmeCS","detail-challenge":"detail-challenge_3K9aD0AS","tab-content":"tab-content_3YHZluzi",column:"column_1NNn0D1_","detail-quiz":"detail-quiz_CSxMMUgY"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["loginUser"],["loginUser"]),h=s(["premiumRequired"],["premiumRequired"]),_=s(["paymentRequired"],["paymentRequired"]),g=s(["locale"],["locale"]),v=s(["common.uv"],["common.uv"]),y=s(["common.loginTo"],["common.loginTo"]),b=n(a(2)),w=n(a(0)),E=n(a(1)),S=a(6),O=a(4),k=a(5),T=a(26),P=n(a(140)),C=n(a(117)),j=n(a(15)),I=n(a(124)),M=a(9),N=n(a(3)),D=n(a(456)),x=(l=(0,S.decorator)({loginUser:(0,O.state)(m),premiumRequired:(0,O.state)(h),paymentRequired:(0,O.state)(_),locale:(0,O.state)(g),uv:(0,O.state)(v),loginTo:(0,O.signal)(y)}),u=(0,N.default)(D.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),p(t,[{key:"renderTryPremium",value:function(){var e=this.props,t=e.loginUser,a=e.loginTo,n=e.data,r=e.scrollToStep,o=e.versionId;return t?w.default.createElement(P.default,{data:n,scrollToStep:r,versionId:o}):w.default.createElement(j.default,{onClick:function(){return a&&a()},label:w.default.createElement(T.LoginToStartLabel,null)})}},{key:"renderTryPayment",value:function(){var e=this.props,t=e.data,a=e.locale,n=(0,k.get)(t,"paymentItem.slug"),r=(0,k.get)(t,"type"),o=(0,M.GetPayUrl)({item:n,locale:a});return w.default.createElement(j.default,{label:w.default.createElement(T.TryPaymentLabel,{type:r}),href:o})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.scrollToStep,n=e.theme,r=e.premiumRequired,o=e.paymentRequired,i=e.uv,s=e.versionId,l=w.default.createElement(P.default,{data:t,scrollToStep:a,versionId:s});return"quiz"===n&&(l=w.default.createElement(C.default,{data:t,scrollToStep:a,versionId:s})),r?l=this.renderTryPremium():o&&(l=this.renderTryPayment()),w.default.createElement("div",{className:this.ss("top-bar",n)},w.default.createElement("div",{className:this.ss("center","top-bar-body")},w.default.createElement("div",{className:this.ss("breadcrumb")},w.default.createElement(I.default,{uv:i})),w.default.createElement("div",{className:this.ss("button-group")},l)))}}]),t}(),d.propTypes={loginUser:b.default.object,data:b.default.object,premiumRequired:b.default.bool,paymentRequired:b.default.bool,locale:b.default.string,uv:b.default.string,versionId:b.default.string,scrollToStep:b.default.func,theme:b.default.oneOf(["default","challenge","quiz"]),loginTo:b.default.func},d.defaultProps={theme:"default"},c=f))||c)||c);t.default=x},function(e,t){e.exports={center:"center_2cSM-VIv","top-bar":"top-bar_2oGBfgza","top-bar-body":"top-bar-body_1RXYMB_C",breadcrumb:"breadcrumb_2sdqK1__","button-group":"button-group_1f9oHXde","button-try-premium-free":"button-try-premium-free_14trQBiS"}},function(e,t){e.exports={text:"text_32tyUwXG",center:"center_zLT7EF4q",head:"head_yq8obgY4",dialog:"dialog_i4CSiAJ_",brief:"brief_1NwOSaV9",detail:"detail_2ZDyb5SK","sticker-head-wrap":"sticker-head-wrap_2DM-xTZV"}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(271)),o=n(a(36)),i=n(a(273)),s=n(a(274)),l=n(a(460)),u=n(a(461)),c=n(a(286)),d=n(a(462)),f=n(a(287)),p=n(a(288)),m=n(a(396)),h=n(a(289)),_=n(a(463)),g=n(a(464)),v=n(a(465)),y=n(a(290)),b=n(a(466)),w=n(a(467)),E=n(a(468)),S=n(a(469)),O=n(a(291)),k=n(a(470)),T=n(a(292)),P=n(a(471)),C=[r.default,o.default,i.default,s.default,l.default,u.default,c.default,d.default,f.default,p.default,m.default,h.default,_.default,g.default,v.default,y.default,b.default,w.default,E.default,S.default,O.default,k.default,T.default,P.default];t.default={common:C}},function(e,t,a){"use strict";(function(e){function n(e){return function(t){var a=t.props,n=t.state,r=a.payload,s=(0,i.get)(a,"key")||e;n.set([].concat(l,[s]),o({open:!0},r))}}function r(e){return function(t){var a=t.props,n=t.state,r=(0,i.get)(a,"key")||e;r?n.set([].concat(l,[r]),{open:!1}):n.set(l,{})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(5),s=a(73),l=["common","dialogs"];t.default={name:e,depends:[],signals:{openDialog:[n],closeDialog:[r],openPremiumTourDialog:[n("tourDialog")],closePremiumTourDialog:[function(e){var t=e.state;(0,s.closePremiumTour)(t.get("loginUser"))},r("tourDialog")]},getServices:function(){},getState:function(){return{dialogs:{tourDialog:{}}}}}}).call(t,"views/learn/modules/common/DialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e){var t=e.props.content;(0,c.default)(t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(["common.shareDialog.show"],["common.shareDialog.show"]),i=n(["common.shareDialog.copied"],["common.shareDialog.copied"]),s=n(["common.shareSubmissionDialog.copied"],["common.shareSubmissionDialog.copied"]),l=a(29),u=a(4),c=function(e){return e&&e.__esModule?e:{default:e}}(a(323)),d=["common","shareSubmissionDialog"];t.default={name:e,depends:[],signals:{openShareDialog:[(0,l.set)((0,u.state)(o),!0)],closeShareDialog:[(0,l.set)((0,u.state)(o),!1)],copyLink:[r,(0,l.set)((0,u.state)(i),!0)],openShareSubmissionDialog:[function(e){var t=e.state,a=e.props.data;a&&t.merge([].concat(d),{data:a,show:!0})}],closeShareSubmissionDialog:[function(e){e.state.set([].concat(d),{data:null,copied:!1,show:!1})}],copySubmissionLink:[r,(0,l.set)((0,u.state)(s),!0)]},getServices:function(){},getState:function(){return{shareDialog:{show:!1,copied:!1},shareSubmissionDialog:{show:!1,copied:!1,data:null}}}}}).call(t,"views/learn/modules/common/ShareDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["common","calendarDialog"];t.default={name:e,depends:[],signals:{openCalendarDialog:[function(e){var t=e.props,n=e.state,r=t.data;n.set(a,{show:!0,data:r})}],closeCalendarDialog:[function(e){e.state.set(a,{show:!1,data:{}})}]},getServices:function(){},getState:function(){return{calendarDialog:{show:!1}}}}}).call(t,"views/learn/modules/common/CalendarDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=["common","learnPositions"];t.default={name:e,depends:[],signals:{setLearnItemPositions:[function(e){var t=e.state,r=e.props.positions;t.set(n,a({},r))}]},getState:function(){return{learnPositions:null}}}}).call(t,"views/learn/modules/common/LearnPositions.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["common","publishFlowDialog"];t.default={name:e,depends:[],signals:{closePublishFlowDialog:[function(e){e.state.set(a,{open:!1})}]},getServices:function(){return{}},getState:function(){return{open:!1}}}}).call(t,"views/learn/modules/common/PublishFlowDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),o=n(a(18)),i=n(a(523));t.default={name:e,depends:[],signals:{closeStreamingLabDialog:[function(){(0,i.default)((0,o.default)("/"))}]},getServices:function(){return{}},getState:function(e){var t=e.tutorialData,a=e.projectData,n=e.courseData,o=t||a||n,i=(0,r.get)(o,"hidden");return{streamingLabDialog:{open:!0===(0,r.get)(o,"withLab")&&!0===i}}}}}).call(t,"views/learn/modules/common/StreamingLabDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["common","backTop"];t.default={name:e,depends:[],signals:{setBackTopStatus:[function(e){var t=e.props;e.state.set([].concat(a,["showBackTop"]),t.show)}],setFootIsInView:[function(e){var t=e.props;e.state.set([].concat(a,["isFootInView"]),t.inView)}]},getState:function(){return{backTop:{showBackTop:!1,isFootInView:!1}}}}}).call(t,"views/learn/modules/common/BackTopStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.industryIds,a=e.topicIds,r=e.showLessTagIds,o=[];return[].concat(n(r),n(t),n(a)).forEach(function(e){o.indexOf(e)<0&&o.push(e)}),o}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(5),s=["common","saved"],l=["common","savedTagDialog"];t.default={name:e,depends:[],signals:{openSavedTagDialog:[function(e){e.state.set([].concat(l,["open"]),!0)}],closeSavedTagDialog:[function(e){e.state.set([].concat(l,["open"]),!1)}],syncProfileTags:[function(e){var t=e.state,a=t.get("industries"),l=t.get("topics"),u=t.get("tagListRecommend"),c=t.get("collectList"),d=(0,i.get)(a,"tagIds")||[],f=(0,i.get)(a,"tagMap"),p=(0,i.get)(l,"tagIds")||[],m=(0,i.get)(l,"tagMap"),h=(0,i.get)(c,"topicList.itemIds")||[],_=(0,i.get)(c,"topicList.topicMap")||{},g=(0,i.get)(c,"industryList.itemIds")||[],v=(0,i.get)(c,"industryList.industryMap")||{},y=[].concat(n(h),n(g)),b=o({},_,v),w=(0,i.get)(u,"tagIds")||[],E=(0,i.get)(u,"tagMap")||{},S=[].concat(n(y));0===y.length&&(S=w);var O=r({industryIds:d,topicIds:p,showLessTagIds:S}),k=o({},b,E,f,m);t.set([].concat(s,["showLessTagIds"]),S),t.set([].concat(s,["tagIds"]),O),t.set([].concat(s,["tagMap"]),k)}]},getState:function(){return{saved:{showLessTagIds:[],tagIds:[],tagMap:{}},savedTagDialog:{open:!1}}}}}).call(t,"views/learn/modules/common/SavedStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),r=["common","previewMediaPopup"];t.default={name:e,depends:[],signals:{openPreviewMediaPopup:[function(e){var t=e.props,a=e.state,o=(0,n.get)(t,"mediaContent")||{},i=(0,n.get)(t,"mediaContents")||[];a.set(r,{open:!0,mediaContent:o,mediaContents:i})}],closePreviewMediaPopup:[function(e){e.state.set(r,{open:!1,mediaContent:{},mediaContents:[]})}],moveToMediaContent:[function(e){var t=e.props,a=e.state,o=t.step,i=a.get(r),s=i.mediaContent,l=i.mediaContents,u=(0,n.get)(s,"id"),c=l.findIndex(function(e){return(0,n.get)(e,"id")===u})+o;if(c>=0&&c<l.length){var d=(0,n.get)(l,c)||{};a.set([].concat(r,["mediaContent"]),d)}}]},getServices:function(){return{}},getState:function(){return{previewMediaPopup:{open:!1,mediaContent:{},mediaContents:[]}}}}}).call(t,"views/learn/modules/common/PreviewMediaPopupStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){var t={uv:e},a=(0,_.GetUrlQueryObject)()||{},n=a.language,r=a.projectId,o=a.courseId,i=a.architecture;return n&&(t.language=n),r&&(t.projectId=r),o&&(t.courseId=o),i&&(t.architecture=i),t}Object.defineProperty(t,"__esModule",{value:!0});var i=r(["common.uv"],["common.uv"]),s=r(["uv"],["uv"]),l=r(["common.loadingUVData"],["common.loadingUVData"]),u=a(29),c=a(4),d=n(a(76)),f=n(a(77)),p=n(a(25)),m=n(a(78)),h=n(a(18)),_=a(9),g=a(5);t.default={name:e,depends:[],signals:{changeContentUnityVersion:[(0,u.set)((0,c.state)(i),(0,c.props)(s)),(0,u.set)((0,c.state)(l),!0),function(e){var t=e.props,a=e.common,n=t.options,r=void 0===n?{}:n,i=t.uv;r.isPOP||a.syncVersionToHistory(o(i))},function(e){var t=e.props,a=e.state,n=t.uv,r=(0,_.GetContentDataByState)(a),i=(0,g.get)(r,"type"),s=(0,g.get)(r,"slug"),l=a.get("currentHost");(0,p.default)((0,_.AppendUrlQuery)((0,h.default)("/"+i+"/"+s,l),o(n)))}]},getServices:function(){var e=(0,f.default)((0,m.default)(d.default))({basename:window.location.pathname});return{syncVersionToHistory:function(t){e.push({pathname:"/",query:t})}}},getState:function(e){var t=e.option;return{uv:(0,g.get)(t,"unityVersion")||"",loadingUVData:!1}}}}).call(t,"views/learn/modules/common/LearnerUnityVersionStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),o=a(9),i=a(8),s=a(5),l=["common","checkpointDialog"],u={schema:i.GET_CHECKPOINT_STATE,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.props.record;return{endpoint:"/api/learn/"+(0,s.get)(t,"type")+"/"+(0,s.get)(t,"itemId")+"/state"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&n.set([].concat(l,["status"]),a)}};t.default={name:e,depends:[],signals:{openCheckpointDialog:[function(e){var t=e.props,a=e.state,r=t.data,u=t.isSummary,c=void 0!==u&&u;if(r){var d=[],f={},p=[],m=0,h=0,_=null;r.nodes.forEach(function(e){var t=e.relation,a=e.status,n=e.id,r=e.type,l=(0,o.GetItemIdByType)({id:n,type:r}),u=(0,s.get)(e,"status.completed"),c=(0,s.get)(e,"submittedTime");if(t===i.LevelSelectsType.And)f[l]={completed:u,submitted:c,contents:[e]},_=l;else if(_){var p=f[_];p.completed=p.completed||u,p.submitted=p.submitted||c,p.contents.push(e)}a&&a.completed&&d.push(e)}),Object.keys(f).forEach(function(e){var t=f[e];t.completed?h+=1:p=[].concat(n(p),n(t.contents)),m+=1}),r.completedPercent=h/m,a.merge(l,{open:!0,data:r,groupMap:f,completion:p,completed:d,isSummary:c})}}],openCheckpointSummary:[].concat(n((0,r.CallHTTP)(u)),[function(e){var t=e.state,a=e.props,n=e.controller,r=a.record,o=(0,s.get)(r,"type"),i=t.get("checkpoint."+o+"Checkpoint");n.getSignal("common.openCheckpointDialog")({data:i,isSummary:!0})}]),closeCheckpointDialog:[function(e){e.state.set(l,{open:!1,data:{},completion:[],completed:[]})}],openPathwayCheckpoint:[function(e){var t=e.state,a=e.controller,n=t.get(["checkpoint","pathwayCheckpoint"]);a.getSignal("common.openCheckpointDialog")({data:n})}],openMissionCheckpoint:[function(e){var t=e.state,a=e.controller,n=t.get(["checkpoint","missionCheckpoint"]);a.getSignal("common.openCheckpointDialog")({data:n})}]},getServices:function(){},getState:function(){return{checkpointDialog:{open:!1,data:{},completion:[],completed:[],status:{}}}}}}).call(t,"views/learn/modules/common/CheckpointDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),r=a(268),o=a(5),i=["breadcrumb","nextMissions"];t.default={name:e,depends:[],signals:{syncNextMissions:[function(e){var t=e.state,a=t.get("breadcrumb"),s=t.get("learner.parentIds.missionId"),l=(0,n.GetItemIdByType)({id:s,type:"mission"}),u=(0,r.GetNodeByItemId)(a,l),c=(0,o.get)(u,"dependentIds"),d=(0,r.GetNextMissions)(a,c)||[];d.length>0&&t.merge(i,d)}]},getServices:function(){return{}},getState:function(){return{nextMissions:[]}}}}).call(t,"views/learn/modules/common/NextMissionsStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["common.calendarDialog.show"],["common.calendarDialog.show"]),_=s(["common.calendarDialog.data"],["common.calendarDialog.data"]),g=s(["common.closeCalendarDialog"],["common.closeCalendarDialog"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(4),S=n(a(32)),O=a(537),k=n(a(3)),T=n(a(542)),P=n(a(7)),C=n(a(543)),j=(l=(0,w.decorator)({show:(0,E.state)(h),data:(0,E.state)(_),onClose:(0,E.signal)(g)}),u=(0,k.default)(T.default),c=(0,P.default)(C.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){n.props.onClose()},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.data;return y.default.createElement(S.default,{theme:"blur",open:a,position:"center",noScroller:!1,onCloseModal:this.onClose},a&&y.default.createElement("div",{className:this.ss("contents")},y.default.createElement("div",{className:this.ss("live-session-item-content")},y.default.createElement(O.LiveSessionCard,{theme:"dialog",data:n}),y.default.createElement(O.LiveSessionInfo,{theme:"dialog",data:n})),y.default.createElement("div",{onClick:function(){return e.props.onClose()},className:this.ss("close-button","ifont","ifont-udp-close")})))}}]),t}(),f.propTypes={show:v.default.bool,data:v.default.object,onClose:v.default.func},d=p))||d)||d)||d);t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(474)),o=n(a(475)),i=n(a(476)),s=n(a(477)),l=n(a(478)),u=n(a(479)),c=n(a(480)),d=n(a(481)),f=n(a(482)),p=n(a(483)),m=n(a(484)),h=n(a(485)),_=n(a(486)),g=n(a(487)),v=n(a(488)),y=n(a(489)),b=[r.default,o.default,i.default,s.default,l.default,u.default,c.default,d.default,f.default,p.default,m.default,h.default,_.default,g.default,v.default,y.default];t.default={editor:b}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,depends:[],signals:{toggleSettings:[function(e){var t=e.state,a=t.get("editor.openSettings");t.set("editor.openSettings",!a)}],closeSettings:[function(e){e.state.set("editor.openSettings",!1)}],toggleMenu:[function(e){var t=e.props,a=e.state,n=t.key,r=a.get("editor.openMenu."+n);a.set("editor.openMenu."+n,!r)}],closeMenu:[function(e){var t=e.props,a=e.state,n=t.key;a.set("editor.openMenu."+n,!1)}],openHoverMenu:[function(e){var t=e.props,a=e.state,n=t.top,r=t.left,o=t.width;a.merge("editor.hoverMenu",{open:!0,top:n,left:r,width:o})}],closeHoverMenu:[function(e){e.state.set("editor.hoverMenu",{open:!1,top:0,left:0,width:0})}]},getServices:function(){return{}},getState:function(){return{openSettings:!0,openMenu:{},hoverMenu:{open:!1,top:0,left:0,width:0}}}}}).call(t,"views/learn/modules/editor/CreateStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(48)),o=n(a(36)),i=a(5),s=["editor","contentMap"];t.default={name:e,depends:[],signals:{addContent:[function(e){var t=e.props,a=e.state,n=t.content;a.set([].concat(s,[n.id]),n)}],downloadContent:o.default.LoginRequired(function(e){var t=e.props,a=e.state,n=t.id,o=a.get("tutorialData"),i="";o&&o.id&&(i="/api/p/"+o.id+"/attachments/"+n),n&&""!==i&&(0,r.default)(i)}),downloadDraftContent:o.default.LoginRequired(function(e){var t=e.props,a=e.state,n=t.id,o=a.get("tutorialData"),i="";o&&o.id&&(i="/api/p/"+o.id+"/attachments/"+n+"/draft"),n&&""!==i&&(0,r.default)(i)})},getState:function(e){var t=e.tutorialData,a=e.quizData,n=(0,i.get)(t,"id"),r=(0,i.get)(a,"id"),o={};return n&&(o=(0,i.get)(t,"contentMap")||{}),r&&(o=(0,i.get)(a,"contentMap")||{}),{contentMap:(0,i.merge)({},o)}},getContent:function(e,t){return e.get([].concat(s,[t]))}}}).call(t,"views/learn/modules/editor/ContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){return t.get(g+".pendingUploadIds").findIndex(function(a){return p.default.getUpload(a,t).url===e})}function i(e,t){var a=t.get(g+".pendingUploadIds"),n=[].concat(r(a)),o=n.findIndex(function(t){return t===e});-1!==o&&n.splice(o,1),n.push(e),t.set(g+".pendingUploadIds",n)}function s(e,t){var a=t.get(g+".pendingUploadIds"),n=[].concat(r(a)),o=n.findIndex(function(t){return t===e});-1!==o&&(n.splice(o,1),t.set(g+".pendingUploadIds",n))}function l(e){var t=e.state,a=(e.props||{}).uploaderKey;t.unset(g+".uploadingId"),a&&t.unset(g+"."+a+".uploadingId"),t.unset(g+".url")}Object.defineProperty(t,"__esModule",{value:!0});var u=n(["",".url"],["",".url"]),c=n(["value"],["value"]),d=a(29),f=a(4),p=function(e){return e&&e.__esModule?e:{default:e}}(a(378)),m=a(181),h=a(20),_={video:/(.*\.?|^)(youtube|youtu|vimeo|qq|bilibili)\.(com|be)/i,audio:/(.*\.?|^)(soundcloud)\.(com)/i,model3d:/(.*\.?|^)(sketchfab|skfb)\.(com|ly)/i,assetstore:/(.*\.?|^)(assetstore).*\.(unity|unity3d)\.(com)/i},g="editor.uploadVideo";t.default={name:e,depends:[p.default],signals:{addEmbedAuto:[function(e){var t=e.props,a=e.state,n=e.path,r=t.uploaderKey,i=t.url;if(-1!==o(i,a))return n.duplicate();var s=a.get(g+".uploadingId");r&&(s=a.get(g+"."+r+".uploadingId"));var l=(p.default.getUpload(s,a)||{}).status;return(0,h.isLoading)(l)?n.loading():i?n.yes({url:i}):n.dummy()},{yes:[function(e){var t=e.props,a=e.state,n=e.controller,r=t.uploaderKey,o=t.url,i=t.learnResourceType;n.getSignal("editor.changeVideoUrl")({value:o});var s=Object.keys(_).find(function(e){return!0===_[e].test(o)});if(s){var l=(0,m.createUpload)({url:o,uploadType:s}),u=g+".uploadingId";r&&(u=g+"."+r+".uploadingId"),a.set(u,l.id),n.getSignal("upload.uploadAttachment")({upload:l,learnResourceType:i})}else n.getSignal("header.showMessage")({message:"project_unsupported_url"})}],dummy:[],loading:[function(e){e.controller.getSignal("header.showMessage")({message:"project_embed_loading"})}],duplicate:[function(e){e.controller.getSignal("header.showMessage")({message:"project_embed_duplicate"})}]}],changeVideoUrl:[(0,d.set)((0,f.state)(u,g),(0,f.props)(c))],addPreviewEmbed:[function(e){var t=e.state,a=e.controller,n=t.get(g).uploadingId;if(n){l({state:t}),i(n,t);var r=p.default.getUpload(n,t).content;a.getSignal("editor.addContent")({content:r})}}],deletePreviewEmbed:[function(e){var t=e.props,a=e.state,n=t.uploadId;n&&s(n,a)}],openUploadVideo:[function(e){var t=e.props,a=e.state,n=e.controller;a.set(g+".open",!0),"editorKey"in t&&a.set(g+".parentEditorKey",t.editorKey),"url"in t&&n.getSignal("editor.addEmbedAuto")({url:t.url})}],closeUploadVideo:[function(e){e.state.set(g,{pendingUploadIds:[]})}],clearUploadVideo:[l]},getState:function(){return{uploadVideo:{pendingUploadIds:[]}}}}}).call(t,"views/learn/modules/editor/EmbedDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(["editor.uploadHtml.pendingHtml"],["editor.uploadHtml.pendingHtml"]),o=n(["html"],["html"]),i=a(29),s=a(4),l="editor.uploadHtml";t.default={name:e,depends:[],signals:{changeHtmlValue:[(0,i.set)((0,s.state)(r),(0,s.props)(o))],openUploadHtml:[function(e){var t=e.props,a=e.state;a.set(l+".open",!0),"editorKey"in t&&a.set(l+".parentEditorKey",t.editorKey)}],closeUploadHtml:[function(e){e.state.set(l,{pendingHtml:""})}]},getState:function(){return{uploadHtml:{pendingHtml:""}}}}}).call(t,"views/learn/modules/editor/HtmlDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return[function(t){var a=t.props;return{field:[].concat(f,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(i.chains.fieldChanged),[i.chains.validate])}function o(){return(0,i.Form)({tipValue:{value:"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},tipType:{value:"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(13),s=a(5),l=a(21),u=a(9),c=a(11),d="editor.tipDialog",f=["editor","tipDialog","tipDialogForm"],p={schema:a(8).POST_TIP,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/tip",params:{type:a.type,body:(0,l.parseEditorContent)(t,"editorTipBody").body}}},onSuccess:function(e){var t=e.status,a=e.state,n=e.result;if(200===t&&n&&n.id){var r=(a.get(d)||{}).tipMap;r[n.id]=n,a.merge(d,{tipId:n.id,tipMap:r})}},onError:(0,u.onError)("tip")};t.default={name:e,depends:[],signals:{changeTipValue:r("tipValue"),openTipDialog:[function(e){var t=e.props,a=e.state;a.set(d+".open",!0),"editorKey"in t&&a.set(d+".parentEditorKey",t.editorKey)}],closeTipDialog:[function(e){var t=e.state,a=t.get(d).tipMap;t.set(d,{tipDialogForm:o(),tipMap:a,tipId:""})}],changeTipDialogFormField:r(),addTip:[function(){return{formPath:f}}].concat(n(i.chains.formValidated),[function(e){var t=e.state,a=e.path,n=t.get(f);return(0,i.isValidForm)(n)?a.yes():a.no()},{yes:(0,c.CallHTTP)(p),no:[]}])},getState:function(e){var t=(e.tutorialData||{}).tipMap;return{tipDialog:{tipDialogForm:o(),tipMap:(0,s.merge)({},t),tipId:""}}}}}).call(t,"views/learn/modules/editor/TipDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=["editor","sideToolbars"];t.default={name:e,signals:{showSideToolbar:[function(e){var t=e.props,a=e.state,r=t.editorKey,o=t.blockType,i=t.top,s=[].concat(n,[r]),l=a.get(s);l&&l.blockType===o&&l.top===i||a.set(s,{isOpen:!1,blockType:o,top:i})}],hideSideToolbar:[function(e){var t=e.props,a=e.state,r=t.editorKey,o=[].concat(n,[r]);a.get(o)&&a.unset(o)}],toggleSideToolbar:[function(e){var t=e.props,r=e.state,o=t.editorKey,i=[].concat(n,[o]),s=r.get(i);s&&r.set(i,a({},s,{isOpen:!s.isOpen}))}],closeSideToolbar:[function(e){var t=e.props,r=e.state,o=t.editorKey,i=[].concat(n,[o]),s=r.get(i);s&&s.isOpen&&r.set(i,a({},s,{isOpen:!1}))}]},getState:function(){return{sideToolbars:{}}}}}).call(t,"views/learn/modules/editor/SideToolbarStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["editor","inlineToolbars"];t.default={name:e,signals:{showInlineToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.top,i=t.left,s=[].concat(a,[r]),l=n.get(s);l&&l.top===o&&l.left===i||n.set(s,{top:o,left:i})}],hideInlineToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]);n.get(o)&&n.unset(o)}],showLinkInput:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]);n.get(o)&&n.merge(o,{mode:"linkInput",value:""})}],changeLinkInputValue:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.value,i=[].concat(a,[r]),s=n.get(i);s&&"linkInput"===s.mode&&n.merge(i,{value:o})}],hideLinkInput:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&"linkInput"===i.mode&&n.merge(o,{mode:"",value:""})}]},getState:function(){return{inlineToolbars:{}}}}}).call(t,"views/learn/modules/editor/InlineToolbarStore.js")},function(e,t,a){"use strict";(function(e){function a(e){return[function(t){var a=t.props,n=t.state,r=a.editorKey,i=a.value,s=void 0===i?"":i,l=[].concat(o,[r]);n.get(l)&&n.merge(l,{mode:e,value:s})}]}function n(e){return[function(t){var a=t.props,n=t.state,r=a.editorKey,i=a.value,s=[].concat(o,[r]),l=n.get(s);l&&l.mode===e&&n.merge(s,{value:i})}]}function r(e){return[function(t){var a=t.props,n=t.state,r=a.editorKey,i=[].concat(o,[r]),s=n.get(i);s&&s.mode===e&&n.merge(i,{mode:"",value:""})}]}Object.defineProperty(t,"__esModule",{value:!0});var o=["editor","alignmentToolbar"];t.default={name:e,signals:{showAlignmentToolbar:[function(e){var t=e.props,a=e.state,n=t.editorKey,r=t.top,i=t.left,s=[].concat(o,[n]),l=a.get(s);l&&l.top===r&&l.left===i||a.set(s,{top:r,left:i})}],hideAlignmentToolbar:[function(e){var t=e.props,a=e.state,n=t.editorKey,r=[].concat(o,[n]);a.get(r)&&a.unset(r)}],showImageLinkInput:a("linkInput"),changeImageLinkInputValue:n("linkInput"),hideImageLinkInput:r("linkInput"),showImageAltInput:a("altInput"),changeImageAltInputValue:n("altInput"),hideImageAltInput:r("altInput")},getState:function(){return{alignmentToolbar:{}}}}}).call(t,"views/learn/modules/editor/AlignmentToolbarStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["editor","mentionToolbars"];t.default={name:e,signals:{showMentionToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.top,i=t.bottom,s=t.left,l=t.prefix,u=[].concat(a,[r]),c=n.get(u);c&&c.top===o&&c.bottom===i&&c.left===s&&c.prefix===l||n.set(u,{top:o,bottom:i,left:s,prefix:l,index:0})}],hideMentionToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]);n.get(o)&&n.unset(o)}],moveToMentionItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.index,i=[].concat(a,[r]);n.get(i)&&n.merge(i,{index:o})}],moveToNextMentionItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&n.merge(o,{index:i.index+1})}],moveToPrevMentionItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&n.merge(o,{index:i.index-1})}]},getState:function(){return{mentionToolbars:{}}}}}).call(t,"views/learn/modules/editor/MentionToolbarStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["editor","mentionLearnToolbars"];t.default={name:e,signals:{showMentionLearnToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.top,i=t.bottom,s=t.left,l=t.prefix,u=[].concat(a,[r]),c=n.get(u);c&&c.top===o&&c.bottom===i&&c.left===s&&c.prefix===l||n.set(u,{top:o,bottom:i,left:s,prefix:l,index:0})}],hideMentionLearnToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]);n.get(o)&&n.unset(o)}],moveToMentionLearnItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.index,i=[].concat(a,[r]);n.get(i)&&n.merge(i,{index:o})}],moveToNextMentionLearnItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&n.merge(o,{index:i.index+1})}],moveToPrevMentionLearnItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&n.merge(o,{index:i.index-1})}]},getState:function(){return{mentionLearnToolbars:{}}}}}).call(t,"views/learn/modules/editor/MentionLearnToolbarStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,depends:[],signals:{setDragOverBlockKey:[function(e){var t=e.props,a=e.state,n=t.blockKey,r=void 0===n?"":n,o=t.internalDrag,i=void 0!==o&&o,s=a.get(["editor","dragOverBlockKey"]),l=a.get(["editor","internalDrag"]);s!==r&&a.set(["editor","dragOverBlockKey"],r),l!==i&&a.set(["editor","internalDrag"],i)}],setDragStartBlockKey:[function(e){var t=e.props,a=e.state,n=t.blockKey,r=void 0===n?"":n,o=t.blockAfterKey,i=void 0===o?"":o,s=a.get(["editor","dragStartBlockKey"]),l=a.get(["editor","dragStartBlockAfterKey"]);s!==r&&a.set(["editor","dragStartBlockKey"],r),l!==i&&a.set(["editor","dragStartBlockAfterKey"],i)}]},getState:function(){return{dragOverBlockKey:"",internalDrag:!1,dragStartBlockKey:"",dragStartBlockAfterKey:""}}}}).call(t,"views/learn/modules/editor/DragDropStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=["editor","positions"];t.default={name:e,depends:[],signals:{setPressed:[function(e){var t=e.props,r=e.state,o=(t||{}).pos,i=r.get(n);r.set(n,a({},i,o,{isPressed:!0}))}],updatePressed:[function(e){var t=e.props,r=e.state,o=(t||{}).pos,i=r.get(n);r.set(n,a({},i,o))}],unsetPressed:[function(e){e.state.set(n,{})}]},getServices:function(){return{}},getState:function(){return{positions:{}}}}}).call(t,"views/learn/modules/editor/DragMoveStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["project.autoSave.updateStatus"],["project.autoSave.updateStatus"]),o=a(29),i=a(4),s=a(20),l=n(s),u=n(a(725)),c=a(12),d=["editor","autoSave"];t.default={name:e,depends:[],signals:{draftChanged:[function(e){e.state.merge(d,{changedAt:Date.now()})},(0,o.debounce)(2e3),{continue:[function(e){var t=e.state,a=e.path,n=t.get(d),r=n.changedAt,o=n.savedAt,i=t.get("project.prePost.updateStatus");return!(0,s.isLoadingOrSucceeded)(i)&&r>o?a.yes():a.no()},{yes:[(0,o.set)((0,i.state)(r),l.default.inProgress),function(e){var t=e.state,a=e.http,n=e.path,r=t.get("tutorialData").id,o=(0,u.default)(t),i=Date.now();return a.put("/api/p/"+r,o).then(function(e){var a=t.get(d).savedAt;return i>a&&t.merge(d,{savedAt:i}),n.success(e)}).catch(n.error)},{success:[(0,o.set)((0,i.state)(r),l.default.succeeded)],error:[(0,c.onError)("project"),(0,o.set)((0,i.state)(r),l.default.failed)]}],no:[]}],discard:[]}]},getState:function(){return{autoSave:{changedAt:0,savedAt:0,updateStatus:""}}}}}).call(t,"views/learn/modules/editor/AutoSaveStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=["editor","userCards"];t.default={name:e,depends:[],signals:{fetchUserCard:[function(e){var t=e.props,a=e.state,r=e.http,o=e.controller,i=t.id,s=a.get([].concat(n,[i])),l=a.get(["editor","userCardsInProgress"]);if(!s&&!l)return a.set(["editor","userCardsInProgress"],!0),r.get("/api/cardFull/u/"+i).then(function(e){var t=e.result;a.set(["editor","userCardsInProgress"],!1),o.getSignal("editor.addUserCard")(t)},function(){a.set(["editor","userCardsInProgress"],!1)})}],addUserCard:[function(e){var t=e.props,r=e.state,o=t.user,i=t.projects,s=a({},o,{projects:i});r.set([].concat(n,[o.id]),s)}]},getState:function(){return{userCards:{},userCardsInProgress:!1}}}}).call(t,"views/learn/modules/editor/UserStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["editor","mentionLearnCards"];t.default={name:e,depends:[],signals:{fetchMentionLearnCard:[function(e){var t=e.props,n=e.state,r=e.http,o=e.controller,i=t.id,s=t.type;if(i&&s){var l=n.get([].concat(a,[i])),u=n.get(["editor","mentionLearnCardsInProgress"]);return l||u?void 0:(n.set(["editor","mentionLearnCardsInProgress"],!0),r.get("/api/learn/"+s+"/"+i).then(function(e){var t=e.result;n.set(["editor","mentionLearnCardsInProgress"],!1),o.getSignal("editor.addMentionLearnCard")({result:t})},function(){n.set(["editor","mentionLearnCardsInProgress"],!1)}))}}],addMentionLearnCard:[function(e){var t=e.props,n=e.state,r=t.result,o=r.id;n.set([].concat(a,[o]),r)}]},getState:function(){return{mentionLearnCards:{},mentionLearnCardsInProgress:!1}}}}).call(t,"views/learn/modules/editor/MentionLearnCardStore.js")},function(e,t,a){"use strict";(function(e){function n(e){var t=e.state,a=e.props.uploadId;t.set([].concat(d,["uploadId"]),a)}function r(e){var t=e.state,a=e.props.subtitleMap,n=(t.get(["option","supportedLanguages"])||[]).filter(function(e){return!(0,o.get)(a,e)});t.set([].concat(d,["subtitleLanguages"]),n);var r=(0,c.getLanguageFromLocale)(t.get("locale"));n.includes(r)?t.set([].concat(d,["selectLanguage"]),r):t.set([].concat(d,["selectLanguage"]),n[0]||"")}Object.defineProperty(t,"__esModule",{value:!0});var o=a(5),i=a(9),s=a(11),l=a(8),u=function(e){return e&&e.__esModule?e:{default:e}}(a(17)),c=a(68),d=["editor","subtitle"],f=["editor","subtitleDialog"],p={schema:l.DELETE_VIDEO_SUBTITLE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/videosubtitle/delete",params:{contentId:a.contentId,language:a.language}}},onSuccess:function(e){var t=e.status,a=e.state,n=e.result;if(200===t&&n){var i=(0,o.get)(n,"subtitleMap")||{};a.set([].concat(d,["content","subtitleMap"]),i),r({state:a,props:{subtitleMap:i}})}},onError:(0,i.onError)("delete video subtitle")};t.default={name:e,depends:[],signals:{openSubtitleDialog:[function(e){var t=e.props,a=e.state,n=t.content;a.set([].concat(d,["content"]),n),a.set([].concat(f,["open"]),!0),r({state:a,props:{subtitleMap:(0,o.get)(n,"subtitleMap")||{}}})}],closeSubtitleDialog:[function(e){var t=e.state;t.set(d,{}),t.set([].concat(f,["open"]),!1),t.set([].concat(f,["selectLanguage"]),"")}],changeSubtitleLang:[function(e){var t=e.state,a=e.props.selectLanguage;t.set([].concat(d,["selectLanguage"]),a)}],syncCurrentSubtitleUploadId:[n],syncSubtitleLanguages:[r],syncSubtitleMap:[function(e){var t=e.state,a=t.get("upload.uploads"),i=t.get([].concat(d,["uploadId"])),s=(0,o.get)(a,i+".content.subtitleMap");s&&(t.merge([].concat(d,["content","subtitleMap"]),s),r({state:t,props:{subtitleMap:s}}),n({state:t,props:{uploadId:""}}))}],deleteSubtitle:(0,s.CallHTTP)(p),deleteSubtitleConfirm:u.default.DeleteConfirmed("editor.deleteSubtitle")},getState:function(){return{subtitleDialog:{open:!1},subtitle:{selectLanguage:"",subtitleLanguages:[]}}}}}).call(t,"views/learn/modules/editor/SubtitleStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.changeRecaptchaCode"],["header.changeRecaptchaCode"]),p=n(a(1)),m=n(a(0)),h=n(a(2)),_=n(a(30)),g=n(a(753)),v=a(6),y=a(4),b=(s=(0,v.decorator)({onChange:(0,y.signal)(f)}))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,p.default),d(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.onVerify;a({value:e}),n&&n(e)}},{key:"render",value:function(){var e=this,t=_.default.CAPTCHA_CLIENT_KEY;return _.default.RECAPTCHA_ENABLE?m.default.createElement(g.default,{sitekey:t,onChange:function(t){return e.onChange(t)}}):null}}]),t}(),u.propTypes={onChange:h.default.func,onVerify:h.default.func},l=c))||l;t.default=b},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.lab.status"],["learner.lab.status"]),_=s(["learner.launchLab"],["learner.launchLab"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(6),w=a(4),E=a(26),S=n(a(15)),O=a(20),k=n(a(3)),T=n(a(607)),P=n(a(7)),C=n(a(608)),j=(l=(0,b.decorator)({status:(0,w.state)(h),launchLab:(0,w.signal)(_)}),u=(0,k.default)(T.default),c=(0,P.default)(C.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleLaunch=function(){var e=n.props,t=e.labUrl;(0,e.launchLab)({labUrl:t})},i=a,o(n,i)}return i(t,y.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.status,n=(0,O.isLoading)(a),r=(0,O.isLoadingOrSucceeded)(a),o=r?"launching_lab_title":"launch_lab_title",i=r?"launching_lab_description":"launch_lab_description",s="card"===t;return v.default.createElement("div",{className:this.ss("path-stream-wrap",t,a)},!s&&v.default.createElement(E.StreamIconLabel,null),s&&v.default.createElement(E.StreamIconLabelWithHelp2,null),v.default.createElement("div",{className:this.ss("content")},v.default.createElement("div",{className:this.ss("info")},v.default.createElement("div",{className:this.ss("title")},this.__(o+"_"+t)),v.default.createElement("div",{className:this.ss("description")},this.__(i+"_"+t)),v.default.createElement("div",{className:this.ss("hint")},this.__("beta_hint"))),n&&v.default.createElement("div",{className:this.ss("loading")},v.default.createElement("div",{className:this.ss("lab-loading-wrap")},v.default.createElement("div",{className:this.ss("lab-loading")})))),!r&&v.default.createElement("div",{className:this.ss("button-group")},v.default.createElement(S.default,{onClick:this.handleLaunch,label:this.__("launch_lab_btn")})))}}]),t}(),f.propTypes={labUrl:g.default.string,status:g.default.string,theme:g.default.oneOf(["card","banner"]),launchLab:g.default.func},f.defaultProps={theme:"card"},d=p))||d)||d)||d);t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["draft.setEditorState"],["draft.setEditorState"]),y=n(a(0)),b=n(a(2)),w=n(a(1)),E=n(a(19)),S=a(6),O=a(4),k=a(10),T=n(a(3)),P=n(a(612)),C=n(a(531)),j=n(a(162)),I=n(a(163)),M=n(a(165)),N=n(a(164)),D=n(a(532)),x=n(a(166)),R=n(a(167)),F=n(a(533)),A=n(a(534)),L=n(a(98)),K=n(a(535)),q=n(a(613)),z=n(a(619)),U=n(a(536)),B=n(a(123)),H=(l=(0,S.decorator)({editorState:(0,O.state)(_,(0,O.props)(g)),setEditorState:(0,O.signal)(v)}),u=(0,T.default)(P.default),l(c=u((f=d=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));p.call(n);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,theme:e.theme};n.codeBlockPlugin=(0,C.default)(i),n.blockBreakoutPlugin=(0,I.default)(i),n.richTextPlugin=(0,j.default)(i),n.navigationPlugin=(0,B.default)(i),n.sideToolbarPlugin=(0,M.default)(m({},i,{allowAttachment:!0,allowHtml:!1})),n.inlineToolbarPlugin=(0,N.default)(i),n.mentionToolbarPlugin=(0,x.default)(i),n.mentionLearnToolbarPlugin=(0,R.default)(i),n.alignmentToolbarPlugin=(0,D.default)(i),n.dragDropPlugin=(0,F.default)(i),n.atomicPlugin=(0,U.default)(i);var s=(0,k.composeDecorators)(n.alignmentToolbarPlugin.decorator,n.dragDropPlugin.decorator,n.atomicPlugin.decorator),l=m({},i,{decorator:s});return n.imagePlugin=(0,K.default)(l),n.videoPlugin=(0,A.default)(l),n.videoAttachmentPlugin=(0,L.default)(l),n.htmlPlugin=(0,q.default)(l),n.tipPlugin=(0,z.default)(l),n.draftPlugins=[n.sideToolbarPlugin,n.inlineToolbarPlugin,n.mentionToolbarPlugin,n.mentionLearnToolbarPlugin,n.alignmentToolbarPlugin,n.imagePlugin,n.videoPlugin,n.videoAttachmentPlugin,n.htmlPlugin,n.tipPlugin,n.atomicPlugin,n.dragDropPlugin,n.codeBlockPlugin,n.blockBreakoutPlugin,n.richTextPlugin,n.navigationPlugin],n}return i(t,w.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.defaultEditorState,n=e.defaultEditable,r=e.renderOnly,o=this.dragDropPlugin,i=this.sideToolbarPlugin,s=this.inlineToolbarPlugin,l=this.mentionToolbarPlugin,u=this.mentionLearnToolbarPlugin,c=this.alignmentToolbarPlugin,d=this.videoPlugin,f=this.htmlPlugin,p=this.tipPlugin;return y.default.createElement("div",{className:this.ss("body-wrap",r&&"render-only"),onClick:r?void 0:this.focus},y.default.createElement(o.EditorWrapper,null,y.default.createElement(k.Editor,{editorKey:t,defaultEditorState:a,defaultEditable:n,renderOnly:r,stripPastedStyles:!1,plugins:this.draftPlugins}),y.default.createElement(s.InlineToolbar,null),y.default.createElement(i.SideToolbar,null),y.default.createElement(l.MentionToolbar,null),y.default.createElement(u.MentionLearnToolbar,null),y.default.createElement(c.AlignmentToolbar,null),y.default.createElement(d.UploadVideoDialog,null),y.default.createElement(f.UploadHtmlDialog,null),y.default.createElement(p.TipDialog,null)))}}]),t}(),d.propTypes={editorKey:b.default.string.isRequired,prevEditorKey:b.default.string,placeholder:b.default.string,defaultEditorState:b.default.object,defaultEditable:b.default.bool,renderOnly:b.default.bool,theme:b.default.oneOf(["normal","popup"]),editorState:b.default.object,setEditorState:b.default.func},d.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal"},p=function(){var e=this;this.focus=function(t){var a=e.props,n=a.editorKey,r=a.editorState,o=a.setEditorState;if(E.default.findDOMNode(e)===t.target){var i=r.getSelection();o({editorKey:n,editorState:k.EditorState.forceSelection(r,i)})}}},c=f))||c)||c);t.default=H},,,,function(e,t,a){e.exports=a(14)(39)},function(e,t){e.exports=window.numbro},,,,,,,function(e,t,a){e.exports=a(14)(786)},function(e,t,a){e.exports=a(14)(96)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsRecord=t.ReportRecord=t.ReportForm=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M,N=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),D=s(["adminComment.id"],["adminComment.id"]),x=s(["adminComment.type"],["adminComment.type"]),R=s(["report.reportDialog"],["report.reportDialog"]),F=s(["report.reportDialog.open"],["report.reportDialog.open"]),A=s(["report.reportDialog.reportStatus"],["report.reportDialog.reportStatus"]),L=s(["report.reportDialog.selects"],["report.reportDialog.selects"]),K=s(["report.reportDialog.inputValue"],["report.reportDialog.inputValue"]),q=s(["adminComment.inputValues"],["adminComment.inputValues"]),z=s(["adminReportStats.messageMap"],["adminReportStats.messageMap"]),U=s(["adminReportStats.tutorialMap"],["adminReportStats.tutorialMap"]),B=s(["adminReportStats.submissionMap"],["adminReportStats.submissionMap"]),H=s(["adminComment.userMap"],["adminComment.userMap"]),V=s(["adminComment.removalMap"],["adminComment.removalMap"]),G=s(["adminSubmission.type"],["adminSubmission.type"]),W=s(["adminSubmission.userMap"],["adminSubmission.userMap"]),Q=s(["adminSubmission.removalMap"],["adminSubmission.removalMap"]),J=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),Y=s(["report.closeReportDialog"],["report.closeReportDialog"]),Z=s(["report.createReport"],["report.createReport"]),X=s(["report.closeReportByAdmin"],["report.closeReportByAdmin"]),$=s(["report.undoReportByAdmin"],["report.undoReportByAdmin"]),ee=s(["report.undoCommentAdmin"],["report.undoCommentAdmin"]),te=s(["report.deleteCommentAction"],["report.deleteCommentAction"]),ae=s(["adminComment.changeInputValue"],["adminComment.changeInputValue"]),ne=s(["adminComment.createComment"],["adminComment.createComment"]),re=s(["adminComment.editComment"],["adminComment.editComment"]),oe=s(["report.deleteSubmissionAction"],["report.deleteSubmissionAction"]),ie=s(["report.undoSubmissionAdmin"],["report.undoSubmissionAdmin"]),se=s(["report.changeReportValue"],["report.changeReportValue"]),le=s(["adminReportStats.userMap"],["adminReportStats.userMap"]),ue=s(["adminReportStats.removalMap"],["adminReportStats.removalMap"]),ce=n(a(2)),de=n(a(0)),fe=n(a(1)),pe=a(6),me=a(4),he=a(5),_e=n(a(32)),ge=n(a(15)),ve=n(a(119)),ye=a(20),be=a(9),we=a(8),Ee=n(a(3)),Se=n(a(554)),Oe=n(a(7)),ke=n(a(555)),Te=(l=(0,pe.decorator)({contentId:(0,me.state)(D),contentType:(0,me.state)(x),reportDialog:(0,me.state)(R),show:(0,me.state)(F),reportStatus:(0,me.state)(A),selects:(0,me.state)(L),inputValue:(0,me.state)(K),inputValues:(0,me.state)(q),messageMap:(0,me.state)(z),tutorialMap:(0,me.state)(U),submissionMap:(0,me.state)(B),commentType:(0,me.state)(x),commentUserMap:(0,me.state)(H),commentRemovalMap:(0,me.state)(V),submissionType:(0,me.state)(G),submissionUserMap:(0,me.state)(W),submissionRemovalMap:(0,me.state)(Q),postReportHTTPStatus:(0,me.state)(J,we.POST_REPORT),deleteCommentHTTPStatus:(0,me.state)(J,we.DELETE_MESSAGE),deleteSubmissionHTTPStatus:(0,me.state)(J,we.DELETE_SUBMISSION),closeDialog:(0,me.signal)(Y),createReport:(0,me.signal)(Z),closeReportByAdmin:(0,me.signal)(X),undoReportByAdmin:(0,me.signal)($),undoCommentAdmin:(0,me.signal)(ee),deleteCommentAction:(0,me.signal)(te),changeInputValue:(0,me.signal)(ae),createComment:(0,me.signal)(ne),editComment:(0,me.signal)(re),deleteSubmission:(0,me.signal)(oe),undoSubmissionAdmin:(0,me.signal)(ie)}),u=(0,Ee.default)(Se.default),c=(0,Oe.default)(ke.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){var e=n.props.closeDialog;e&&e()},n.handleSubmit=function(){var e=n.props.createReport;e&&e()},n.handleBan=function(){var e=n.props.closeReportByAdmin;e&&e()},n.handleUndo=function(){var e=n.props.undoReportByAdmin;e&&e()},n.handleCommentsUndo=function(){var e=n.props.undoCommentAdmin;e&&e()},n.handleSubmissionsUndo=function(){var e=n.props.undoSubmissionAdmin;e&&e()},n.handleDelete=function(){var e=n.props.deleteCommentAction;e&&e()},n.handleDeleteSubmission=function(){var e=n.props.deleteSubmission;e&&e()},n.computedSubmitButtonStatus=function(){var e=n.props,t=e.selects,a=e.inputValue;return 0===(t||[]).length||!(!(t||[]).includes("other")||a.trim())},n.handleCreateMessage=function(){var e=n.props,t=e.contentId,a=e.contentType,r=e.createComment,o=n.props.reportDialog.itemData,i=(0,he.get)(o,"channelId");r&&r({type:"reply",channelId:i,contentId:t,contentType:a})},n.handleEditMessage=function(){var e=n.props.editComment,t=n.props.reportDialog.itemData,a=(0,he.get)(t,"channelId"),r=(0,he.get)(t,"parentMessageId")||"",o=(0,he.get)(t,"id")||"";e&&e({type:"edit",channelId:a,parentMessageId:r,messageId:o})},n.handleInputChange=function(e,t){var a=n.props.reportDialog.itemData,r=n.props.changeInputValue,o=(0,he.get)(e,"target.value")||"",i=(0,he.get)(a,"channelId"),s=(0,he.get)(a,"id");r&&("reply"===t&&r({channelId:i,id:s,value:o}),"edit"===t&&r({channelId:i,id:s,value:o}))},i=a,o(n,i)}return i(t,fe.default),N(t,[{key:"renderInitialReport",value:function(){var e=this.computedSubmitButtonStatus(),t=this.props,a=t.reportDialog,n=t.postReportHTTPStatus,r="",o="";switch((0,he.get)(a,"reportType")){case we.ReportTypes.message:r=this.__("report_comment"),o=this.__("report_comment_des");break;case we.ReportTypes.submission:r=this.__("report_submission"),o=this.__("report_submission_des");break;default:r=this.__("report_title"),o=this.__("report_des")}return de.default.createElement("div",{className:this.ss("report")},de.default.createElement("div",{className:this.ss("head")},r),de.default.createElement("div",{className:this.ss("des")},o),de.default.createElement(Pe,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit",e&&"disabled")},de.default.createElement(ge.default,{loading:(0,ye.isLoading)(n),disabled:e,label:this.__("foot_submit_report"),widthStyle:"full",onClick:this.handleSubmit})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderBanAction",value:function(){var e=this.computedSubmitButtonStatus(),t=this.props,a=t.postReportHTTPStatus,n=t.reportDialog,r=t.tutorialMap,o=t.messageMap,i=t.submissionMap,s=(0,he.get)(n,"itemData"),l=(0,he.get)(s,"type"),u=(0,he.get)(s,"itemId"),c=(0,he.get)(s,"contentId"),d=(0,be.GetDataByItemId)({itemId:c,tutorialMap:r,submissionMap:i}),f=(0,he.get)(d,"title"),p="",m="",h="";switch(l){case we.ReportTypes.message:p=this.__("ban_comment_title",{title:f}),m=(0,he.get)(o,u+".content"),h=this.__("foot_submit_ban");break;case we.ReportTypes.submission:p=this.__("ban_submission_title",{title:f}),m=(0,he.get)(i,u+".title"),h=this.__("foot_submit_ban_submission")}return de.default.createElement("div",{className:this.ss("ban")},de.default.createElement("div",{className:this.ss("head")},p),de.default.createElement("div",{className:this.ss("des")},this.__("ban_comment_des",{message:m})),de.default.createElement("div",{className:this.ss("tips")},this.__("ban_comment_tips")),de.default.createElement(Pe,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit",e&&"disabled")},de.default.createElement(ge.default,{loading:(0,ye.isLoading)(a),disabled:e,label:h,onClick:this.handleBan})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderRecord",value:function(){return de.default.createElement("div",{className:this.ss("record")},de.default.createElement("div",{className:this.ss("head")},this.__("record_comment_title")),de.default.createElement(Ce,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit")},de.default.createElement(ge.default,{label:this.__("foot_submit_undo"),onClick:this.handleUndo})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderCommentsRecord",value:function(){var e=this.props,t=e.commentUserMap,a=e.commentRemovalMap,n=e.commentType;return de.default.createElement("div",{className:this.ss("comments_record")},de.default.createElement("div",{className:this.ss("head")},this.__("record_comment_title")),de.default.createElement(je,{type:n,userMap:t,removalMap:a}),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit")},de.default.createElement(ge.default,{label:this.__("foot_submit_undo"),onClick:this.handleCommentsUndo})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderSubmissionsRecord",value:function(){var e=this.props,t=e.submissionUserMap,a=e.submissionRemovalMap,n=e.submissionType;return de.default.createElement("div",{className:this.ss("comments_record")},de.default.createElement("div",{className:this.ss("head")},this.__("record_comment_title")),de.default.createElement(je,{type:n,userMap:t,removalMap:a}),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit")},de.default.createElement(ge.default,{label:this.__("foot_submit_undo"),onClick:this.handleSubmissionsUndo})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderReportResultContent",value:function(){var e=this.props.reportDialog,t="";switch((0,he.get)(e,"reportType")){case we.ReportTypes.message:t=this.__("return_to_comment");break;case we.ReportTypes.submission:t=this.__("return_to_submission");break;default:t=this.__("close_report_result")}return de.default.createElement("div",{className:this.ss("report-result")},de.default.createElement("div",{className:this.ss("result-content")},de.default.createElement("div",{className:this.ss("head")},this.__("submitted_head")),de.default.createElement("div",{className:this.ss("des")},this.__("submitted_des"))),de.default.createElement("div",{className:this.ss("result-foot")},de.default.createElement("div",{className:this.ss("button-return")},de.default.createElement(ge.default,{label:t,widthStyle:"full",onClick:this.onClose}))))}},{key:"renderDeleteAction",value:function(){var e=this.computedSubmitButtonStatus(),t=this.props.deleteCommentHTTPStatus;return de.default.createElement("div",{className:this.ss("delete")},de.default.createElement("div",{className:this.ss("head")},this.__("delete_comment")),de.default.createElement("div",{className:this.ss("des")},this.__("delete_comment_des")),de.default.createElement(Pe,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit",e&&"disabled")},de.default.createElement(ge.default,{loading:(0,ye.isLoading)(t),disabled:e,label:this.__("foot_submit_delete"),onClick:this.handleDelete})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderDeleteSubmissionAction",value:function(){var e=this.computedSubmitButtonStatus(),t=this.props.deleteSubmissionHTTPStatus;return de.default.createElement("div",{className:this.ss("delete")},de.default.createElement("div",{className:this.ss("head")},this.__("delete_submission")),de.default.createElement("div",{className:this.ss("des")},this.__("delete_submission_des")),de.default.createElement(Pe,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit",e&&"disabled")},de.default.createElement(ge.default,{loading:(0,ye.isLoading)(t),disabled:e,label:this.__("foot_submission_delete"),onClick:this.handleDeleteSubmission})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderHandleReply",value:function(){var e=this,t=this.props.inputValues,a=this.props.reportDialog.itemData,n=(0,he.get)(a,"channelId"),r=(0,he.get)(a,"id"),o=(0,he.get)(t,n),i=(0,he.get)(o,r)||"";return de.default.createElement("div",{className:this.ss("comments_reply")},de.default.createElement("div",{className:this.ss("input")},de.default.createElement(ve.default,{ref:function(t){e.commentInput=t},theme:"comment",placeholder:this.__("reply"),value:i,onChange:function(t){return e.handleInputChange(t,"reply")}})),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{key:"reply-input-reply-"+n,className:this.ss("button","reply-button")},de.default.createElement(ge.default,{disabled:0===i.length,size:"small",label:this.__("input_button_reply"),onClick:this.handleCreateMessage})),de.default.createElement("div",{key:"reply-input-cancel-"+n,className:this.ss("button","cancel")},de.default.createElement(ge.default,{theme:"default",size:"small",label:this.__("input_button_cancel"),onClick:this.onClose}))))}},{key:"renderHandleEdit",value:function(){var e=this,t=this.props.inputValues,a=this.props.reportDialog.itemData,n=(0,he.get)(a,"channelId"),r=(0,he.get)(a,"id"),o=(0,he.get)(t,n),i=(0,he.get)(o,r)||"";return de.default.createElement("div",{className:this.ss("comments_edit")},de.default.createElement("div",{className:this.ss("input")},de.default.createElement(ve.default,{ref:function(t){e.commentInput=t},theme:"comment",placeholder:this.__("edit"),value:i,onChange:function(t){return e.handleInputChange(t,"edit")}})),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{key:"reply-input-reply-"+n,className:this.ss("button","reply-button","disabled")},de.default.createElement(ge.default,{disabled:0===i.length,size:"small",label:this.__("input_button_edit"),onClick:this.handleEditMessage})),de.default.createElement("div",{key:"reply-input-cancel-"+n,className:this.ss("button","cancel")},de.default.createElement(ge.default,{theme:"default",size:"small",label:this.__("input_button_cancel"),onClick:this.onClose}))))}},{key:"renderDialogContent",value:function(){var e=null;switch(this.props.reportStatus){case"initial":e=this.renderInitialReport();break;case"submitted":e=this.renderReportResultContent();break;case"ban":e=this.renderBanAction();break;case"record":e=this.renderRecord();break;case"commentsRecord":e=this.renderCommentsRecord();break;case"submissionsRecord":e=this.renderSubmissionsRecord();break;case"delete":e=this.renderDeleteAction();break;case"delete_submission":e=this.renderDeleteSubmissionAction();break;case"commentReply":e=this.renderHandleReply();break;case"commentEdit":e=this.renderHandleEdit()}return e}},{key:"render",value:function(){var e=this.props.show;return de.default.createElement(_e.default,{open:e,position:"center",noScroller:!1,onCloseModal:this.onClose},de.default.createElement("div",{className:this.ss("contents")},this.renderDialogContent(),de.default.createElement("div",{className:this.ss("close")},de.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},de.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")})))))}}]),t}(),f.propTypes={contentId:ce.default.string,contentType:ce.default.string,reportDialog:ce.default.object,show:ce.default.bool,reportStatus:ce.default.string,commentType:ce.default.string,submissionType:ce.default.string,selects:ce.default.array,inputValue:ce.default.string,inputValues:ce.default.object,messageMap:ce.default.object,tutorialMap:ce.default.object,submissionMap:ce.default.object,commentUserMap:ce.default.object,commentRemovalMap:ce.default.object,submissionUserMap:ce.default.object,submissionRemovalMap:ce.default.object,postReportHTTPStatus:ce.default.string,deleteCommentHTTPStatus:ce.default.string,deleteSubmissionHTTPStatus:ce.default.string,closeDialog:ce.default.func,createReport:ce.default.func,closeReportByAdmin:ce.default.func,undoReportByAdmin:ce.default.func,undoCommentAdmin:ce.default.func,undoSubmissionAdmin:ce.default.func,deleteCommentAction:ce.default.func,changeInputValue:ce.default.func,deleteSubmission:ce.default.func,createComment:ce.default.func,editComment:ce.default.func},d=p))||d)||d)||d);t.default=Te;var Pe=t.ReportForm=(m=(0,pe.decorator)({selects:(0,me.state)(L),inputValue:(0,me.state)(K),changeReportValue:(0,me.signal)(se)}),h=(0,Ee.default)(Se.default),_=(0,Oe.default)(ke.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleCheck=function(e){var t=e.value,a=n.props.changeReportValue;a&&a({type:"radio",value:t})},n.handleInput=function(e){var t=e?e.target.value:"",a=n.props.changeReportValue;a&&a({type:"input",value:t})},i=a,o(n,i)}return i(t,fe.default),N(t,[{key:"renderOption",value:function(e){var t=this,a=e.label,n=e.value,r=(this.props.selects||[]).includes(n);return de.default.createElement("div",{key:"option-"+n,className:this.ss("option-item")},de.default.createElement("div",{className:this.ss("checkbox-wrap"),onClick:function(){return t.handleCheck(e)}},de.default.createElement("div",{className:this.ss("checkbox",r&&"active")})),de.default.createElement("div",{className:this.ss("option-text")},this.__("option_"+a)))}},{key:"renderInput",value:function(){var e=this.props,t=e.selects,a=e.inputValue;return(t||[]).includes("other")?de.default.createElement("div",{className:this.ss("other-input-wrap")},de.default.createElement("div",{className:this.ss("textarea")},de.default.createElement(ve.default,{theme:"transparent",value:a,placeholder:this.__("other_input_placeholder"),onChange:this.handleInput}))):null}},{key:"render",value:function(){var e=this,t=(we.CommentReportTypes.map(function(e){return{label:e,value:e}})||[]).map(function(t){return e.renderOption(t)});return 0===t.length?null:de.default.createElement("div",{className:this.ss("report-form")},t,this.renderInput())}}]),t}(),v.propTypes={selects:ce.default.array,inputValue:ce.default.string,changeReportValue:ce.default.func},g=y))||g)||g)||g),Ce=t.ReportRecord=(b=(0,pe.decorator)({reportDialog:(0,me.state)(R),messageMap:(0,me.state)(z),submissionMap:(0,me.state)(B),userMap:(0,me.state)(le),removalMap:(0,me.state)(ue)}),w=(0,Ee.default)(Se.default),E=(0,Oe.default)(ke.default),b(S=w(S=E((k=O=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getItemData=function(){var e=n.props,t=e.reportDialog,a=e.messageMap,r=e.submissionMap,o=(0,he.get)(t,"itemData")||{},i=(0,he.get)(o,"itemId")||{},s={};switch((0,he.get)(o,"type")){case we.ReportTypes.message:s=(0,he.get)(a,i);break;case we.ReportTypes.submission:s=(0,he.get)(r,i)}return s},i=a,o(n,i)}return i(t,fe.default),N(t,[{key:"renderField",value:function(e){var t=e.title,a=e.content,n=e.renderContent,r=[];return a&&r.push(de.default.createElement("div",{key:"text-content",className:this.ss("content")},a)),n&&r.push(de.default.createElement("div",{key:"component-content",className:this.ss("content")},n())),0===r.length?null:de.default.createElement("div",{className:this.ss("field")},de.default.createElement("div",{className:this.ss("title")},t),r)}},{key:"renderRemoveReason",value:function(){var e=this.getItemData(),t=(0,he.get)(e,"deletedTime"),a=(0,he.get)(e,"deletedReason");if(!a||!t)return null;var n=(0,he.get)(a,"type"),r=(0,he.get)(a,"content");return de.default.createElement("div",{className:this.ss("remove-reason")},de.default.createElement("div",null,this.__("option_"+n)),de.default.createElement("div",{className:this.ss("reason-content")},r))}},{key:"renderRecordTitle",value:function(e){var t=e.type,a=e.itemData,n=null;switch(t){case we.ReportTypes.message:n=this.renderField({title:this.__("field_comment"),content:(0,he.get)(a,"content")});break;case we.ReportTypes.submission:n=this.renderField({title:this.__("field_submission"),content:(0,he.get)(a,"title")})}return n}},{key:"renderRecordAuthor",value:function(e){var t=e.type,a=e.itemData,n=this.props.userMap,r=(0,he.get)(n,(0,he.get)(a,"authorId")),o=(0,he.get)(r,"fullName"),i=null;switch(t){case we.ReportTypes.message:i=this.renderField({title:this.__("field_commenterId"),content:o});break;case we.ReportTypes.submission:i=this.renderField({title:this.__("field_exerciserId"),content:o})}return i}},{key:"render",value:function(){var e=this,t=this.props,a=t.reportDialog,n=t.userMap,r=t.removalMap,o=(0,he.get)(a,"itemData")||{},i=(0,he.get)(o,"type");if("closed"!==(0,he.get)(o,"status"))return null;var s=this.getItemData(),l=(0,he.get)(r,(0,he.get)(s,"authorId")),u=(0,he.get)(n,(0,he.get)(o,"resolvedBy")),c=(0,he.get)(u,"fullName"),d=(0,he.get)(o,"resolvedTime"),f=(0,he.get)(s,"deletedTime")?we.ModeratorActionType.ban:we.ModeratorActionType.ignore,p=this.__("action_"+f,{time:d});return de.default.createElement("div",{className:this.ss("report-record")},this.renderRecordTitle({type:i,itemData:s}),this.renderRecordAuthor({type:i,itemData:s}),this.renderField({title:this.__("field_removals"),content:l}),this.renderField({title:this.__("field_moderator"),content:c}),this.renderField({title:this.__("field_action"),content:p}),f===we.ModeratorActionType.ban&&this.renderField({title:this.__("field_removal_reason"),renderContent:function(){return e.renderRemoveReason()}}))}}]),t}(),O.propTypes={reportDialog:ce.default.object,messageMap:ce.default.object,submissionMap:ce.default.object,userMap:ce.default.object,removalMap:ce.default.object},S=k))||S)||S)||S),je=t.CommentsRecord=(T=(0,pe.decorator)({reportDialog:(0,me.state)(R)}),P=(0,Ee.default)(Se.default),C=(0,Oe.default)(ke.default),T(j=P(j=C((M=I=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,fe.default),N(t,[{key:"renderField",value:function(e){var t=e.title,a=e.content,n=e.renderContent,r=[];return a&&r.push(de.default.createElement("div",{key:"text-content",className:this.ss("content")},a)),n&&r.push(de.default.createElement("div",{key:"component-content",className:this.ss("content")},n())),0===r.length?null:de.default.createElement("div",{className:this.ss("field")},de.default.createElement("div",{className:this.ss("title")},t),r)}},{key:"renderRemoveReason",value:function(){var e=this.props.reportDialog,t=(0,he.get)(e,"itemData")||{},a=(0,he.get)(t,"deletedTime"),n=(0,he.get)(t,"deletedReason");if(!n||!a)return null;var r=(0,he.get)(n,"type"),o=(0,he.get)(n,"content");return de.default.createElement("div",{className:this.ss("remove-reason")},de.default.createElement("div",null,this.__("option_"+r)),de.default.createElement("div",{className:this.ss("reason-content")},o))}},{key:"render",value:function(){var e=this,t=this.props,a=t.reportDialog,n=t.userMap,r=t.removalMap,o=t.type,i=(0,he.get)(a,"itemData")||{},s=void 0,l=void 0,u=void 0;switch(o){case we.ReportTypes.message:s=s=(0,he.get)(i,"content"),l=this.__("record_comment"),u=this.__("record_commentName");break;case we.ReportTypes.submission:s=s=(0,he.get)(i,"title"),l=this.__("field_submission"),u=this.__("field_exerciserId")}var c=(0,he.get)(n,(0,he.get)(i,"authorId")),d=(0,he.get)(c,"fullName")||(0,he.get)(c,"name"),f=(0,he.get)(n,(0,he.get)(i,"deletedBy")),p=(0,he.get)(f,"fullName")||(0,he.get)(f,"name"),m=(0,he.get)(r,(0,he.get)(i,"authorId")),h=(0,he.get)(i,"deletedTime"),_=h&&we.ModeratorActionType.ban,g=this.__("action_"+_,{time:h});return de.default.createElement("div",{className:this.ss("report-record")},this.renderField({title:l,content:s}),this.renderField({title:u,content:d}),this.renderField({title:this.__("record_removals"),content:m}),this.renderField({title:this.__("record_moderator"),content:p}),_&&this.renderField({title:this.__("record_action"),content:g}),(0,he.get)(i,"deletedTime")&&this.renderField({title:this.__("record_removal_reason"),renderContent:function(){return e.renderRemoveReason()}}))}}]),t}(),I.propTypes={type:ce.default.string,reportDialog:ce.default.object,userMap:ce.default.object,removalMap:ce.default.object},j=M))||j)||j)||j)},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.CourseCardV2=t.StatusDot=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["learner.recordMap.",""],["learner.recordMap.",""]),w=s(["course.id"],["course.id"]),E=s(["locale"],["locale"]),S=s(["currentHost"],["currentHost"]),O=s(["learner.startToLearn"],["learner.startToLearn"]),k=n(a(2)),T=n(a(0)),P=n(a(1)),C=a(6),j=a(4),I=a(5),M=n(a(16)),N=n(a(44)),D=n(a(49)),x=n(a(40)),R=a(54),F=a(59),A=a(26),L=n(a(18)),K=a(9),q=n(a(3)),z=n(a(521)),U=n(a(7)),B=n(a(522)),H={medium:{thumbnailWidth:390,thumbnailHeight:220},normal:{thumbnailWidth:600,thumbnailHeight:335}},V=(l=(0,C.decorator)({record:(0,j.state)(b,(0,j.props)(w)),locale:(0,j.state)(E),currentHost:(0,j.state)(S),startToLearn:(0,j.signal)(O)}),u=(0,q.default)(z.default),c=(0,U.default)(B.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={openDetails:!1},n.onStartCourse=function(){var e=n.props,t=e.startToLearn,a=e.course;t&&t({data:a})},i=a,o(n,i)}return i(t,P.default),y(t,[{key:"renderDetails",value:function(){var e=this,t=this.props,a=t.course,n=t.record,r=a||{},o=r.contentIds,i=r.tutorialMap,s=r.quizMap,l=r.projectMap,u=!o||0===o.length,c={};o.forEach(function(e,t){c[t]=(0,I.get)(n,"subItems."+e+".completed")});var d=!u&&o.map(function(t,a){return T.default.createElement("div",{key:t,className:e.ss("detail")},T.default.createElement(G,{isFirst:0===a,isLast:a===o.length-1,status:(0,K.GetCompletedStatus)(a,c)}),T.default.createElement("div",{className:e.ss("detail-title")},T.default.createElement("div",{className:e.ss("detail-index")},a+1+"."),(0,K.GetDataByItemId)({itemId:t,tutorialMap:i,quizMap:s,projectMap:l}).title))});return T.default.createElement("div",{className:this.ss("details")},d)}},{key:"renderDetailsSwitcher",value:function(){var e=this;if(this.props.hideDetails)return null;var t=this.state.openDetails;return T.default.createElement("div",{className:this.ss("buttons")},T.default.createElement("div",{className:this.ss("barrier")}),T.default.createElement("button",{ref:function(t){e.showDetailRef=t},onClick:function(){e.setState({openDetails:!t})}},this.__(t?"hide_details":"show_details")),T.default.createElement("button",{ref:function(t){e.startCourseRef=t},onClick:this.onStartCourse},this.__("start_course")))}},{key:"render",value:function(){var e=this,t=this.props||{},a=t.course,n=t.record,r=t.statsPath,o=t.showProgress,i=t.size,s=t.theme,l=t.locale,u=t.currentHost,c=t.architecture,d=a||{},f=d.id,p=d.title,m=d.type,h=a.descPlain,_=this.state.openDetails,g=(0,I.get)(n,"completed"),v=(0,I.get)(a,"withPay"),y=(0,K.ArchitectureLearnContentUrl)((0,L.default)((0,K.GetUrlByNavIds)(void 0,(0,K.GetDetailPageURL)(a,l)),u),c),b=H[i].thumbnailHeight,w=H[i].thumbnailWidth;return T.default.createElement("div",{className:this.ss("course-wrapper",s,i)},T.default.createElement("div",{className:this.ss("premium-wrapper")},v&&T.default.createElement(A.PaymentLabel,null)),T.default.createElement("div",{className:this.ss("course-card")},T.default.createElement("a",{className:this.ss("card-link"),href:y},T.default.createElement("div",{className:this.ss("card-img")},T.default.createElement(M.default,{src:(0,I.get)(a,"thumbnail.url"),sizes:w+"px",height:b,width:w}),T.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},T.default.createElement(D.default,{id:f,type:m,statsPath:r})),o&&!!n&&T.default.createElement(R.ProgressBar,{data:a,record:n})),T.default.createElement("div",{className:this.ss("card-content")},T.default.createElement("div",{className:this.ss("content-des")},T.default.createElement(F.StudyMethod,{data:a}),T.default.createElement("div",{className:this.ss("title")},p),T.default.createElement("div",{className:this.ss("info")},T.default.createElement(x.default,{data:a,theme:s})),!c&&T.default.createElement("div",{className:this.ss("summary")},h)),T.default.createElement("div",{className:this.ss("author")},T.default.createElement(N.default,{data:a,theme:s}))),_&&this.renderDetails()),this.renderDetailsSwitcher()),o&&g&&T.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),f.propTypes={statsPath:k.default.string.isRequired,course:k.default.object,record:k.default.object,startToLearn:k.default.func,theme:k.default.oneOf(["default","dark"]),size:k.default.oneOf(["normal","medium"]),showProgress:k.default.bool,hideDetails:k.default.bool,currentHost:k.default.string,locale:k.default.string,architecture:k.default.bool},f.defaultProps={size:"normal",theme:"default",showProgress:!1},d=p))||d)||d)||d);t.default=V;var G=t.StatusDot=(m=(0,q.default)(z.default))((g=_=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,P.default),y(t,[{key:"render",value:function(){var e=this.props,t=e.isFirst,a=e.isLast,n=e.status,r=n.prevCompleted,o=n.nextCompleted,i=n.completed;return T.default.createElement("div",{className:this.ss("status")},!t&&T.default.createElement("div",{className:this.ss("status-bg-up",i&&r&&"completed")},T.default.createElement("div",{className:this.ss("vertical-line")})),!a&&T.default.createElement("div",{className:this.ss("status-bg-down",i&&o&&"completed")},T.default.createElement("div",{className:this.ss("vertical-line")})),T.default.createElement("div",{className:this.ss("dot",i&&"completed")}))}}]),t}(),_.propTypes={isFirst:k.default.bool,isLast:k.default.bool,status:k.default.object},h=g))||h;t.CourseCardV2=function(e){return T.default.createElement(V,v({architecture:!0},e))}},function(e,t,a){e.exports=a(14)(10)},function(e,t,a){e.exports=a(14)(62)},function(e,t,a){e.exports=a(14)(178)},function(e,t,a){e.exports=a(14)(5)},function(e,t,a){e.exports=a(14)(583)},function(e,t,a){e.exports=a(14)(281)},function(e,t,a){e.exports=a(14)(119)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["comment.inputValues"],["comment.inputValues"]),g=s(["comment.currentReplyId"],["comment.currentReplyId"]),v=s(["comment.currentEditId"],["comment.currentEditId"]),y=s(["comment.toggleCurrentReplyId"],["comment.toggleCurrentReplyId"]),b=s(["comment.toggleEditId"],["comment.toggleEditId"]),w=s(["comment.changeInputValue"],["comment.changeInputValue"]),E=s(["comment.createComment"],["comment.createComment"]),S=s(["comment.editComment"],["comment.editComment"]),O=s(["common.loginTo"],["common.loginTo"]),k=n(a(2)),T=n(a(0)),P=a(6),C=a(4),j=n(a(1)),I=a(5),M=n(a(43)),N=n(a(119)),D=n(a(15)),x=n(a(3)),R=n(a(652)),F=n(a(7)),A=n(a(391)),L=(l=(0,P.decorator)({loginUser:(0,C.state)(h),inputValues:(0,C.state)(_),currentReplyId:(0,C.state)(g),currentEditId:(0,C.state)(v),toggleCurrentReplyId:(0,C.signal)(y),toggleEditId:(0,C.signal)(b),changeInputValue:(0,C.signal)(w),createComment:(0,C.signal)(E),editComment:(0,C.signal)(S),loginTo:(0,C.signal)(O)}),u=(0,x.default)(R.default),c=(0,F.default)(A.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleReplyCancel=function(){var e=n.props,t=e.channelId,a=e.currentReplyId,r=e.toggleCurrentReplyId,o=e.changeInputValue;a&&o({channelId:t,id:a,value:""}),r&&r()},n.handleEditCancel=function(){var e=n.props,t=e.channelId,a=e.currentEditId,r=e.toggleEditId,o=e.changeInputValue;a&&o({channelId:t,id:a,value:""}),r&&r()},n.handleInputChange=function(e){var t=n.props,a=t.theme,r=t.channelId,o=t.currentReplyId,i=t.currentEditId,s=t.changeInputValue,l=(0,I.get)(e,"target.value")||"";s&&("reply"===a&&s({channelId:r,id:o,value:l}),"comment"===a&&s({channelId:r,id:"new_comment",value:l}),"edit"===a&&s({channelId:r,id:i,value:l}))},n.handleCreateMessage=function(){var e=n.props,t=e.theme,a=e.channel,r=e.channelId,o=e.createComment,i=e.dataType;o&&o({type:t,channelId:r,dataType:i,tutorialId:a.tutorialId,submissionId:a.submissionId})},n.handleEditMessage=function(){var e=n.props,t=e.theme,a=e.channelId,r=e.messageId,o=e.editComment,i=e.dataType,s=(0,I.get)(n.props,"parentMessageId")||"";o&&o({type:t,channelId:a,parentMessageId:s,messageId:r,dataType:i})},i=a,o(n,i)}return i(t,j.default),m(t,[{key:"componentDidMount",value:function(){if("reply"===this.props.theme){var e=(0,I.get)(this.commentInput,"refs.input");e&&e.focus&&e.focus()}}},{key:"currentHead",value:function(){var e=this.props,t=e.theme,a=e.loginUser;return"edit"===t?null:T.default.createElement("div",{className:this.ss("avatar")},T.default.createElement(M.default,{user:a||{anonymous:!0},size:"xxsmall"}))}},{key:"renderButtons",value:function(e){var t=e.disabled,a=this.props,n=a.theme,r=a.channelId,o=[];return"comment"===n&&o.push(T.default.createElement("div",{key:"comment-input-"+r,className:this.ss("button","comment-button",t&&"disabled")},T.default.createElement(D.default,{disabled:t,label:this.__("input_button_comment"),widthStyle:"full",onClick:t?function(){}:this.handleCreateMessage}))),"reply"===n&&o.push(T.default.createElement("div",{key:"reply-input-cancel-"+r,className:this.ss("button","cancel-button")},T.default.createElement(D.default,{theme:"default",size:"small",label:this.__("input_button_cancel"),onClick:this.handleReplyCancel})),T.default.createElement("div",{key:"reply-input-reply-"+r,className:this.ss("button","reply-button",t&&"disabled")},T.default.createElement(D.default,{disabled:t,size:"small",label:this.__("input_button_reply"),onClick:t?function(){}:this.handleCreateMessage}))),"edit"===n&&o.push(T.default.createElement("div",{key:"save-input-"+r,className:this.ss("button","input_save-button")},T.default.createElement(D.default,{disabled:t,size:"small",label:this.__("edit_button_save"),onClick:t?function(){}:this.handleEditMessage})),T.default.createElement("div",{key:"cancel-input-"+r,className:this.ss("button","input_cancel-button")},T.default.createElement(D.default,{theme:"thirdly",size:"small",label:this.__("edit_button_cancel"),onClick:this.handleEditCancel}))),T.default.createElement("div",{className:this.ss("buttons")},o)}},{key:"renderCommentSignIn",value:function(){var e=this.props.loginTo;return T.default.createElement("div",{className:this.ss("comment-sign-in")},T.default.createElement("div",{className:this.ss("hint-content")},T.default.createElement("div",{className:this.ss("hint-title")},this.__("sign_in_hint_title")),T.default.createElement("div",{className:this.ss("hint-des")},this.__("sign_in_hint_des"))),T.default.createElement("div",{className:this.ss("button")},T.default.createElement(D.default,{label:this.__("button_sign_in"),onClick:function(){return e()}})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=t.loginUser,r=t.channelId,o=t.currentReplyId,i=t.currentEditId,s=t.inputValues,l=t.dataType,u=(0,I.get)(s,r);if(!(0,I.get)(n,"id"))return this.renderCommentSignIn();var c="",d="";return"reply"===a&&(c=(0,I.get)(u,o)||"",d=this.__("reply_input_placeholder")),"comment"===a&&(c=(0,I.get)(u,"new_comment")||"",d=this.__(l+"_comment_input_placeholder")),"edit"===a&&(c=(0,I.get)(u,i)||"",d=""),T.default.createElement("div",{className:this.ss("comment-input",a,l+"-"+a)},T.default.createElement("div",{className:this.ss("input-wrap")},this.currentHead(),T.default.createElement("div",{className:this.ss("input")},T.default.createElement(N.default,{ref:function(t){e.commentInput=t},theme:"comment",placeholder:d,value:c,onChange:this.handleInputChange}))),this.renderButtons({disabled:!c}))}}]),t}(),f.propTypes={loginUser:k.default.object,channelId:k.default.string,currentReplyId:k.default.string,currentEditId:k.default.string,channel:k.default.object,inputValues:k.default.object,theme:k.default.oneOf(["comment","reply","edit"]),messageId:k.default.string,parentMessageId:k.default.string,dataType:k.default.string,toggleCurrentReplyId:k.default.func,toggleEditId:k.default.func,changeInputValue:k.default.func,createComment:k.default.func,editComment:k.default.func,loginTo:k.default.func},f.defaultProps={theme:"comment"},d=p))||d)||d)||d);t.default=L},function(e,t,a){e.exports=a(14)(975)},function(e,t){e.exports={"input-wrap":"input-wrap_37qHZuNK","active-blue-green":"active-blue-green_3WIO54QT","active-primary-blue":"active-primary-blue_3p_2lKf4",disabled:"disabled_XkbqWG6P",failed:"failed_3-4CaefV",icon:"icon_2BR9dnuD",close:"close_2ZtV7Eoy",input:"input_3yaUP2ah","text-input":"text-input_1zwaVtSr","theme-small":"theme-small_3BIyN2zD","theme-transparent":"theme-transparent_1qfAkTuT","theme-dark":"theme-dark_2f3h2N29",notice:"notice_2SH_cyIz",succeeded:"succeeded_1E5Kcckx",inProgress:"inProgress_1aQUaJof",initial:"initial_1M_5HFm5",right:"right_1hrVYbeV",bottom:"bottom_2KFENrcf",hide:"hide_3RMsfyaL","right-hint":"right-hint_3e6r6uIL"}},function(e,t){e.exports={numberInput:"numberInput_2iuk",numberOutput:"numberOutput_14uS",inProgress:"inProgress_3sG-",succeeded:"succeeded_3Je8",failed:"failed_1WdK"}},function(e,t){},function(e,t){e.exports={"course-wrapper":"course-wrapper_hywDfHqy","premium-wrapper":"premium-wrapper_eceWa6O4","complete-icon":"complete-icon_3kpjrDV0",medium:"medium_2XQ6EnSx","card-content":"card-content_1UQ-eWB2","content-des":"content-des_a2ELXkze",title:"title_1VxiLhbY",dark:"dark_swv_Dv1i","course-card":"course-card_81xLIkiH",summary:"summary_2nRJg8gD",details:"details_3BF7pxJE",buttons:"buttons_tQBu9sTH","card-link":"card-link_3UMgdWhl","card-img":"card-img_11kcuQig","collect-wrap":"collect-wrap_3nhf2wSa",info:"info_37CX088N",detail:"detail_2DrHSzcJ","detail-title":"detail-title_1dlS9GjA","detail-index":"detail-index_2SsPKL4e",status:"status_q9hJBQSP",dot:"dot_3s6PMUq7",completed:"completed_1RLNgZsv","vertical-line":"vertical-line_7YBQQA7R","status-bg-up":"status-bg-up_2k_MoTSk","status-bg-down":"status-bg-down_E_cqksti"}},function(e,t){e.exports={show_details:"show_details_qBkB",hide_details:"hide_details_1bd8",start_course:"start_course_QOsn"}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function u(e){return[].concat(r(e)).map(function(e){return{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"attachment"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,d,f,p,m,h,_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["upload.uploads"],["upload.uploads"]),v=l(["upload.uploadAttachment"],["upload.uploadAttachment"]),y=l(["header.showMessage"],["header.showMessage"]),b=l(["common.openAddLinkDialog"],["common.openAddLinkDialog"]),w=l(["common.closeAddLinkDialog"],["common.closeAddLinkDialog"]);t.getFiles=u;var E=n(a(0)),S=n(a(2)),O=n(a(1)),k=a(6),T=a(4),P=n(a(544)),C=n(a(15)),j=n(a(547)),I=a(20),M=a(12),N=n(a(72)),D=a(8),x=n(a(3)),R=n(a(550)),F=n(a(7)),A=n(a(551)),L=(c=(0,k.decorator)({uploads:(0,T.state)(g),uploadAttachment:(0,T.signal)(v),showMessage:(0,T.signal)(y),openAddLinkDialog:(0,T.signal)(b),closeAddLinkDialog:(0,T.signal)(w)}),d=(0,x.default)(R.default),f=(0,F.default)(A.default),c(p=d(p=f((h=m=function(e){function t(){var e,a,n,s;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={open:!1},n.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,a=void 0===t?[]:t;n.uploadFiles(a),n.refs.fileSelect.value=null}},n.onUploadSuccess=function(e){var t=e||{},a=t.id,o=t.content,i=n.getContents(),s=[].concat(r(i)),l=i.findIndex(function(e){return e.uploadId===a});if(-1!==l){var u=o.id,c=o.filename,d=o.size,f=o.url;s.splice(l,1,{uploadId:a,attachmentId:u,name:c,size:d,url:f,type:"file"}),n.syncToData(s)}},n.onAddLinkSuccess=function(e){var t=e||{},a=t.id,o=t.name,i=t.url,s=n.getContents(),l=[].concat(r(s)),u=s.findIndex(function(e){return e.uploadId===a}),c={uploadId:a,name:o,url:i,type:"link"};-1!==u?l.splice(u,1,c):l.push(c),n.syncToData(l)},n.onOpenDialog=function(){n.setState({open:!0},function(){n.props.openAddLinkDialog()})},n.onCloseDialog=function(){n.setState({open:!1},function(){n.props.closeAddLinkDialog()})},n.onDownload=function(e){var t=(e||{}).url;(0,N.default)(t)},n.syncToData=function(e){n.props.onChangeField&&n.props.onChangeField(e)},n.moveElement=function(e){var t=e.index,a=e.step;n.props.onMoveElement&&n.props.onMoveElement({index:t,step:a})},n.deleteItem=function(e,t){(0,M.pauseEvent)(e);var a=n.getContents(),o=[].concat(r(a));o.splice(t,1),n.syncToData(o)},n.renderItem=function(e,t){var a=n.props,r=a.singleFile,o=a.uploads,i=a.linkOnly,s=a.fileOnly,l=e||{},u=l.uploadId,c=!!l.url,d=u&&o[u]&&(0,I.isLoading)(o[u].status),f=E.default.createElement("button",{className:n.ss("button","delete","ifont","ifont-icons-trash"),onClick:function(e){return n.deleteItem(e,t)}}),p=E.default.createElement("button",{className:n.ss("button","download","ifont","ifont-icons_download"),onClick:function(){return n.onDownload(e)}}),m=E.default.createElement("button",{className:n.ss("button","up","ifont","ifont-icons_play"),onClick:function(){return n.moveElement({index:t,step:-1})}}),h=E.default.createElement("button",{className:n.ss("button","down","ifont","ifont-icons_play"),onClick:function(){return n.moveElement({index:t,step:1})}}),_=e||{},g=_.type,v=_.name;return"link"===g?E.default.createElement("div",{key:"file"+t,className:n.ss("file-item")},!i&&E.default.createElement("div",{className:n.ss("file-icon","ifont","ifont-"+D.MaterialTypeIconMap[g])}),E.default.createElement("div",{className:n.ss("item-name")},v),E.default.createElement("div",{className:n.ss("buttons")},p,f,m,h)):E.default.createElement("div",{key:"file"+t,className:n.ss("file-item")},!s&&E.default.createElement("div",{className:n.ss("file-icon","ifont","ifont-"+D.MaterialTypeIconMap[g])}),E.default.createElement(P.default,{item:e,onSuccess:n.onUploadSuccess}),E.default.createElement("div",{className:n.ss("buttons")},c&&p,!d&&f,!r&&m,!r&&h))},s=a,i(n,s)}return s(t,O.default),_(t,[{key:"getFormField",value:function(){return this.props.field||{}}},{key:"getContents",value:function(){return this.getFormField().value||[]}},{key:"openUpload",value:function(){this.refs.fileSelect&&this.refs.fileSelect.click()}},{key:"addUpload",value:function(e){var t=this.getContents(),a=[].concat(r(t));(e||[]).forEach(function(e){-1===t.findIndex(function(t){return t.uploadId===e})&&a.push({uploadId:e})}),this.syncToData(a)}},{key:"uploadFiles",value:function(e){var t=this.props.uploadAttachment;if(e.length>9);else{var a=[];u(e).forEach(function(e){a.push(e.id),t({upload:e})}),this.addUpload(a)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.singleFile,n=t.multiple,r=t.uploads,o=t.linkOnly,i=t.fileOnly,s=t.theme,l=this.getContents(),u=this.getFormField(),c=u.isTouched&&u.errorMessage,d=0===l.length,f=l.map(function(t,a){return e.renderItem(t,a)}),p=l.find(function(e){var t=e.uploadId;return t&&r[t]&&(0,I.isLoading)(r[t].status)}),m=a&&l.length>=1;return E.default.createElement("div",{className:this.ss("upload-file")},E.default.createElement("div",{className:this.ss("upload-content",p&&"uploading",d&&"empty")},E.default.createElement("div",{className:this.ss("content")},f),c&&E.default.createElement("div",{className:this.ss("error-text")},this.__(c))),E.default.createElement("div",{className:this.ss("add-btn-group")},!i&&!m&&E.default.createElement("div",{className:this.ss("add-btn")},E.default.createElement(C.default,{widthStyle:"full",size:"medium",theme:s,label:this.__("add_link"),onClick:function(){return e.onOpenDialog()}})),!o&&!m&&E.default.createElement("div",{className:this.ss("add-btn")},E.default.createElement(C.default,{widthStyle:"full",size:"medium",theme:s,label:this.__("upload_file"),onClick:function(){return e.openUpload()}}))),E.default.createElement(j.default,{open:this.state.open,onClose:function(){return e.onCloseDialog()},onConfirm:function(t){return e.onAddLinkSuccess(t)}}),E.default.createElement("input",{type:"file",ref:"fileSelect",multiple:n,accept:"*/*",className:this.ss("hide"),onChange:this.onFilesChange}))}}]),t}(),m.propTypes={singleFile:S.default.bool,multiple:S.default.bool,linkOnly:S.default.bool,fileOnly:S.default.bool,theme:S.default.string,field:S.default.object,onChangeField:S.default.func,onMoveElement:S.default.func,uploads:S.default.object,uploadAttachment:S.default.func,showMessage:S.default.func,openAddLinkDialog:S.default.func,closeAddLinkDialog:S.default.func},m.defaultProps={multiple:!1,singleFile:!1},p=h))||p)||p)||p);t.default=L},,,function(e,t){e.exports={"text-area-wrap":"text-area-wrap_3BjTWoOD",comment:"comment_1Xpn8gf_","text-area":"text-area_3ivvYJDT","textarea-disabled":"textarea-disabled_3Qv2umHL",submission:"submission_3zDBaU_Z",transparent:"transparent_Rvr8oVxw",error:"error_2NueknB2",disabled:"disabled_1h_2vPsZ","text-error":"text-error_2TJnSzC2",hide:"hide_3R0VrWPb",limit:"limit_1hIrtgk9"}},function(e,t){e.exports={error_isRequired:"error_isRequired_-l9A"}},function(e,t,a){"use strict";function n(){return function(e){e&&e.preventDefault()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n();return e.addEventListener("copy",t),e.addEventListener("cut",t),e.addEventListener("paste",t),function(){e.removeEventListener("copy",t),e.removeEventListener("cut",t),e.removeEventListener("paste",t)}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p,m,h,_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.tooltips"],["common.tooltips"]),v=n(a(2)),y=n(a(0)),b=n(a(19)),w=n(a(1)),E=a(6),S=a(4),O=n(a(5)),k=a(118),T=n(a(556)),P=n(a(559)),C=n(a(3)),j=n(a(562)),I=(s=(0,C.default)(j.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={left:0,top:0},i=a,o(n,i)}return i(t,w.default),_(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tooltip,t=e.position,a=e.targetWidth,n=e.targetHeight,r=e.left,o=e.top,i=b.default.findDOMNode(this),s=r,l=o;switch(t){case"left":s+=-i.offsetWidth,l+=n/2-i.offsetHeight/2;break;case"right":s+=a,l+=n/2-i.offsetHeight/2;break;case"lower-right":s+=a,l+=n/2-i.offsetHeight/3;break;case"bottom":s+=a/2-i.offsetWidth/2,l+=n;break;case"bottom-left":s+=a-i.offsetWidth,l+=n;break;case"top":default:s+=a/2-i.offsetWidth/2,l+=-i.offsetHeight}this.setState({left:s,top:l})}},{key:"renderTipContent",value:function(){var e=this.props.tooltip,t=null;switch(e.theme){case"stream":t=y.default.createElement(T.default,null);break;case"flagCount":t=y.default.createElement(P.default,{tooltip:e})}return t}},{key:"render",value:function(){var e=this.props.tooltip,t=e.theme,a=e.type,n=e.position,r=this.state,o=r.left,i=r.top;return y.default.createElement("div",{className:this.ss("tooltip","tooltip-"+n,"tooltip-"+a,"theme-"+t),style:{left:o,top:i}},this.renderTipContent())}}]),t}(),u.propTypes={tooltip:v.default.object.isRequired},l=c))||l,M=(d=(0,E.decorator)({tooltips:(0,S.state)(g)}),f=(0,C.default)(j.default),d(p=f((h=m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),_(t,[{key:"render",value:function(){var e=this.props.tooltips,t=O.default.map(e,function(e){return e.theme&&k.supportThemes.indexOf(e.theme)>-1&&y.default.createElement(I,{key:e.id,tooltip:e})});return y.default.createElement("div",{className:this.ss("tooltips")},t)}}]),t}(),m.propTypes={tooltips:v.default.object.isRequired},p=h))||p)||p);t.default=M},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){var t=e.getSelection(),a=e.getCurrentContent(),n=t.getStartKey();return"code-block"===a.getBlockForKey(n).getType()}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.editorKey,n=t.renderOnly;if(!a)throw new Error("editorKey is empty");return{handleKeyCommand:n?void 0:function(t,a,n){var r=n.setEditorState;if(e(a)&&"backspace"===t){var o=(0,i.default)(a);if(o)return r(o),"handled"}return"not-handled"},handleReturn:n?void 0:function(t,a,n){var o=n.setEditorState;if(e(a)){if((0,r.isSoftNewlineEvent)(t)){var i=a.getSelection();if(i.isCollapsed()){var l=a.getCurrentContent(),u=(l=r.Modifier.splitBlock(l,i)).getSelectionAfter().getAnchorKey();return l=l.merge({blockMap:l.getBlockMap().set(u,l.getBlockForKey(u).merge({type:"unstyled",depth:0}))}),o(r.EditorState.push(a,l,"split-block")),"handled"}}var c=(0,s.default)(a);if(c)return o(c),"handled"}return"not-handled"},handlePastedText:n?void 0:function(t,a,n,i){var s=i.setEditorState;if(e(n)){t=t.replace(/\r/g,"");var l=r.CharacterMetadata.create(),u=new r.ContentBlock({key:(0,r.genKey)(),type:"unstyled",text:t,characterList:(0,o.List)((0,o.Repeat)(l,t.length))}),c=r.BlockMapBuilder.createFromArray([u]),d=r.Modifier.replaceWithFragment(n.getCurrentContent(),n.getSelection(),c);return s(r.EditorState.push(n,d,"insert-fragment")),"handled"}return"not-handled"},onTab:n?void 0:function(t,a){var n=a.getEditorState,r=a.setEditorState,o=n();if(e(o)){var i=(0,l.default)(t,o);if(i)return r(i),!0}return!1},decorators:[new u.default]}};var r=a(10),o=a(52),i=n(a(571)),s=n(a(574)),l=n(a(576)),u=n(a(577))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{decorator:(0,o.default)(e),AlignmentToolbar:a?function(){return null}:(0,r.default)(i.default,{editorKey:t})}};var r=n(a(35)),o=n(a(579)),i=n(a(580))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=(0,r.default)(e),s=(0,o.default)(e);return{handleDrop:a?void 0:function(e,t,a,n){var r=n.getEditorState,o=n.setEditorState,s=n.getProps;if(!a)return"not-handled";if(!t.data.getData("CONNECT_BLOCK_DRAG"))return"handled";var l=s().controller,u=l.getState("editor.dragOverBlockKey"),c=l.getState("editor.dragStartBlockKey"),d=l.getState("editor.dragStartBlockAfterKey");if(u!==c&&u!==d){var f=r();o((0,i.moveAtomicBlockBefore)(f,u,c))}return"handled"},EditorWrapper:n,decorator:s}};var r=n(a(584)),o=n(a(585)),i=a(10)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"VIDEO"===a.getEntity(t).getType()},t)}function o(e){var t=e.uploadIds,a=e.uploads,n=e.editorKey,r=e.editorState,o=e.setEditorState;if(t&&t.length>0){var i=r.getSelection().getFocusKey(),s=r;t.forEach(function(e){var t=a[e];s=(0,u.addAtomicBlockBefore)(s,i,"VIDEO",{contentId:t.contentId})}),o({editorKey:n,editorState:s})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=l.default;e.decorator&&(n=e.decorator(n));var u=o;return{decorators:[{strategy:r,component:n=(0,i.default)(n,{editorKey:t,renderOnly:a})}],UploadVideoDialog:a?function(){return null}:(0,i.default)(s.default,{editorKey:t,onOK:u})}};var i=n(a(35)),s=n(a(586)),l=n(a(590)),u=a(10)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){if(0!==e.type.indexOf("image/"))throw new Error("file is not an image");return new Promise(function(t){var a=window.URL.createObjectURL(e),n=new window.Image;n.onload=function(){var r=n.width,o=n.height;t({id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"image",dataUrl:a,width:r,height:o})},n.src=a})}function i(e){return e=[].concat(r(e)).filter(function(e){return 0===e.type.indexOf("image/")}),Promise.all(e.map(o))}function s(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"IMAGE"===a.getEntity(t).getType()},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.readImage=o,t.readImages=i,t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=c.default;return e.decorator&&(n=e.decorator(n)),n=(0,l.default)(n,{editorKey:t,renderOnly:a}),{handleDroppedFiles:a?void 0:function(e,t,a){var n=a.getEditorState,r=a.setEditorState,o=(0,a.getProps)().controller,s=o.getState("editor.dragOverBlockKey");if(!s)return"not-handled";var l=t.some(function(e){return 0===e.type.indexOf("image/")});return i(t).then(function(e){var t=n();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,s,"IMAGE",{uploadId:e.id}),o.getSignal("upload.uploadAttachment")({upload:e})}),r(t)}),l?"handled":"not-handled"},handlePastedFiles:a?void 0:function(e,t){var a=t.getEditorState,n=t.setEditorState,r=(0,t.getProps)().controller,o=a().getSelection().getStartKey(),s=e.some(function(e){return 0===e.type.indexOf("image/")});return i(e).then(function(e){var t=a();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,o,"IMAGE",{uploadId:e.id}),r.getSignal("upload.uploadAttachment")({upload:e})}),n(t)}),s?"handled":"not-handled"},decorators:[{strategy:s,component:n}]}};var l=n(a(35)),u=a(10),c=n(a(593))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){var t=e.getSelection();if(!t.isCollapsed())return null;var a=e.getCurrentContent(),r=t.getStartKey(),o=a.getBlockForKey(r);if("atomic"===o.getType()){var i=new n.ContentBlock({key:o.getKey()}),s=a.getBlockMap().set(o.getKey(),i),l=a.merge({blockMap:s,selectionAfter:t});return n.EditorState.push(e,l,"remove-range")}if(0!==t.getStartOffset())return null;var u=a.getBlockBefore(r);if(u&&"atomic"===u.getType()){var c=new n.SelectionState({anchorKey:u.getKey(),anchorOffset:0,focusKey:u.getKey(),focusOffset:0,hasFocus:!0});if(o.getLength())return n.EditorState.forceSelection(e,c);var d=a.getBlockMap().delete(o.getKey()),f=a.merge({blockMap:d,selectionAfter:c});return n.EditorState.push(e,f,"remove-range")}return null}function t(e){var t=e.getSelection();if(!t.isCollapsed())return null;var a=e.getCurrentContent(),r=t.getStartKey(),o=a.getBlockForKey(r);if("atomic"===o.getType()){var i=new n.ContentBlock({key:o.getKey()}),s=a.getBlockMap().set(o.getKey(),i),l=a.merge({blockMap:s,selectionAfter:t});return n.EditorState.push(e,l,"remove-range")}if(t.getStartOffset()<o.getLength())return null;var u=a.getBlockAfter(r);if(u&&"atomic"===u.getType()){var c=new n.SelectionState({anchorKey:u.getKey(),anchorOffset:0,focusKey:u.getKey(),focusOffset:0,hasFocus:!0});if(o.getLength())return n.EditorState.forceSelection(e,c);var d=a.getBlockMap().delete(o.getKey()),f=a.merge({blockMap:d,selectionAfter:c});return n.EditorState.push(e,f,"remove-range")}return null}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.editorKey,i=a.renderOnly;if(!o)throw new Error("editorKey is empty");return{blockRendererFn:function(e){if("atomic"===e.getType())return{component:n.EditorBlock,editable:!1}},keyBindingFn:i?void 0:function(e,t){var a=t.getEditorState,r=t.setEditorState;if(!e.shiftKey){var o=a();if(37===e.keyCode&&((0,n.isAtomicBlockSelected)(o)||(0,n.isBlockBeforeAtomic)(o)&&(0,n.isSelectionAtBlockStart)(o))){var i=(0,n.moveToPrevBlock)(o);if(i)return r(i),""}if(39===e.keyCode&&((0,n.isAtomicBlockSelected)(o)||(0,n.isBlockAfterAtomic)(o)&&(0,n.isSelectionAtBlockEnd)(o))){var s=(0,n.moveToNextBlock)(o);if(s)return r(s),""}}},onDownArrow:i?void 0:function(e,t){var a=t.getEditorState,r=t.setEditorState;if(!e.shiftKey){var o=a();if((0,n.isAtomicBlockSelected)(o)||(0,n.isBlockAfterAtomic)(o)&&(0,n.isFocusAtLastLine)()){var i=(0,n.moveToNextBlock)(o);i&&(r(i),e.preventDefault())}}},onUpArrow:i?void 0:function(e,t){var a=t.getEditorState,r=t.setEditorState;if(!e.shiftKey){var o=a();if((0,n.isAtomicBlockSelected)(o)||(0,n.isBlockBeforeAtomic)(o)&&(0,n.isFocusAtFirstLine)()){var i=(0,n.moveToPrevBlock)(o);i&&(r(i),e.preventDefault())}}},handleKeyCommand:i?void 0:function(a,n,r){var o=r.setEditorState,i=void 0;switch(a){case"backspace":case"backspace-word":case"backspace-to-start-of-line":if((i=e(n))&&i!==n)return o(i),"handled";break;case"delete":case"delete-word":case"delete-to-end-of-block":if((i=t(n))&&i!==n)return o(i),"handled"}return"not-handled"},handleReturn:i?void 0:function(e,t,a){var r=a.setEditorState,o=t.getSelection();if(!o.isCollapsed())return"not-handled";var i=t.getCurrentContent(),s=o.getStartKey(),l=i.getBlockForKey(s);return"atomic"===l.getType()?(r((0,n.addEmptyBlockBefore)(t,l.getKey())),"handled"):"not-handled"},handleBeforeInput:i?void 0:function(e,t){var a=t.getSelection();if(!a.isCollapsed())return"not-handled";var n=t.getCurrentContent(),r=a.getStartKey();return"atomic"===n.getBlockForKey(r).getType()?"handled":"not-handled"},handlePastedText:i?void 0:function(e,t,a,r){var o=r.setEditorState,i=r.getProps,s="CONNECT_ATOMIC_ENTITY:";if(e.startsWith(s)){e=e.substring(s.length);try{var l=JSON.parse(e),u=i().controller,c=u.getState("editor.uploads"),d=u.getState("editor.contentMap");if(l.data.uploadId&&c[l.data.uploadId]||l.data.contentId&&d[l.data.contentId]){var f=a.getSelection().getStartKey();o((0,n.addAtomicBlockBefore)(a,f,l.type,l.data))}}catch(e){console.warn("failed to parse entity: ",e)}return"handled"}return"not-handled"},decorator:(0,r.default)(a)}};var n=a(10),r=function(e){return e&&e.__esModule?e:{default:e}}(a(598))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DateIcon=t.LiveSessionInfo=t.LiveSessionCard=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["currentHost"],["currentHost"]),M=n(a(2)),N=n(a(0)),D=n(a(1)),x=a(6),R=a(5),F=a(4),A=n(a(18)),L=a(79),K=n(a(51)),q=a(42),z=a(134),U=a(8),B=n(a(3)),H=n(a(540)),V=n(a(7)),G=n(a(541)),W=(s=(0,x.decorator)({}),l=(0,B.default)(H.default),u=(0,V.default)(G.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,D.default),j(t,[{key:"render",value:function(){var e=this.props.data;return N.default.createElement("div",{className:this.ss("live-session-wrap")},N.default.createElement("div",{className:this.ss("live-session-content")},N.default.createElement(Q,{data:e}),N.default.createElement(J,{data:e})))}}]),t}(),d.propTypes={data:M.default.object},c=f))||c)||c)||c);t.default=W;var Q=t.LiveSessionCard=(p=(0,B.default)(H.default),m=(0,V.default)(G.default),p(h=m((g=_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,D.default),j(t,[{key:"renderTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;return 0===t?"":1===t?e[0]:2===t?e[0]+" & "+e[1]:e.slice(0,t-1).join(", ")+" & "+e.slice(-1)[0]}},{key:"renderSessionTime",value:function(){var e=this.props.data,t=(0,R.get)(e,"rangeTime.startTime"),a=(0,R.get)(e,"rangeTime.endTime"),n=(0,L.GetLiveSessionTime)({startTime:t,endTime:a},this.moment().utcOffset()),r=n.sessionTime,o=n.timeZone,i=n.daysDiff;return i>0?r+" ("+this.__("live_session_time_diff",{total:i})+") "+o:r+" "+o}},{key:"renderCardInfoList",value:function(){var e=this.props.data,t=(0,R.get)(e,"topicMap")||{},a=(0,R.get)(e,"industryMap")||{},n=(0,R.get)(e,"industryIds")||[],r=(0,R.get)(e,"topicIds")||[],o=n.map(function(e){return a[e]&&a[e].name}),i=r.map(function(e){return t[e]&&t[e].name});return N.default.createElement("div",{className:this.ss("card-info-list")},N.default.createElement("div",{className:this.ss("info-item","date-item")},N.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icon-schedule")}),N.default.createElement("div",{className:this.ss("item-label")},this.renderSessionTime())),o.length>0&&N.default.createElement("div",{className:this.ss("info-item","industry-item")},N.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icon-manufacturing")}),N.default.createElement("div",{className:this.ss("item-label")},this.renderTags(o))),i.length>0&&N.default.createElement("div",{className:this.ss("info-item","message-item")},N.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-lrn_icon_comment")}),N.default.createElement("div",{className:this.ss("item-label")},this.renderTags(i))))}},{key:"renderCardFoot",value:function(){var e=this.props,t=e.data,a=e.theme,n=(0,R.get)(t,"previousVideo"),r=[];switch((0,R.get)(t,"period")){case U.CalendarTabs.opening:"default"===a&&r.push(N.default.createElement(z.RegisterButton,{key:"register",size:"small",data:t}));break;case U.CalendarTabs.coming:"default"===a&&r.push(N.default.createElement("div",{key:"coming_soon_tips",className:this.ss("tips")},this.__("calendar_coming_soon_tips")));break;case U.CalendarTabs.previous:r.push(N.default.createElement(q.LearnPlayerPreview,{key:"video-preview",videoContent:n}))}return 0===r.length?null:N.default.createElement("div",{className:this.ss("card-foot")},r)}},{key:"renderDateIcon",value:function(){var e=this.props.data,t=(0,R.get)(e,"rangeTime.startTime"),a=this.moment(t),n=a.format("MMM"),r=a.format("DD");return N.default.createElement(Y,{month:n,day:r})}},{key:"render",value:function(){var e=this.props.theme;return N.default.createElement("div",{className:this.ss("live-session-card",e)},N.default.createElement("div",{className:this.ss("live-session-card-content")},this.renderDateIcon(),N.default.createElement("div",{className:this.ss("card-main")},this.renderCardInfoList(),this.renderCardFoot())))}}]),t}(),_.propTypes={data:M.default.object,theme:M.default.oneOf(["default","dialog"])},_.defaultProps={theme:"default"},h=g))||h)||h),J=t.LiveSessionInfo=(v=(0,x.decorator)({currentHost:(0,F.state)(I)}),y=(0,B.default)(H.default),b=(0,V.default)(G.default),v(w=y(w=b((S=E=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={expand:!1},n.handleToggleExpand=function(){var e=n.state.expand;n.setState({expand:!e})},i=a,o(n,i)}return i(t,D.default),j(t,[{key:"renderHeader",value:function(){var e=this.state.expand,t=this.props,a=t.data,n=t.theme,r=(0,R.get)(a,"title")||"";return N.default.createElement("div",{className:this.ss("info-header")},N.default.createElement("div",{className:this.ss("header-title")},r),"dialog"!==n&&N.default.createElement("div",{className:this.ss("header-toggle",e&&"toggle-expand"),onClick:this.handleToggleExpand},N.default.createElement("div",{className:this.ss("toggle-icon","ifont","ifont-lrn_icon_unfold")})))}},{key:"renderReferTo",value:function(){var e=this.props,t=e.data,a=e.currentHost,n=(0,z.GetLiveSessionContentData)(t);if(!n)return null;var r=n.id,o=n.type,i=n.title;return N.default.createElement("div",{className:this.ss("info-refer")},this.__("live_session_referTo"),N.default.createElement("a",{className:this.ss("link"),href:(0,A.default)("/"+o+"/"+r,a)},i))}},{key:"renderMainInfo",value:function(){var e=this.state.expand,t=this.props,a=t.data,n=t.theme,r=(0,R.get)(a,"descPlain",""),o=(0,R.get)(a,"period")===U.CalendarTabs.opening;return N.default.createElement("div",{className:this.ss("info-main")},N.default.createElement("div",{className:this.ss("info-main-des",!e&&"no-expand")},e||"dialog"===n?N.default.createElement("div",{className:this.ss("info-main-expand-wrap")},N.default.createElement(K.default,{value:(0,R.get)(a,"description"),editorKey:"editorLiveSessionDescription_"+(0,R.get)(a,"id"),renderOnly:!0,theme:"transparent-live-session"}),o&&N.default.createElement("div",{className:this.ss("register")},N.default.createElement(z.RegisterButton,{data:a}))):N.default.createElement("div",{className:this.ss("info-main-des-content")},N.default.createElement("span",null,r))))}},{key:"render",value:function(){var e=this.props.theme;return N.default.createElement("div",{className:this.ss("live-session-info",e)},this.renderHeader(),this.renderReferTo(),this.renderMainInfo())}}]),t}(),E.propTypes={currentHost:M.default.string,data:M.default.object,theme:M.default.oneOf(["default","dialog"])},E.defaultProps={theme:"default"},w=S))||w)||w)||w),Y=t.DateIcon=(O=(0,B.default)(H.default),k=(0,V.default)(G.default),O(T=k((C=P=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,D.default),j(t,[{key:"getMonth",value:function(){var e=this.props.month;return e.length>3?e.slice(0,3).toUpperCase():e.toUpperCase()}},{key:"getDay",value:function(){var e=this.props.day;return 1===e.length?"0"+e:e}},{key:"render",value:function(){return N.default.createElement("div",{className:this.ss("date-icon-wrap")},N.default.createElement("div",{className:this.ss("month")},this.getMonth()),N.default.createElement("div",{className:this.ss("day")},this.getDay()))}}]),t}(),P.propTypes={month:M.default.string,day:M.default.string},P.defaultProps={month:"JAN",day:"01"},T=C))||T)||T)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["submission.submissionDialog.show"],["submission.submissionDialog.show"]),_=s(["submissionData.channelId"],["submissionData.channelId"]),g=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),v=s(["submission.submissionDialog.submissionData"],["submission.submissionDialog.submissionData"]),y=s(["featured.featuredForm"],["featured.featuredForm"]),b=s(["featured.featuredFormShow"],["featured.featuredFormShow"]),w=s(["featured.isValidFeaturedForm"],["featured.isValidFeaturedForm"]),E=s(["featured.showFeaturedForm"],["featured.showFeaturedForm"]),S=s(["featured.saveForm"],["featured.saveForm"]),O=s(["featured.changeDescription"],["featured.changeDescription"]),k=s(["featured.checkFormStatus"],["featured.checkFormStatus"]),T=s(["submission.closeSubmissionDetail"],["submission.closeSubmissionDetail"]),P=n(a(2)),C=n(a(0)),j=n(a(1)),I=a(6),M=a(4),N=a(5),D=n(a(32)),x=n(a(15)),R=n(a(119)),F=a(74),A=a(20),L=a(8),K=n(a(3)),q=n(a(693)),z=n(a(7)),U=n(a(694)),B=(l=(0,I.decorator)({show:(0,M.state)(h),channelId:(0,M.state)(_),submissionDataStatus:(0,M.state)(g,L.GET_SUBMISSION_DETAIL),featureDataStatus:(0,M.state)(g,L.POST_FEATURED_SUBMISSION),submissionData:(0,M.state)(v),form:(0,M.state)(y),featuredFormShow:(0,M.state)(b),isValidFeaturedForm:(0,M.state)(w),showFeaturedForm:(0,M.signal)(E),saveForm:(0,M.signal)(S),changeDescription:(0,M.signal)(O),checkFormStatus:(0,M.signal)(k),closeSubmissionDetail:(0,M.signal)(T)}),u=(0,K.default)(q.default),c=(0,z.default)(U.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){var e=n.props.closeSubmissionDetail;e&&e()},n.handleSaveFeatured=function(){var e=n.props,t=e.saveForm,a=e.submissionData,r=(0,N.get)(a,"id"),o=(0,N.get)(a,"stepId");t&&t({id:r,stepId:o})},n.handleFeatureThis=function(){var e=n.props.showFeaturedForm;e&&e()},i=a,o(n,i)}return i(t,j.default),m(t,[{key:"componentDidUpdate",value:function(){var e=this.props.checkFormStatus;e&&e()}},{key:"renderLoading",value:function(){return C.default.createElement("div",{className:this.ss("loading-wrap")},C.default.createElement("div",{className:this.ss("loading")}))}},{key:"renderDescriptionField",value:function(){var e=this.props,t=e.form,a=e.changeDescription,n=(0,N.get)(t,"description.value")||"";return C.default.createElement("div",{className:this.ss("form-field","field-description")},C.default.createElement("div",{className:this.ss("label")},this.__("field_title_description")),C.default.createElement("div",{className:this.ss("input","text-area-input")},C.default.createElement(R.default,{theme:"submission",limit:100,placeholder:this.__("field_description_placeholder"),value:n,onChange:function(e,t){return a({value:t})}})))}},{key:"renderFeaturedForm",value:function(){var e=this.props,t=e.featureDataStatus,a=e.isValidFeaturedForm;return C.default.createElement("div",{className:this.ss("featured-form")},C.default.createElement("div",{className:this.ss("button-save")},C.default.createElement(x.default,{widthStyle:"full",label:this.__("button_save"),disabled:!a,loading:(0,A.isLoading)(t),onClick:this.handleSaveFeatured})),C.default.createElement("div",{className:this.ss("form")},this.renderDescriptionField()))}},{key:"renderFeatured",value:function(e){var t=this.props,a=t.editable,n=t.submissionData,r=t.featuredFormShow,o=(0,N.get)(n,"published");if(!a||!o)return null;var i=null;return i=r?this.renderFeaturedForm():C.default.createElement("div",{className:this.ss("button-feature-this")},C.default.createElement(x.default,{widthStyle:"full",label:this.__("button_feature_this"),onClick:this.handleFeatureThis})),C.default.createElement("div",{className:this.ss("featured",!e&&"no-detail")},i)}},{key:"renderContent",value:function(){var e=this.props,t=e.theme,a=e.submissionData,n=e.submissionDataStatus,r=e.channelId;if((0,A.isLoading)(n))return this.renderLoading();if(!a)return null;var o=(0,N.get)(a,"submissionType")===L.SubmissionTypes.media;return C.default.createElement("div",{className:this.ss("content")},this.renderFeatured(o),o&&C.default.createElement("div",{className:this.ss("submission-detail")},C.default.createElement(F.SubmissionDetail,{theme:t,statsPath:"search",submissionData:a,channelId:r})))}},{key:"render",value:function(){var e=this.props.show;return C.default.createElement(D.default,{open:e,position:"center",noScroller:!1,onCloseModal:this.onClose},C.default.createElement("div",{className:this.ss("container")},this.renderContent(),C.default.createElement("div",{className:this.ss("close")},C.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},C.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")})))))}}]),t}(),f.propTypes={theme:P.default.oneOf(["default","moderator"]),show:P.default.bool,editable:P.default.bool,submissionDataStatus:P.default.string,featureDataStatus:P.default.string,channelId:P.default.string,submissionData:P.default.object,featuredFormShow:P.default.bool,form:P.default.object,isValidFeaturedForm:P.default.bool,showFeaturedForm:P.default.func,saveForm:P.default.func,changeDescription:P.default.func,checkFormStatus:P.default.func,closeSubmissionDetail:P.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=B},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["locale"],["locale"]),g=s(["common.loginTo"],["common.loginTo"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(4),S=n(a(15)),O=a(26),k=a(9),T=n(a(3)),P=n(a(629)),C=n(a(7)),j=n(a(630)),I=(l=(0,w.decorator)({loginUser:(0,E.state)(h),locale:(0,E.state)(_),loginTo:(0,E.signal)(g)}),u=(0,T.default)(P.default),c=(0,C.default)(j.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.renderLoginBanner=function(){var e=n.props,t=e.loginUser,a=e.loginTo;return t?null:y.default.createElement("div",{className:n.ss("login-banner")},y.default.createElement("span",null,n.__("login_banner_left")),y.default.createElement("a",{className:n.ss("login-banner-link"),onClick:function(){return a()}},n.__("login_banner_right")))},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.locale,a=e.slug,n=e.type,r=(0,k.GetPayUrl)({item:a,locale:t});return y.default.createElement("div",{className:this.ss("payment-cover")},y.default.createElement("div",{className:this.ss("cover-banner")},this.renderLoginBanner(),y.default.createElement("div",{className:this.ss("banner-word")},y.default.createElement("span",null,this.__("banner_word_first_line")),y.default.createElement("span",null,this.__("banner_word_second_line"))),y.default.createElement("div",{className:this.ss("button","button-free")},y.default.createElement(S.default,{widthStyle:"full",theme:"white",label:y.default.createElement(O.TryPaymentLabel,{type:n}),href:r}))))}}]),t}(),f.propTypes={loginUser:v.default.object,locale:v.default.string,loginTo:v.default.func,slug:v.default.string,type:v.default.string.isRequired},d=p))||d)||d)||d);t.default=I},function(e,t){e.exports={"live-session-wrap":"live-session-wrap_2j9jGuBk","live-session-content":"live-session-content_3tfQR-r8","live-session-card":"live-session-card_GmOM-gUc","live-session-card-content":"live-session-card-content_1hWhzSiZ","card-main":"card-main_3JO1JTkG","info-item":"info-item_2ZjrawL8","item-icon":"item-icon_1zdAY7Ze","item-label":"item-label_2ovTzFlH","card-foot":"card-foot_2lOgq3p7",tips:"tips_9n9YXDyl",link:"link_2QwA7ANW","live-session-info":"live-session-info_3imzBNj6","info-header":"info-header_2U4jJVya","header-title":"header-title_1_cB1RVb","header-toggle":"header-toggle_1CQzrpZs","toggle-icon":"toggle-icon_2oq6byXo","toggle-expand":"toggle-expand_13r8gmdG","info-refer":"info-refer_24z_4htg","info-main":"info-main_Fl_g1Yne","info-main-des-content":"info-main-des-content_3bxr3cvW","info-main-expand":"info-main-expand_2TSu18n-","agenda-title":"agenda-title_1sqRHr_w","agenda-list":"agenda-list_145PjFLq","agenda-item":"agenda-item_2WaHsK3f","agenda-item-text":"agenda-item-text_3ELQzXPB",dialog:"dialog_3TEHlj1Z","date-icon-wrap":"date-icon-wrap_SZnNNwrl",month:"month_2k8XKHbH",day:"day_2OJ8iX6Y"}},function(e,t){e.exports={register:"register_3Kdk",live_session_referTo:"live_session_referTo_2sRC",live_session_register:"live_session_register_1LAm",live_session_time_diff:"live_session_time_diff_3wiN",calendar_coming_soon_tips:"calendar_coming_soon_tips_rfQ5"}},function(e,t){e.exports={contents:"contents_3kbG0gIj","live-session-item-content":"live-session-item-content_3acSgEHR","close-button":"close-button_3ZiK-8xR"}},function(e,t){e.exports={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["upload.uploads"],["upload.uploads"]),_=s(["upload.retryUploadAttachment"],["upload.retryUploadAttachment"]),g=n(a(0)),v=n(a(2)),y=n(a(1)),b=a(6),w=a(4),E=a(20),S=a(12),O=n(a(3)),k=n(a(545)),T=n(a(7)),P=n(a(546)),C=(l=(0,b.decorator)({uploads:(0,w.state)(h),retryUploadAttachment:(0,w.signal)(_)}),u=(0,O.default)(k.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"checkUpload",value:function(){var e=this.props,t=e.uploads,a=e.item,n=e.onSuccess,r=a.uploadId,o=a.url,i=r&&t[r];i&&i.content&&!o&&n&&n(i)}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return g.default.createElement("div",{className:this.ss("loading")},g.default.createElement("div",{className:this.ss("loading-bar"),style:{width:r+"%"}}),g.default.createElement("div",{className:this.ss("percent")},(r&&Math.floor(r))+"%"))}},{key:"renderFailed",value:function(e){var t=this;return g.default.createElement("div",{className:this.ss("loading-failed")},g.default.createElement("div",{className:this.ss("loading-text")},this.__("file_uploading_failed")),g.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},g.default.createElement("span",{className:this.ss("content")},g.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),g.default.createElement("span",{className:this.ss("text")},this.__("file_uploading_retry")))))}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.uploads,n=t.uploadId,r=t.url,o=a[n];if(r){var i=t.name,s=t.size;return g.default.createElement("div",{className:this.ss("attachment")},g.default.createElement("div",{className:this.ss("content-body")},g.default.createElement("div",{className:this.ss("title")},i),g.default.createElement("div",{className:this.ss("size")},(0,S.formatSize)(s))))}if(o){var l=o.filename,u=o.fileSize,c=o.status;return g.default.createElement("div",{className:this.ss("attachment")},g.default.createElement("div",{className:this.ss("content-body")},g.default.createElement("div",{className:this.ss("title")},l),g.default.createElement("div",{className:this.ss("size")},(0,S.formatSize)(u))),(0,E.isFailed)(c)&&this.renderFailed(o),(0,E.isLoading)(c)&&this.renderLoading(o))}return null}}]),t}(),f.propTypes={uploads:v.default.object,item:v.default.object,onSuccess:v.default.func,retryUploadAttachment:v.default.func},d=p))||d)||d)||d);t.default=C},function(e,t){e.exports={attachment:"attachment_2E6fLL7d","file-icon":"file-icon_3nfEHoRk","content-body":"content-body_laENqHMz",title:"title_HYahH9yI",size:"size_3gSOZIyM","loading-failed":"loading-failed_2yXkjusk","loading-text":"loading-text_1n_Eml-q","loading-button":"loading-button_1rsrZbP5",content:"content_2AV04-nF",retry:"retry_2nQrLXm5",text:"text_2QQDAFvC",loading:"loading_SBjRkAP9","loading-bar":"loading-bar_3fjGzREs",percent:"percent_z0-gGcyw"}},function(e,t){e.exports={file_uploading_failed:"file_uploading_failed_1SS8",file_uploading_retry:"file_uploading_retry_2G3s"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["common.addLinkDialog.addLinkForm"],["common.addLinkDialog.addLinkForm"]),_=s(["common.changeAddLinkFormField"],["common.changeAddLinkFormField"]),g=s(["common.addLinkFormValidated"],["common.addLinkFormValidated"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(4),E=a(13),S=n(a(403)),O=a(6),k=n(a(32)),T=n(a(15)),P=n(a(34)),C=n(a(3)),j=n(a(548)),I=n(a(7)),M=n(a(549)),N=(l=(0,O.decorator)({addLinkForm:(0,w.state)(h),changeAddLinkFormField:(0,w.signal)(_),addLinkFormValidated:(0,w.signal)(g)}),u=(0,C.default)(j.default),c=(0,I.default)(M.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onConfirm=function(){var e=n.props,t=e.addLinkForm,a=e.onConfirm;if((0,e.addLinkFormValidated)(),(0,E.isValidForm)(t)&&a){var r=t.name,o=t.url;a({id:S.default.createNonce(),name:r&&r.value,url:o&&o.value}),n.onClose()}},n.onClose=function(){n.props.onClose&&n.props.onClose()},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"renderFieldName",value:function(){var e=this.props,t=e.addLinkForm,a=e.changeAddLinkFormField,n=t.name,r=n.isTouched&&n.errorMessage;return y.default.createElement("div",{className:this.ss("form-field")},y.default.createElement("div",{className:this.ss("form-field-title")},this.__("field_resource_name"),r&&y.default.createElement("div",{className:this.ss("error_message")},this.__(r))),y.default.createElement("div",{className:this.ss("form-field-content")},y.default.createElement(P.default,{value:n.value,theme:r?"error":"default",onChange:function(e,t){return a({fieldName:"name",value:t})}})))}},{key:"renderFieldUrl",value:function(){var e=this.props,t=e.addLinkForm,a=e.changeAddLinkFormField,n=t.url,r=n.isTouched&&n.errorMessage;return y.default.createElement("div",{className:this.ss("form-field")},y.default.createElement("div",{className:this.ss("form-field-title")},this.__("field_resource_url")),y.default.createElement("div",{className:this.ss("form-field-description")},this.__("field_resource_url_description")),y.default.createElement("div",{className:this.ss("form-field-content")},y.default.createElement(P.default,{value:n.value,theme:r?"error":"default",onChange:function(e,t){return a({fieldName:"url",value:t})}})),y.default.createElement("div",{className:this.ss("error_message")},r?this.__(r):""))}},{key:"renderBody",value:function(){return y.default.createElement("div",{className:this.ss("body")},this.renderFieldName(),this.renderFieldUrl())}},{key:"renderFoot",value:function(){var e=[];return e.push(y.default.createElement("div",{key:"cancel",className:this.ss("button")},y.default.createElement(T.default,{size:"small",widthStyle:"full",label:this.__("button_cancel"),onClick:this.onClose}))),e.push(y.default.createElement("div",{key:"ok",className:this.ss("button")},y.default.createElement(T.default,{size:"small",widthStyle:"full",label:this.__("button_ok"),onClick:this.onConfirm}))),y.default.createElement("div",{className:this.ss("foot")},e)}},{key:"render",value:function(){var e=this.props.open;return y.default.createElement(k.default,{open:e,position:"center",onCloseModal:this.onClose},y.default.createElement("div",{className:this.ss("content")},this.renderBody(),this.renderFoot()))}}]),t}(),f.propTypes={open:v.default.bool,addLinkForm:v.default.object,changeAddLinkFormField:v.default.func,addLinkFormValidated:v.default.func,onClose:v.default.func,onConfirm:v.default.func},d=p))||d)||d)||d);t.default=N},function(e,t){e.exports={content:"content_3lM0ToJe",body:"body_1-W1J6Ws","form-field":"form-field_27Y_UhkC","form-field-title":"form-field-title_19L3p2QO","form-field-description":"form-field-description_3z-z7KLo","form-field-hint":"form-field-hint_2vUyMNOA",foot:"foot_ZeLSwfhv",button:"button_3pFT8msf",error_message:"error_message_2yi4n9dA"}},function(e,t){e.exports={button_ok:"button_ok_3QRB",button_cancel:"button_cancel_3J6_",field_resource_name:"field_resource_name_1emi",field_resource_url:"field_resource_url_2J6P",field_resource_url_description:"field_resource_url_description_1ST_",error_isRequired:"error_isRequired_3FRw",error_isWebsite:"error_isWebsite_1OO_"}},function(e,t){e.exports={"upload-file":"upload-file_3gjWu7mV","upload-content":"upload-content_zgaWUYJP",empty:"empty_3J1gSSyI",content:"content_rZ8hjMTD","add-btn-group":"add-btn-group_1m0Rn3fa","add-btn":"add-btn_14kpG6Op","file-item":"file-item_3jMrUr-w","file-icon":"file-icon_2FU1F77w","item-name":"item-name_2C753ape",buttons:"buttons_4G0VNkne",button:"button_TrzTy0n_",download:"download_16WPMhV7",delete:"delete_3XFiz0v_",up:"up_1_-RPr_4",down:"down_3BzsGmXW","error-text":"error-text_jIV2URML",hide:"hide_L7nyr0HL"}},function(e,t){e.exports={add_link:"add_link_XOTT",upload_file:"upload_file_Wvgi",error_isRequired:"error_isRequired_334p",error_release_isRequired:"error_release_isRequired_3zqg"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),h=s(["learner.parentIds"],["learner.parentIds"]),_=s(["userPremium"],["userPremium"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=n(a(783)),w=a(4),E=a(6),S=a(8),O=(l=(0,E.decorator)({sendCDPRequest:(0,w.signal)(m),parentIds:(0,w.state)(h),userPremium:(0,w.state)(_)}))((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),p(t,[{key:"componentDidMount",value:function(){var e=this;this.onActive(),window.onbeforeunload=function(){e.onLeave()}}},{key:"onIdle",value:function(){this.onLeave()}},{key:"onActive",value:function(){var e=Date.now();this.setState({timeArrived:e})}},{key:"onLeave",value:function(){var e=Date.now(),t=this.state.timeArrived,a=this.props,n=a.sendCDPRequest,r=a.id,o=a.type,i=a.parentIds,s=a.userPremium,l=Math.max(e-S.TIME_ON_PAGE_EXPIRE_TIME,t),u=f({},i,{id:r,type:o,userPremium:s,timeArrived:l,timeLeft:e});n({type:S.CDPLearnType.time_on_page,eventType:S.EventType.learn,data:u})}},{key:"render",value:function(){var e=this;return v.default.createElement(b.default,{onActive:function(){return e.onActive()},onIdle:function(){return e.onIdle()},timeout:S.TIME_ON_PAGE_EXPIRE_TIME})}}]),t}(),c.propTypes={id:g.default.string,type:g.default.string,sendCDPRequest:g.default.func,parentIds:g.default.object,userPremium:g.default.bool},u=d))||u;t.default=O},,function(e,t){e.exports={contents:"contents_1_c3O3mW",report:"report_3i6gshap",ban:"ban_P0Hu8uDL",record:"record_2Jicrc13",delete:"delete_2j5VjpQK",comments_record:"comments_record_1UUi-g_W",comments_reply:"comments_reply_oHdqu2PU",comments_edit:"comments_edit_1RiWgLhs",head:"head_2H95abFZ",des:"des_3f6wnyup",tips:"tips_-UIiJM9i",input:"input_1bv6T3Y0",foot:"foot_1-XWK53-","button-submit":"button-submit_1REPQZQr",disabled:"disabled_1AMigCqf",cancel:"cancel_3-NkQ6iB","button-cancel":"button-cancel_MzEwDLf2","report-form":"report-form_3SrRubdS","option-item":"option-item_T_EEp47d","checkbox-wrap":"checkbox-wrap_2OvnEJL9",checkbox:"checkbox_27440QCu",active:"active_U5BLfsW3","other-input-wrap":"other-input-wrap_2fGOF_7Q",textarea:"textarea_2hqGcxoS","report-result":"report-result_15GJHdqk","result-content":"result-content_NgC1NsqI","result-foot":"result-foot_3Uhitw0A","button-return":"button-return_1R6dX0hI",close:"close_U9Wdv_dW","button-close":"button-close_3lhAa6WR",icon:"icon_pU75CmPj","report-record":"report-record_18lfXA_G",field:"field_2pmjYc6C",title:"title_1NysU1Do",content:"content_z7Nrt9A7","reason-content":"reason-content_2O8O8-C2",record_delete_title:"record_delete_title_1kvwyoFf",record_delete_content:"record_delete_content_1KNOXlzH"}},function(e,t){e.exports={report_comment:"report_comment_eC9O",report_submission:"report_submission_1NGw",report_comment_des:"report_comment_des_3TWU",report_submission_des:"report_submission_des_3_37",foot_submit_report:"foot_submit_report_pRww",foot_submit_ban:"foot_submit_ban_3Jk5",foot_submit_ban_submission:"foot_submit_ban_submission_26Ga",foot_submit_undo:"foot_submit_undo_Yxcw",dialog_foot_cancel:"dialog_foot_cancel_3j6k",option_disrespectful:"option_disrespectful_34EA",option_obscene:"option_obscene_2E72",option_spam:"option_spam_6HAe",option_solicitation:"option_solicitation_CJRW",option_illegal:"option_illegal_3DY1",option_irrelevant:"option_irrelevant_DzTi",option_other:"option_other_2r5r",other_input_placeholder:"other_input_placeholder_1U-u",submitted_head:"submitted_head_12Dj",submitted_des:"submitted_des_2pvt",return_to_comment:"return_to_comment_19EW",return_to_submission:"return_to_submission_3Nga",close_report_result:"close_report_result_2n_4",ban_comment_title:"ban_comment_title_1aN5",ban_submission_title:"ban_submission_title_A51-",ban_comment_des:"ban_comment_des_3PK5",ban_comment_tips:"ban_comment_tips_3nMi",record_comment_title:"record_comment_title_14pR",field_comment:"field_comment_2KhT",field_submission:"field_submission_1DN9",field_commenterId:"field_commenterId_3aCm",field_exerciserId:"field_exerciserId_3Hpu",field_removals:"field_removals_3IeI",field_moderator:"field_moderator_3UmB",field_action:"field_action_3REc",field_removal_reason:"field_removal_reason_3TYA",action_ban:"action_ban_2624",action_ignore:"action_ignore_1Hiy",delete_comment:"delete_comment_1b7I",delete_comment_des:"delete_comment_des_-odF",foot_submit_delete:"foot_submit_delete_3uXU",delete_submission:"delete_submission_2obt",delete_submission_des:"delete_submission_des_7hDX",foot_submission_delete:"foot_submission_delete_1Vb-",record_comment:"record_comment_1OE8",record_commentName:"record_commentName_1Dpo",record_moderator:"record_moderator_18bP",record_removal_reason:"record_removal_reason_3kwO",record_action:"record_action_3--t",record_removals:"record_removals_2N8d",input_button_cancel:"input_button_cancel_3WOw",input_button_reply:"input_button_reply_pOZk",input_button_edit:"input_button_edit_1DlU"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=n(a(0)),f=n(a(1)),p=n(a(3)),m=n(a(557)),h=n(a(7)),_=n(a(558)),g=["tips01","tips02","tips03","tips04","tips05"],v=(s=(0,p.default)(m.default),l=(0,h.default)(_.default),s(u=l(u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,f.default),c(t,[{key:"renderItem",value:function(e,t){return d.default.createElement("div",{key:"tips_"+t,className:this.ss("tip-item")},this.__(e))}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:this.ss("tooltip-stream")},d.default.createElement("div",{className:this.ss("title")},this.__("tip_title")+":"),d.default.createElement("div",{className:this.ss("content")},g.map(function(t,a){return e.renderItem(t,a)})))}}]),t}())||u)||u);t.default=v},function(e,t){e.exports={"tooltip-stream":"tooltip-stream_XLAnJ7aw",title:"title_3zaz4U5P","tip-item":"tip-item_2_dfklaY"}},function(e,t){e.exports={tip_title:"tip_title_2mZQ",tips01:"tips01_5vRk",tips02:"tips02_1n41",tips03:"tips03_3M6I",tips04:"tips04_3WhG",tips05:"tips05_2XTk"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=a(5),g=a(8),v=n(a(3)),y=n(a(560)),b=n(a(7)),w=n(a(561)),E=(s=(0,v.default)(y.default),l=(0,b.default)(w.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"render",value:function(){var e=this,t=this.props.tooltip,a=(0,_.get)(t,"contentData")||{},n=[];if(g.CommentReportTypes.forEach(function(e){var t=(0,_.get)(a,e);t&&n.push({label:e,count:t})}),0===n.length)return null;var r=n.map(function(t){var a=t.label,n=t.count;return m.default.createElement("div",{key:"tip-count-"+a,className:e.ss("item")},e.__("report_reason_"+a,{count:n}))});return m.default.createElement("div",{className:this.ss("tooltip-flag-count")},r)}}]),t}(),c.propTypes={tooltip:p.default.object},u=d))||u)||u);t.default=E},function(e,t){e.exports={"tooltip-flag-count":"tooltip-flag-count_McIFlaKx",item:"item_MKjGPOpg"}},function(e,t){e.exports={report_reason_disrespectful:"report_reason_disrespectful_Z8ZT",report_reason_obscene:"report_reason_obscene_2YG9",report_reason_spam:"report_reason_spam_2ys6",report_reason_solicitation:"report_reason_solicitation_1D9a",report_reason_illegal:"report_reason_illegal_3U_X",report_reason_irrelevant:"report_reason_irrelevant_n3k0",report_reason_other:"report_reason_other_1-0x"}},function(e,t){e.exports={tooltips:"tooltips_237Elk50",tooltip:"tooltip_hUVcSBNB","tooltip-top":"tooltip-top_3PrFdnFC","tooltip-bottom":"tooltip-bottom_2DqJ735a","tooltip-bottom-left":"tooltip-bottom-left_3wQyJzrG","tooltip-left":"tooltip-left_3UAvzszZ","tooltip-right":"tooltip-right_2DLnX7Op","tooltip-lower-right":"tooltip-lower-right_2OMZ4Omk","tooltip-error":"tooltip-error_Nn2wInzt","tooltip-success":"tooltip-success_1HwwAaGJ","tooltip-green":"tooltip-green_IxFsfMOk","tooltip-warning":"tooltip-warning_3tS_4ttn"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.recordMap.",""],["learner.recordMap.",""]),_=s(["quiz.id"],["quiz.id"]),g=s(["locale"],["locale"]),v=s(["currentHost"],["currentHost"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),S=a(4),O=a(5),k=n(a(16)),T=n(a(44)),P=n(a(49)),C=(a(54),n(a(40))),j=a(59),I=a(99),M=a(26),N=n(a(18)),D=a(9),x=n(a(3)),R=n(a(564)),F=n(a(7)),A=n(a(565)),L={medium:{thumbnailWidth:390,thumbnailHeight:220},normal:{thumbnailWidth:285,thumbnailHeight:160}},K=(l=(0,E.decorator)({record:(0,S.state)(h,(0,S.props)(_)),locale:(0,S.state)(g),currentHost:(0,S.state)(v)}),u=(0,x.default)(R.default),c=(0,F.default)(A.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.quiz,n=t.record,r=t.statsPath,o=t.showProgress,i=t.size,s=t.theme,l=t.navIds,u=t.uv,c=t.locale,d=t.currentHost,f=a||{},p=f.id,m=f.title,h=f.type,_=(0,O.get)(n,"completed"),g=(0,O.get)(a,"withPay"),v=(0,N.default)((0,D.GetUrlByNavIds)(l,(0,D.GetDetailPageURL)(a,c,u)),d),y=L[i].thumbnailHeight,w=L[i].thumbnailWidth;return b.default.createElement("div",{className:this.ss("quiz-wrapper",s,i)},b.default.createElement("div",{className:this.ss("premium-wrapper")},g&&b.default.createElement(M.PaymentLabel,null)),b.default.createElement("div",{className:this.ss("quiz-card")},b.default.createElement("a",{className:this.ss("card-link"),href:v},b.default.createElement("div",{className:this.ss("card-img")},b.default.createElement(k.default,{src:(0,O.get)(a,"thumbnail.url"),sizes:w+"px",height:y,width:w}),b.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},b.default.createElement(P.default,{id:p,type:h,statsPath:r})),!1),b.default.createElement("div",{className:this.ss("card-content")},b.default.createElement("div",{className:this.ss("content-des")},b.default.createElement(j.StudyMethod,{data:a}),b.default.createElement("div",{className:this.ss("title")},m),b.default.createElement("div",{className:this.ss("info")},b.default.createElement(C.default,{data:a,theme:s,durationTheme:"minute"}))),b.default.createElement("div",{className:this.ss("author")},b.default.createElement(T.default,{data:a,theme:s})),b.default.createElement(I.ParentLabel,{data:a,ref:function(t){e.parentRef=t}})))),o&&_&&b.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),f.propTypes={statsPath:y.default.string.isRequired,quiz:y.default.object,navIds:y.default.array,record:y.default.object,url:y.default.string,size:y.default.oneOf(["normal","medium"]),theme:y.default.oneOf(["default","dark"]),showProgress:y.default.bool,currentHost:y.default.string,locale:y.default.string,uv:y.default.string},f.defaultProps={navIds:[],size:"normal",theme:"default",showProgress:!1},d=p))||d)||d)||d);t.default=K},function(e,t){e.exports={"quiz-wrapper":"quiz-wrapper_3uqO4Oen","premium-wrapper":"premium-wrapper_25BIfH__","complete-icon":"complete-icon_pNm54kRb",medium:"medium_2HtP3BpL","card-content":"card-content_21yYOmSS","content-des":"content-des_1XbGasI7",title:"title_2PEEs8Nk",dark:"dark_10cZcQa-","quiz-card":"quiz-card_1zCN6bpD","card-link":"card-link_3XI3xxbi","card-img":"card-img_1KjOcIL4","collect-wrap":"collect-wrap_3nL_bp6g",info:"info_292pAjr4",author:"author_1FJDk6oz"}},function(e,t){e.exports={part_of:"part_of_3XoB"}},function(e,t,a){e.exports=a(14)(896)},function(e,t,a){e.exports=a(14)(902)},,function(e,t,a){function n(e){return a(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./cover1.jpg":360,"./cover2.jpg":361,"./cover3.jpg":362};n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=569},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.NextLearnContentCard=t.NextPanel=t.CompleteIcon=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k,T,P,C,j,I,M=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),N=s(["loginUser"],["loginUser"]),D=s(["paymentRequired"],["paymentRequired"]),x=s(["tutorialData"],["tutorialData"]),R=s(["option.unityVersionId"],["option.unityVersionId"]),F=s(["learner.recordMap"],["learner.recordMap"]),A=s(["httpAPI.",""],["httpAPI.",""]),L=s(["search"],["search"]),K=s(["common.loadingUVData"],["common.loadingUVData"]),q=s(["header.setWindowSize"],["header.setWindowSize"]),z=s(["tutorial.getTutorialExtends"],["tutorial.getTutorialExtends"]),U=s(["learner.postStepScrollRecord"],["learner.postStepScrollRecord"]),B=s(["learner.postScrollRecord"],["learner.postScrollRecord"]),H=s(["learner.syncRecordNextData"],["learner.syncRecordNextData"]),V=s(["learner.recordMap.",""],["learner.recordMap.",""]),G=s(["id"],["id"]),W=s(["common.uv"],["common.uv"]),Q=s(["learner.parentIds"],["learner.parentIds"]),J=s(["breadcrumb"],["breadcrumb"]),Y=s(["common.navigateToDetailPage"],["common.navigateToDetailPage"]),Z=n(a(2)),X=n(a(0)),$=n(a(19)),ee=n(a(1)),te=a(6),ae=a(4),ne=a(5),re=a(116),oe=n(a(601)),ie=n(a(141)),se=n(a(401)),le=n(a(634)),ue=n(a(635)),ce=n(a(628)),de=n(a(59)),fe=n(a(99)),pe=n(a(15)),me=n(a(539)),he=n(a(491)),_e=n(a(530)),ge=n(a(563)),ve=n(a(636)),ye=n(a(506)),be=n(a(472)),we=n(a(538)),Ee=a(74),Se=n(Ee),Oe=n(a(602)),ke=n(a(603)),Te=n(a(552)),Pe=n(a(604)),Ce=n(a(523)),je=n(a(529)),Ie=a(8),Me=a(20),Ne=n(a(3)),De=n(a(678)),xe=n(a(7)),Re=n(a(679)),Fe=(l=(0,te.decorator)({loginUser:(0,ae.state)(N),paymentRequired:(0,ae.state)(D),tutorialData:(0,ae.state)(x),versionId:(0,ae.state)(R),recordMap:(0,ae.state)(F),getTutorialData:(0,ae.state)(A,Ie.GET_TUTORIAL_EXTENDS),search:(0,ae.state)(L),loadingUVData:(0,ae.state)(K),setWindowSize:(0,ae.signal)(q),getTutorialExtends:(0,ae.signal)(z),postStepScrollRecord:(0,ae.signal)(U),postScrollRecord:(0,ae.signal)(B),syncRecordNextData:(0,ae.signal)(H)}),u=(0,Ne.default)(De.default),c=(0,xe.default)(Re.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={stepId:""},n.onScroll=function(e){var t=e.scrollTop,a=n.state,r=a.stepId,o=a.positions,i=void 0===o?[]:o,s=a.stepIndexs,l=void 0===s?{}:s;if(0!==i.length){var u=n.getStepIdByPosition(t);if(u!==r){var c=l[r],d=l[u];n.tryStartTutorial(),void 0!==c&&d>c&&n.tryAutoCompleteStep(r),n.setState({stepId:u});var f=(0,ne.get)(window,"location",{}),p=""+f.origin+f.pathname+f.search+("#"+u);(0,Ce.default)(p)}}},n.isSubmission=function(e){return"submission"===(0,ne.get)(e,"type")},i=a,o(n,i)}return i(t,ee.default),M(t,[{key:"componentDidMount",value:function(){!0===(0,ne.get)(this.props.tutorialData,"premium")&&(this.removeDisableCopyCutPaste=(0,je.default)(this.refs.content)),this.props.getTutorialExtends&&this.props.getTutorialExtends()}},{key:"componentDidUpdate",value:function(){this.initialStepPositions();var e=this.props,t=e.tutorialData;(0,e.syncRecordNextData)({data:t})}},{key:"componentWillUnmount",value:function(){this.removeDisableCopyCutPaste&&this.removeDisableCopyCutPaste()}},{key:"onScrollEnd",value:function(){this.tryStartTutorial();var e=(0,ne.get)(this.props.tutorialData,"sections")||[];if(e.length>0){var t=(0,ne.get)(e[e.length-1],"id");this.tryAutoCompleteStep(t)}}},{key:"getStepIdByPosition",value:function(e){var t=this.state.positions,a=void 0===t?[]:t,n=this.props.tutorialData,r=(0,ne.get)(n,"sections",[]);if(a.length>0){var o=a.length-1;if(e<a[0])return"";if(e>=a[o])return r[o].id;for(var i=0;i<o;i++)if(e>=a[i]&&e<a[i+1])return r[i].id}return""}},{key:"initialStepPositions",value:function(){var e=this,t=(0,ne.get)(this.props.tutorialData,"sections")||[];if(!this.state.positions&&t.length>0){var a=this.state,n=a.positions,r=void 0===n?[]:n,o=a.stepIndexs,i=void 0===o?{}:o;t.forEach(function(t,a){var n=t.id,o=$.default.findDOMNode(e.refs["step_"+n]);if(o){var s=o.offsetTop;r.push(Math.max(0,s-128)),i[n]=a}}),this.setState({positions:r,stepIndexs:i},function(){var t=(0,ne.get)(window,"location.hash","").substring(1);t&&(e.setState({stepId:t}),e.scrollToStep({itemId:t}))})}}},{key:"scrollToStep",value:function(e){var t=e.itemId;if(this.refs.page)if(-1===t)this.refs.page.scrollTo(0);else{var a=$.default.findDOMNode(this.refs["step_"+t]);if(a){var n=a.offsetTop;this.refs.page.scrollTo(Math.max(0,n-128))}}}},{key:"scrollToFirst",value:function(){var e=this;setTimeout(function(){var t=(0,ne.get)(e.props.tutorialData,"sections")||[];if(t.length>0){var a=(0,ne.get)(t[0],"id");e.scrollToStep({itemId:a})}})}},{key:"scrollToNext",value:function(){var e=this.props.tutorialData,t=(0,ne.get)(e,"editable"),a=$.default.findDOMNode(this.refs.next),n=t?48:88;if(a){var r=a.offsetTop;this.refs.page&&this.refs.page.scrollTo(Math.max(0,r-n),!0)}}},{key:"scrollToGallery",value:function(){var e=this.props.tutorialData,t=(0,ne.get)(e,"editable"),a=$.default.findDOMNode(this.refs.gallery),n=t?48:88;if(a){var r=a.offsetTop;this.refs.page&&this.refs.page.scrollTo(Math.max(0,r-n),!0)}}},{key:"tryAutoCompleteStep",value:function(e){if(e&&""!==e){var t=this.props,a=t.tutorialData;(0,t.postStepScrollRecord)({id:(0,ne.get)(a,"id"),stepId:e,type:a.type})}}},{key:"tryStartTutorial",value:function(){var e=this.props,t=e.tutorialData;(0,e.postScrollRecord)({id:(0,ne.get)(t,"id"),type:(0,ne.get)(t,"type")})}},{key:"renderSubmissionForm",value:function(e){var t=this.props,a=t.loginUser,n=t.tutorialData,r=t.recordMap;if(!a)return null;var o=(0,ne.get)(n,"id"),i=(0,ne.get)(r,o)||{},s=this.isSubmission(e),l=(0,ne.get)(e,"id"),u=(0,ne.get)(e,"submissionType"),c=(0,ne.get)(i,"steps."+l+".completed");return s?u===Ie.SubmissionTypes.media?X.default.createElement(Se.default,{disabled:c,submissionType:u}):u===Ie.SubmissionTypes.webgl?X.default.createElement(Ee.SubmissionWebGLForm,{disabled:c,submissionType:u}):null:null}},{key:"renderTutorialSteps",value:function(){var e=this,t=this.props,a=t.tutorialData,n=t.versionId,r=a.id,o=a.type,i=a.sections,s=a.isExercise,l=!i||0===i.length;if(l)return null;var u=-1,c=!l&&i.map(function(t,a){var l=e.isSubmission(t),c=(0,ne.get)(t,"id"),d=(0,ne.get)(t,"submissionType"),f=a===i.length-1,p=s&&f?null:X.default.createElement("div",{className:e.ss("step-sep")}),m="";return t.optionType===Ie.StepOptionTypes.required&&(m=""+(++u+1)),X.default.createElement("div",{key:"step_"+c,ref:"step_"+c,className:e.ss("step-wrap")},X.default.createElement("div",{className:e.ss("step")},X.default.createElement(oe.default,{index:a,showStepNo:m,renderOnly:!0}),e.renderSubmissionForm(t),X.default.createElement("div",{className:e.ss("button-complete")},l?X.default.createElement(ue.default,{id:r,type:o,stepId:c,versionId:n,submissionType:d}):X.default.createElement(le.default,{id:r,type:o,stepId:c,versionId:n}))),X.default.createElement(Ae,{id:r,step:t}),p)}),d=s?null:X.default.createElement("div",{className:this.ss("button-complete-all")},X.default.createElement(ce.default,{id:r,type:o,versionId:n}));return X.default.createElement("div",{className:this.ss("tutorial-steps")},c,d)}},{key:"renderLoading",value:function(){return X.default.createElement("div",{className:this.ss("loading-wrap")},X.default.createElement("div",{className:this.ss("loading")}))}},{key:"renderNextPanel",value:function(e,t){var a=this;if(e||t)return null;var n=this.props,r=n.tutorialData,o=n.recordMap,i=(0,ne.get)(r,"id"),s=(0,ne.get)(r,"isExercise")||!1,l=(0,ne.get)(o,i+".completed")||!1,u=(0,ne.get)(r,"thumbnail.url"),c=(0,ne.get)(r,"sections")||[],d=(0,ne.get)(r,"submissionStepId"),f=(0,ne.get)(o,i+".steps."+d+".completed"),p=c.find(function(e){return e.id===d})||{},m=(0,ne.get)(p,"optionType")===Ie.StepOptionTypes.required;return s&&d?X.default.createElement(Ee.SubmitSection,{ref:"next",statsPath:"tutorialData",defaultThumbnailUrl:u,submissionRequire:m,completed:l,submissionCompleted:f,scrollToNext:function(){return a.scrollToNext()},scrollToStep:function(){return a.scrollToStep({itemId:d})}}):X.default.createElement(Le,{ref:"next",statsPath:"tutorialData",completed:l,scrollToNext:function(){return a.scrollToNext()}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.tutorialData,n=t.setWindowSize,r=t.paymentRequired,o=t.getTutorialData,i=t.loadingUVData,s=t.versionId,l=(0,ne.get)(a,"id"),u=(0,ne.get)(a,"type"),c=(0,ne.get)(a,"editable"),d=r,f=(0,ne.get)(a,"withLab"),p=!0===i||!(0,Me.isFailedOrSucceeded)((0,ne.get)(o,"updateStatus")),m=(0,ne.get)(a,"paymentItem.slug"),h=(0,ne.get)(a,"isExercise");return X.default.createElement(re.DefaultLearnerLayoutOnly,{ref:"page",setWindowSize:n,onScroll:(0,ne.debounce)(this.onScroll,200),onScrollEnd:function(){e.onScrollEnd()}},X.default.createElement("div",{className:this.ss("body-wrap")},X.default.createElement(se.default,{data:a,statsPath:"tutorialData",disabled:d,versionId:s,scrollToStep:function(t){return e.scrollToStep(t)},scrollToFirst:function(){return e.scrollToFirst()},autoStart:this.state.autoStart}),X.default.createElement("div",{className:this.ss("content-wrap",d&&"withCover"),ref:"content"},X.default.createElement("div",{className:this.ss("content")},X.default.createElement("div",{className:this.ss("center")},X.default.createElement(Ee.SubmissionFeatured,{statsPath:"search",scrollToGallery:function(){return e.scrollToGallery()}}),f&&X.default.createElement("div",{className:this.ss("path-stream")},X.default.createElement(he.default,{labUrl:(0,ne.get)(a,"labUrl")})),this.renderTutorialSteps(),X.default.createElement("div",{className:this.ss("suggest-solution")},X.default.createElement(Oe.default,{renderOnly:!0}))),r&&X.default.createElement(me.default,{slug:m,type:u}))),this.renderNextPanel(d,p),h&&X.default.createElement(ke.default,{ref:"gallery",author:c,showSearchBar:!1}),X.default.createElement(be.default,null),X.default.createElement(Pe.default,null)),X.default.createElement(_e.default,null),X.default.createElement(ve.default,{id:l,type:"tutorial",scrollToStep:function(t){return e.scrollToStep(t)}}),X.default.createElement(we.default,{editable:c}),X.default.createElement(ye.default,null),X.default.createElement(Te.default,{id:l,type:u}),p&&this.renderLoading())}}]),t}(),f.propTypes={loginUser:Z.default.object,paymentRequired:Z.default.bool,tutorialData:Z.default.object,versionId:Z.default.string,search:Z.default.object,loadingUVData:Z.default.bool,recordMap:Z.default.object,getTutorialData:Z.default.object,setWindowSize:Z.default.func,getTutorialExtends:Z.default.func,postStepScrollRecord:Z.default.func,postScrollRecord:Z.default.func,syncRecordNextData:Z.default.func},d=p))||d)||d)||d);t.default=Fe;var Ae=t.CompleteIcon=(m=(0,te.decorator)({record:(0,ae.state)(V,(0,ae.props)(G))}),h=(0,Ne.default)(De.default),m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,ee.default),M(t,[{key:"render",value:function(){var e=this.props,t=e.step,a=e.record,n=(0,ne.get)(t,"id"),r=(0,ne.get)(a,"steps."+n+".completed"),o="ifont-lrn_icon_finish";return(0,ne.get)(t,"optionType")===Ie.StepOptionTypes.optional&&r&&(o="ifont-icon-like"),X.default.createElement("div",{className:this.ss("complete-icon",r&&"completed","ifont",o)})}}]),t}(),g.propTypes={id:Z.default.string.isRequired,record:Z.default.object,step:Z.default.object},_=v))||_)||_),Le=t.NextPanel=(y=(0,te.decorator)({uv:(0,ae.state)(W),parentIds:(0,ae.state)(Q),breadcrumb:(0,ae.state)(J),navigateToDetailPage:(0,ae.signal)(Y)}),b=(0,Ne.default)(De.default),w=(0,xe.default)(Re.default),y(E=b(E=w((O=S=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,ee.default),M(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,ne.get)(e,"completed");!0!==(0,ne.get)(this.props,"completed")&&!0===t&&this.props.scrollToNext()}},{key:"render",value:function(){var e=this.props,t=e.statsPath,a=e.breadcrumb,n=e.navigateToDetailPage,r=e.completed,o=e.parentIds;if(!a||!r)return X.default.createElement("div",{className:this.ss("next-panel")});var i=(0,ne.get)(a,"nextNode"),s=(0,ne.get)(a,"root")||{},l=(0,ne.get)(a,"current")||{};if(!i)return X.default.createElement("div",{className:this.ss("next-panel")});var u=(0,ne.get)(i,"navIds")||[],c=a.nextProject,d=a.nextTutorial,f=a.nextQuiz,p=d||c||f,m=(0,ne.get)(p,"thumbnail.url"),h=(0,ne.get)(p,"parentMap."+o.projectId+".unityVersionRange.recommendIds")||[];0===h.length&&(h=(0,ne.get)(p,"parentMap."+o.courseId+".unityVersionRange.recommendIds")||[]);var _=h.length>0?this.props.uv:"";return X.default.createElement("div",{className:this.ss("next-panel")},X.default.createElement(ie.default,{url:m}),X.default.createElement("div",{className:this.ss("panel-body")},X.default.createElement("div",{className:this.ss("left")},X.default.createElement("div",{className:this.ss("info-title")},this.__("next_title_"+l.type)),X.default.createElement("div",{className:this.ss("info-description")},this.__("next_description_"+s.type,{title:s.title})),X.default.createElement("div",{className:this.ss("button-next")},X.default.createElement(pe.default,{widthStyle:"full",label:this.__("button_next"),onClick:function(){return n({data:p,navIds:u,uv:_})}}))),X.default.createElement("div",{className:this.ss("right")},X.default.createElement("div",{className:this.ss("card-title")},this.__("card_title")),X.default.createElement("div",{className:this.ss("card")},X.default.createElement(Ke,{statsPath:t})))))}}]),t}(),S.propTypes={uv:Z.default.string,parentIds:Z.default.object,breadcrumb:Z.default.object,completed:Z.default.bool,scrollToNext:Z.default.func,navigateToDetailPage:Z.default.func,statsPath:Z.default.string.isRequired},E=O))||E)||E)||E),Ke=t.NextLearnContentCard=(k=(0,te.decorator)({uv:(0,ae.state)(W),parentIds:(0,ae.state)(Q),breadcrumb:(0,ae.state)(J)}),T=(0,Ne.default)(De.default),P=(0,xe.default)(Re.default),k(C=T(C=P((I=j=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getNextLearnContentUV=function(){var e=n.props,t=e.breadcrumb,a=e.parentIds,r=t.nextProject,o=t.nextTutorial,i=t.nextQuiz,s=o||r||i,l=(0,ne.get)(s,"parentMap."+a.projectId+".unityVersionRange.recommendIds")||[];return 0===l.length&&(l=(0,ne.get)(s,"parentMap."+a.courseId+".unityVersionRange.recommendIds")||[]),l.length>0?n.props.uv:""},i=a,o(n,i)}return i(t,ee.default),M(t,[{key:"render",value:function(){var e=this.props,t=e.size,a=e.statsPath,n=e.breadcrumb,r=(0,ne.get)(n,"nextNode");if(!r)return null;var o=(0,ne.get)(r,"navIds")||[],i=(0,ne.get)(r,"type"),s=n.nextProject,l=n.nextTutorial,u=n.nextQuiz,c=this.getNextLearnContentUV(),d=null;return i===Ie.DataTypeKeys.project&&s&&(d=X.default.createElement(de.default,{project:s,statsPath:a,navIds:o,uv:c})),i===Ie.DataTypeKeys.tutorial&&l&&(d=X.default.createElement(fe.default,{size:t,tutorial:l,statsPath:a,navIds:o,uv:c})),i===Ie.DataTypeKeys.quiz&&u&&(d=X.default.createElement(ge.default,{size:t,quiz:u,statsPath:a,navIds:o,uv:c})),d}}]),t}(),j.propTypes={uv:Z.default.string,parentIds:Z.default.object,breadcrumb:Z.default.object,size:Z.default.oneOf(["normal","medium"]),statsPath:Z.default.string.isRequired},j.defaultProps={size:"normal"},C=I))||C)||C)||C)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getCurrentContent(),a=e.getSelection();if(!a.isCollapsed())return null;var n=a.getStartKey(),c=a.getStartOffset(),d=t.getBlockForKey(n).getText(),f=(0,i.default)(d),p=(0,s.default)(d),m=(0,l.default)(d,f),h=(0,u.default)(d,c,f),_=m.get(h.getLine()).slice(0,h.getOffset());if(!(0,o.default)(_,p))return null;var g=c-p.length,v=a.merge({focusKey:n,focusOffset:g,anchorKey:n,anchorOffset:c,isBackward:!0}),y=r.Modifier.removeRange(t,v,"backward"),b=r.EditorState.push(e,y,"remove-range");return r.EditorState.forceSelection(b,y.getSelectionAfter())};var r=a(10),o=n(a(572)),i=n(a(180)),s=n(a(442)),l=n(a(444)),u=n(a(445))},function(e,t,a){e.exports=a(14)(878)},function(e,t,a){e.exports=a(14)(877)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getCurrentContent(),a=e.getSelection(),n=a.getStartKey(),u=a.getStartOffset(),c=t.getBlockForKey(n).getText(),d=(0,o.default)(c),f=void 0;if(a.isCollapsed()){var p=(0,i.default)(c,d),m=(0,s.default)(c,u,d).getLine(),h=p.get(m),_=d+(0,l.default)(h);f=r.Modifier.insertText(t,a,_)}else f=r.Modifier.replaceText(t,a,d);var g=r.EditorState.push(e,f,"insert-characters");return r.EditorState.forceSelection(g,f.getSelectionAfter())};var r=a(10),o=n(a(180)),i=n(a(444)),s=n(a(445)),l=n(a(575))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e).indent||""};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(443))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.preventDefault();var a=t.getCurrentContent(),o=t.getSelection(),i=o.getStartKey(),s=a.getBlockForKey(i),l=(0,r.default)(s.getText()),u=void 0;return u=o.isCollapsed()?n.Modifier.insertText(a,o,l):n.Modifier.replaceText(a,o,l),n.EditorState.push(t,u,"insert-characters")};var n=a(10),r=function(e){return e&&e.__esModule?e:{default:e}}(a(442))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,a,n){for(var r=t;r<a;r++)e[r]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=n(a(0)),f=n(a(2)),p=a(52),m=n(a(600)),h=n(a(578)),_=function(){function e(){i(this,e)}return c(e,[{key:"getDecorations",value:function(e){var t=new Array(e.getLength()).fill(null);if("code-block"!==e.getType())return(0,p.List)(t);var a=e.getText(),n=m.default.highlightAuto(a),r=0,o=[],i=new h.default;return i.on("open",function(e,t){if("span"===e){var a=t.class||"";o.push(a)}}),i.on("close",function(e){"span"===e&&o.pop()}),i.on("text",function(e){var a=o.join(" ");s(t,r,r+e.length,a),r+=e.length}),i.parse(n.value),(0,p.List)(t)}},{key:"getComponentForKey",value:function(){return g}},{key:"getPropsForKey",value:function(e){return{className:e}}}]),e}();t.default=_;var g=(u=l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,d.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children;return t.split(" ").reverse().reduce(function(e,t){return d.default.createElement("span",{className:t},e)},a)}}]),t}(),l.propTypes={className:f.default.string,children:f.default.any},u)},function(e,t,a){e.exports=a(14)(871)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editor.openSettings"],["editor.openSettings"]);t.default=function(e){var t=e.editorKey,a=e.theme;return function(e){var n,s,v,y,b;return n=(0,m.decorator)({editorState:(0,h.state)(u,t),openSettings:(0,h.state)(c)}),s=(0,_.default)(g.default),n(v=s((b=y=function(t){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,p.default),l(n,[{key:"render",value:function(){var t=this.props,n=t.editorState,r=t.entityKey,o=t.openSettings,i=(n.getCurrentContent().getEntity(r).getData()||{}).alignment,s=void 0===i?"default":i;return d.default.createElement("div",{className:this.ss("alignment-"+s,a,o&&"openSettings")},d.default.createElement(e,this.props))}}]),n}(),y.propTypes={editorState:f.default.object,entityKey:f.default.string,openSettings:f.default.bool},v=b))||v)||v}};var d=n(a(0)),f=n(a(2)),p=n(a(1)),m=a(6),h=a(4),_=n(a(3)),g=n(a(126))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["editor.alignmentToolbar.",""],["editor.alignmentToolbar.",""]),v=s(["editor.showAlignmentToolbar"],["editor.showAlignmentToolbar"]),y=s(["editor.hideAlignmentToolbar"],["editor.hideAlignmentToolbar"]),b=n(a(0)),w=n(a(19)),E=n(a(2)),S=n(a(1)),O=a(6),k=a(4),T=n(a(69)),P=n(a(3)),C=n(a(126)),j=n(a(581)),I=a(582),M=a(583),N=(0,j.default)("default","icons_alignment_normal"),D=(0,j.default)("left","icons_alignment_left"),x=(0,j.default)("right","icons_alignment_right"),R=(0,j.default)("center","icons_alignment_center"),F=(0,j.default)("fullscreen","icons_alignment_fullscreen"),A=(u=(0,O.decorator)({editorState:(0,k.state)(h,(0,k.props)(_)),alignmentToolbarState:(0,k.state)(g,(0,k.props)(_)),showAlignmentToolbar:(0,k.signal)(v),hideAlignmentToolbar:(0,k.signal)(y)}),c=(0,P.default)(C.default),u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,S.default),m(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,a=e.showAlignmentToolbar,n=e.hideAlignmentToolbar;if(this.getEntityKey()){var r=w.default.findDOMNode(this),o=window.getSelection().focusNode;if(!l(r,o)){var i=o&&o.getBoundingClientRect&&o.getBoundingClientRect();if(i&&i.width&&i.height){var s=((0,T.default)(r.parentElement)||document.body).getBoundingClientRect(),u=i.top-s.top-21,c=i.left-s.left+i.width/2;a({editorKey:t,top:Math.round(u),left:Math.round(c)})}}}else n({editorKey:t})}},{key:"getEntityKey",value:function(){var e=this.props.editorState;if(e){var t=e.getSelection(),a=t.getAnchorKey(),n=t.getFocusKey(),r=e.getCurrentContent(),o=r.getBlockForKey(n);if(a===n&&"atomic"===o.getType()){var i=o.getEntityAt(0),s=r.getEntity(i).getType();if("IMAGE"===s||"VIDEO"===s||"VIDEOATTACHMENT"===s)return i}}}},{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.alignmentToolbarState,n=!!a,r=a&&{top:a.top,left:a.left},o=void 0,i=this.getEntityKey();return i&&a&&(o="linkInput"===a.mode?[b.default.createElement(I.ImageLinkInput,{editorKey:t,entityKey:i,key:"linkInput"})]:"altInput"===a.mode?[b.default.createElement(M.ImageAltInput,{editorKey:t,entityKey:i,key:"altInput"})]:[b.default.createElement(D,{editorKey:t,entityKey:i,key:"left"}),b.default.createElement(R,{editorKey:t,entityKey:i,key:"center"}),b.default.createElement(N,{editorKey:t,entityKey:i,key:"default"}),b.default.createElement(F,{editorKey:t,entityKey:i,key:"fullscreen"}),b.default.createElement(x,{editorKey:t,entityKey:i,key:"right"}),b.default.createElement(I.ImageLinkButton,{editorKey:t,entityKey:i,key:"link"}),b.default.createElement(M.ImageAltButton,{editorKey:t,entityKey:i,key:"alt"})]),b.default.createElement("div",{className:this.ss("alignment-toolbar",n&&"show"),style:r},o)}}]),t}(),f.propTypes={editorKey:E.default.string.isRequired,editorState:E.default.object,alignmentToolbarState:E.default.object,showAlignmentToolbar:E.default.func,hideAlignmentToolbar:E.default.func},d=p))||d)||d);t.default=A},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editorKey"],["editorKey"]),d=s(["draft.setEditorState"],["draft.setEditorState"]),f=s(["editor.contentMap"],["editor.contentMap"]);t.default=function(e,t){var a,n,s,S,O;return a=(0,_.decorator)({editorState:(0,g.state)(u,(0,g.props)(c)),setEditorState:(0,g.signal)(d),contentMap:(0,g.state)(f)}),n=(0,y.default)(b.default),a(s=n((O=S=function(a){function n(){var t,a,i,s;r(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=i=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(u))),i.onClick=function(){var t=i.props,a=t.editorKey,n=t.editorState,r=t.entityKey,o=t.setEditorState,s=n.getCurrentContent(),l=(0,v.mergeAtomicEntityData)(s,r,{alignment:e});o({editorKey:a,editorState:v.EditorState.set(n,{currentContent:l})})},i.preventBubblingUp=function(e){e.preventDefault()},s=a,o(i,s)}return i(n,h.default),l(n,[{key:"render",value:function(){var a=this.props,n=a.entityKey,r=a.editorState,o=a.contentMap,i=r.getCurrentContent().getEntity(n).getData()||{},s=i.alignment,l=void 0===s?"default":s,u=i.contentId,c=l===e,d=((u&&o&&o[u]||{}).originalImage||{}).width;return d&&d<w&&-1===E.indexOf(e)?null:p.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},p.default.createElement("button",{type:"button",onClick:c?void 0:this.onClick,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,c&&"active")}))}}]),n}(),S.displayName="AlignmentButton("+e+")",S.propTypes={editorKey:m.default.string.isRequired,editorState:m.default.object,contentMap:m.default.object,entityKey:m.default.string.isRequired,setEditorState:m.default.func},s=O))||s)||s};var p=n(a(0)),m=n(a(2)),h=n(a(1)),_=a(6),g=a(4),v=a(10),y=n(a(3)),b=n(a(126)),w=1e3,E=["left","default","right","center"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["draft.editorStates.",""],["draft.editorStates.",""]),w=s(["editorKey"],["editorKey"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),S=s(["editor.showImageLinkInput"],["editor.showImageLinkInput"]),O=s(["editor.alignmentToolbar.",""],["editor.alignmentToolbar.",""]),k=s(["editor.changeImageLinkInputValue"],["editor.changeImageLinkInputValue"]),T=s(["editor.hideImageLinkInput"],["editor.hideImageLinkInput"]),P=n(a(0)),C=n(a(2)),j=n(a(1)),I=a(6),M=a(4),N=a(10),D=n(a(436)),x=n(a(3)),R=n(a(126)),F=n(a(7)),A=n(a(446)),L=(l=(0,I.decorator)({editorState:(0,M.state)(b,(0,M.props)(w)),setEditorState:(0,M.signal)(E),showImageLinkInput:(0,M.signal)(S)}),u=(0,x.default)(R.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.removeLinks=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.entityKey,i=t.setEditorState,s=r.getCurrentContent();if((s.getEntity(o).getData()||{}).url){var l=(0,N.mergeAtomicEntityData)(s,o,{url:""});i({editorKey:a,editorState:N.EditorState.push(r,l,"apply-entity")})}},n.showImageLinkInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey;(0,t.showImageLinkInput)({editorKey:a})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,j.default),y(t,[{key:"render",value:function(){var e=this.props,t=e.editorState,a=e.entityKey,n=t.getCurrentContent().getEntity(a);if("IMAGE"!==n.getType())return null;var r=!!(n.getData()||{}).url;return P.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("button",{type:"button",onClick:r?this.removeLinks:this.showImageLinkInput,className:this.ss("toolbar-button","link","ifont","ifont-icons_inline_link",r&&"active")}))}}]),t}(),d.propTypes={editorKey:C.default.string.isRequired,editorState:C.default.object,entityKey:C.default.string.isRequired,setEditorState:C.default.func,showImageLinkInput:C.default.func},c=f))||c)||c),K=(p=(0,I.decorator)({editorState:(0,M.state)(b,(0,M.props)(w)),alignmentToolbarState:(0,M.state)(O,(0,M.props)(w)),setEditorState:(0,M.signal)(E),changeImageLinkInputValue:(0,M.signal)(k),hideImageLinkInput:(0,M.signal)(T)}),m=(0,x.default)(R.default),h=(0,F.default)(A.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){e.preventDefault();var t=e.currentTarget.value,a=n.props,r=a.editorKey;(0,a.changeImageLinkInputValue)({editorKey:r,value:t})},n.onKeyDown=function(e){if("Enter"===e.key){e.preventDefault();var t=n.props,a=t.alignmentToolbarState,r=t.editorKey,o=t.editorState,i=t.entityKey,s=t.setEditorState,l=t.hideImageLinkInput,u=a.value,c=D.default.match(u),d=c&&c[0]?c[0].url:"";if(!d)return;l({editorKey:r}),n.inputRef.blur();var f=o.getCurrentContent(),p=(0,N.mergeAtomicEntityData)(f,i,{url:d});s({editorKey:r,editorState:N.EditorState.push(o,p,"apply-entity")})}else"Escape"===e.key&&n.hideImageLinkInput(e)},n.hideImageLinkInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState;(0,t.hideImageLinkInput)({editorKey:a}),n.inputRef.blur(),o({editorKey:a,editorState:N.EditorState.forceSelection(r,r.getSelection())})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,j.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.alignmentToolbarState.value;return P.default.createElement("div",{className:this.ss("input-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("input",{type:"text",className:this.ss("link-input"),autoFocus:!0,value:t,placeholder:this.__("image_link_input_place_holder"),onChange:this.onChange,onKeyDown:this.onKeyDown,ref:function(t){e.inputRef=t}}),P.default.createElement("button",{type:"button",className:this.ss("close-button","ifont","ifont-icon-close2"),onClick:this.hideImageLinkInput}))}}]),t}(),g.propTypes={editorKey:C.default.string.isRequired,editorState:C.default.object,entityKey:C.default.string.isRequired,alignmentToolbarState:C.default.object,setEditorState:C.default.func,changeImageLinkInputValue:C.default.func,hideImageLinkInput:C.default.func},_=v))||_)||_)||_);e.exports={ImageLinkButton:L,ImageLinkInput:K}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["draft.editorStates.",""],["draft.editorStates.",""]),w=s(["editorKey"],["editorKey"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),S=s(["editor.showImageAltInput"],["editor.showImageAltInput"]),O=s(["editor.alignmentToolbar.",""],["editor.alignmentToolbar.",""]),k=s(["editor.changeImageAltInputValue"],["editor.changeImageAltInputValue"]),T=s(["editor.hideImageAltInput"],["editor.hideImageAltInput"]),P=n(a(0)),C=n(a(2)),j=n(a(1)),I=a(6),M=a(4),N=n(a(5)),D=n(a(394)),x=a(10),R=a(12),F=n(a(3)),A=n(a(126)),L=n(a(7)),K=n(a(446)),q=(l=(0,I.decorator)({editorState:(0,M.state)(b,(0,M.props)(w)),setEditorState:(0,M.signal)(E),showImageAltInput:(0,M.signal)(S)}),u=(0,F.default)(A.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.showImageAltInput=function(e){(0,R.pauseEvent)(e);var t=n.props,a=t.editorKey,r=t.showImageAltInput,o=n.props,i=o.editorState,s=o.entityKey,l=i.getCurrentContent().getEntity(s);r({editorKey:a,value:N.default.get(l.getData(),"altText","")})},n.preventBubblingUp=function(e){(0,R.pauseEvent)(e)},i=a,o(n,i)}return i(t,j.default),y(t,[{key:"render",value:function(){var e=this.props,t=e.editorState,a=e.entityKey,n=t.getCurrentContent().getEntity(a);if("IMAGE"!==n.getType())return null;var r=!!(n.getData()||{}).altText;return P.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("button",{type:"button",onClick:this.showImageAltInput,className:this.ss("toolbar-button","ifont","ifont-lrn_icon_art_track",r&&"active")}))}}]),t}(),d.propTypes={editorKey:C.default.string.isRequired,editorState:C.default.object,entityKey:C.default.string.isRequired,setEditorState:C.default.func,showImageAltInput:C.default.func},c=f))||c)||c),z=(p=(0,I.decorator)({editorState:(0,M.state)(b,(0,M.props)(w)),alignmentToolbarState:(0,M.state)(O,(0,M.props)(w)),setEditorState:(0,M.signal)(E),changeImageAltInputValue:(0,M.signal)(k),hideImageAltInput:(0,M.signal)(T)}),m=(0,F.default)(A.default),h=(0,L.default)(K.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){(0,R.pauseEvent)(e);var t=e.currentTarget.value,a=n.props,r=a.editorKey;(0,a.changeImageAltInputValue)({editorKey:r,value:t})},n.onKeyDown=function(e){if("Enter"!==e.key||e.shiftKey)"Escape"===e.key&&n.hideImageAltInput(e);else{(0,R.pauseEvent)(e);var t=n.props,a=t.alignmentToolbarState,r=t.editorKey,o=t.editorState,i=t.entityKey,s=t.setEditorState,l=t.hideImageAltInput,u=a.value||"";l({editorKey:r}),n.textAreaRef.refs.input.blur();var c=o.getCurrentContent(),d=(0,x.mergeAtomicEntityData)(c,i,{altText:u});s({editorKey:r,editorState:x.EditorState.push(o,d,"apply-entity")})}},n.hideImageAltInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState;(0,t.hideImageAltInput)({editorKey:a}),n.textAreaRef.refs.input.blur(),o({editorKey:a,editorState:x.EditorState.forceSelection(r,r.getSelection())})},i=a,o(n,i)}return i(t,j.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.alignmentToolbarState.value;return P.default.createElement("div",{className:this.ss("input-wrapper")},P.default.createElement("div",{className:this.ss("text-area")},P.default.createElement(D.default,{autoFocus:!0,placeholder:this.__("image_alt_input_place_holder"),value:t,onChange:this.onChange,onKeyDown:this.onKeyDown,ref:function(t){e.textAreaRef=t}})),P.default.createElement("button",{type:"button",className:this.ss("close-button","ifont","ifont-icon-close2"),onClick:this.hideImageAltInput}))}}]),t}(),g.propTypes={editorKey:C.default.string.isRequired,editorState:C.default.object,entityKey:C.default.string.isRequired,alignmentToolbarState:C.default.object,setEditorState:C.default.func,changeImageAltInputValue:C.default.func,hideImageAltInput:C.default.func},_=v))||_)||_)||_);e.exports={ImageAltButton:q,ImageAltInput:z}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editor.dragOverBlockKey"],["editor.dragOverBlockKey"]),d=s(["editor.dragStartBlockKey"],["editor.dragStartBlockKey"]),f=s(["editor.dragStartBlockAfterKey"],["editor.dragStartBlockAfterKey"]),p=s(["editor.setDragOverBlockKey"],["editor.setDragOverBlockKey"]),m=s(["editor.setDragStartBlockKey"],["editor.setDragStartBlockKey"]);t.default=function(e){var t,a,n,s=e.editorKey,E=e.renderOnly;return(0,y.decorator)({editorState:(0,b.state)(u,s),dragOverBlockKey:(0,b.state)(c),dragStartBlockKey:(0,b.state)(d),dragStartBlockAfterKey:(0,b.state)(f),setDragOverBlockKey:(0,b.signal)(p),setDragStartBlockKey:(0,b.signal)(m)})((n=a=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.onDragEnter=function(){n.counter++},n.onDragLeave=function(){if(n.counter--,0===n.counter){var e=n.props,t=e.dragOverBlockKey,a=e.setDragOverBlockKey;t&&a()}},n.onDragOver=function(e){e.preventDefault();var t=void 0;_.default.findDOMNode(n).querySelectorAll('[data-editor="'+s+'"][data-block="true"]').forEach(function(a){t||a.getBoundingClientRect().bottom>e.clientY&&(t=a)});var a=n.props,r=a.dragOverBlockKey,o=a.setDragOverBlockKey,i=a.dragStartBlockKey,l=a.dragStartBlockAfterKey,u=t&&t.getAttribute("data-offset-key"),c=(u&&w.DraftOffsetKey.decode(u)||{}).blockKey,d=void 0===c?"":c;if(d!==r){var f=n.props.editorState.getCurrentContent(),p=["GAMEGALLERY","SHOWCASEGALLERY","WEBGLGALLERY"],m=f.getBlockForKey(d);if(m&&"atomic"===m.getType()){var h=m.getEntityAt(0),g=f.getEntity(h).getType();if(-1!==p.indexOf(g))return void o()}o({blockKey:d,internalDrag:n.internalDrag})}!n.internalDrag||i&&d!==i&&d!==l||(e.dataTransfer.dropEffect="none")},n.onDrop=function(){var e=n.props,t=e.dragOverBlockKey,a=e.setDragOverBlockKey;t&&a(),n.counter=0},n.onDragStart=function(){n.internalDrag=!0},n.onDragEnd=function(){n.internalDrag=!1,(0,n.props.setDragStartBlockKey)()},n.counter=0,n.internalDrag=!1,n}return i(t,v.default),l(t,[{key:"render",value:function(){var e=this.props.children;return h.default.createElement("div",{onDragEnter:E?void 0:this.onDragEnter,onDragLeave:E?void 0:this.onDragLeave,onDragOver:E?void 0:this.onDragOver,onDrop:E?void 0:this.onDrop,onDragStart:E?void 0:this.onDragStart,onDragEnd:E?void 0:this.onDragEnd,style:{paddingTop:"1px",paddingBottom:"1px"}},e)}}]),t}(),a.propTypes={editorState:g.default.object,dragOverBlockKey:g.default.string,dragStartBlockKey:g.default.string,dragStartBlockAfterKey:g.default.string,setDragOverBlockKey:g.default.func,setDragStartBlockKey:g.default.func,children:g.default.any},t=n))||t};var h=n(a(0)),_=n(a(19)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(4),w=a(10)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=s(["draft.editorStates.",""],["draft.editorStates.",""]),d=s(["editor.setDragStartBlockKey"],["editor.setDragStartBlockKey"]);t.default=function(e){var t=e.editorKey,a=e.renderOnly;return function(e){var n,s,v;return(0,h.decorator)({editorState:(0,_.state)(c,t),setDragStartBlockKey:(0,_.signal)(d)})((v=s=function(t){function n(){var e,t,a,i;r(this,n);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=a=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),a.onDragStart=function(e){var t=a.props,n=t.offsetKey,r=t.editorState,o=g.DraftOffsetKey.decode(n).blockKey;e.dataTransfer.dropEffect="move",e.dataTransfer.setData("CONNECT_BLOCK_DRAG",1);var i=r.getCurrentContent().getKeyAfter(o);(0,a.props.setDragStartBlockKey)({blockKey:o,blockAfterKey:i})},i=t,o(a,i)}return i(n,m.default),u(n,[{key:"render",value:function(){return f.default.createElement(e,l({},this.props,{onDragStart:a?void 0:this.onDragStart}))}}]),n}(),s.propTypes={offsetKey:p.default.string,editorState:p.default.object,setDragStartBlockKey:p.default.func},n=v))||n}};var f=n(a(0)),p=n(a(2)),m=n(a(1)),h=a(6),_=a(4),g=a(10)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=l(["editor.uploadVideo.parentEditorKey"],["editor.uploadVideo.parentEditorKey"]),S=l(["draft.editorStates.",""],["draft.editorStates.",""]),O=l(["editorKey"],["editorKey"]),k=l(["editor.uploadVideo.open"],["editor.uploadVideo.open"]),T=l(["editor.uploadVideo.url"],["editor.uploadVideo.url"]),P=l(["editor.uploadVideo.uploadingId"],["editor.uploadVideo.uploadingId"]),C=l(["editor.uploadVideo.pendingUploadIds"],["editor.uploadVideo.pendingUploadIds"]),j=l(["upload.uploads"],["upload.uploads"]),I=l(["editor.addEmbedAuto"],["editor.addEmbedAuto"]),M=l(["editor.changeVideoUrl"],["editor.changeVideoUrl"]),N=l(["editor.addPreviewEmbed"],["editor.addPreviewEmbed"]),D=l(["editor.closeUploadVideo"],["editor.closeUploadVideo"]),x=l(["draft.setEditorState"],["draft.setEditorState"]),R=l(["upload.uploads.",""],["upload.uploads.",""]),F=l(["uploadId"],["uploadId"]),A=l(["editor.contentMap"],["editor.contentMap"]),L=l(["editor.deletePreviewEmbed"],["editor.deletePreviewEmbed"]),K=n(a(2)),q=n(a(0)),z=n(a(1)),U=a(6),B=a(4),H=n(a(178)),V=n(a(70)),G=n(a(395)),W=n(a(16)),Q=n(a(28)),J=a(12),Y=a(20),Z=n(a(3)),X=n(a(587)),$=n(a(7)),ee=n(a(588)),te=a(589),ae=(u=(0,U.decorator)({parentEditorKey:(0,B.state)(E),editorState:(0,B.state)(S,(0,B.props)(O)),open:(0,B.state)(k),url:(0,B.state)(T),uploadingId:(0,B.state)(P),uploadIds:(0,B.state)(C),uploads:(0,B.state)(j),addEmbedAuto:(0,B.signal)(I),changeVideoUrl:(0,B.signal)(M),addPreviewEmbed:(0,B.signal)(N),closeUploadVideo:(0,B.signal)(D),setEditorState:(0,B.signal)(x)}),c=(0,Z.default)(X.default),d=(0,$.default)(ee.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onPaste=function(e){e&&(0,J.pauseEvent)(e);var t=(e.clipboardData||window.clipboardData).getData("Text");n.props.addEmbedAuto({url:t})},n.onKeyDown=function(e){switch(e.keyCode){case 13:n.props.addEmbedAuto({url:e.target.value})}},n.onChange=function(e,t){n.props.changeVideoUrl({value:t})},n.onClose=function(){n.props.closeUploadVideo()},n.onOK=function(){if(n.isActive()){var e=n.props.onOK;if(e){var t=n.props;e({editorKey:t.editorKey,editorState:t.editorState,uploadIds:t.uploadIds,uploads:t.uploads,setEditorState:t.setEditorState})}n.onClose()}},r=a,i(n,r)}return s(t,z.default),w(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"isActive",value:function(){var e=this.props,t=e.editorKey;return e.parentEditorKey===t}},{key:"checkUpload",value:function(){var e=this.props,t=e.uploads,a=e.uploadingId,n=e.addPreviewEmbed,r=a&&t[a];(0,Y.isSucceeded)(r&&r.status)&&n()}},{key:"renderLoading",value:function(){return q.default.createElement("div",{className:this.ss("loading-wrap")},q.default.createElement("div",{className:this.ss("loading")}))}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.url,n=e.uploadingId,o=e.uploads,i=e.uploadIds,s=void 0===i?[]:i,l=o[n],u=(0,Y.isLoading)(l&&l.status);return q.default.createElement(H.default,{open:this.isActive()&&t,noScroller:!0,position:"center",onCloseModal:this.onClose},q.default.createElement("div",{className:this.ss("content")},q.default.createElement("div",{className:this.ss("head")},q.default.createElement("div",{className:this.ss("title")},this.__("title_add_embed")),q.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},q.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),q.default.createElement("div",{className:this.ss("input-wrap")},q.default.createElement("div",{className:this.ss("input")},q.default.createElement(G.default,{ref:"input",placeholder:this.__("input_placeholder"),value:a,autoFocus:!0,disabled:u,onKeyDown:this.onKeyDown,onChange:this.onChange,onPaste:this.onPaste}),u&&this.renderLoading()),q.default.createElement("div",{className:this.ss("supported-hint")},this.__("supported_hint"))),q.default.createElement(Q.default,null,q.default.createElement("div",{className:this.ss("embed-wrap")},q.default.createElement("div",{className:this.ss("title")},this.__("total_embeds",{n:s.length})),q.default.createElement("div",{className:this.ss("embed-previews")},[].concat(r(s||[])).reverse().map(function(e,t){return q.default.createElement(ne,{key:"item-"+e+"-"+t,uploadId:e})})))),q.default.createElement("div",{className:this.ss("foot")},q.default.createElement("div",{className:this.ss("button")},q.default.createElement(V.default,{theme:"white",size:"xlarge",widthType:"full",label:this.__("button_cancel"),onClick:this.onClose})),q.default.createElement("div",{className:this.ss("button")},q.default.createElement(V.default,{theme:"blue",size:"xlarge",widthType:"full",disabled:u||0===s.length,label:this.__("button_ok"),onClick:this.onOK})))))}}]),t}(),p.propTypes={parentEditorKey:K.default.string,editorKey:K.default.string,editorState:K.default.object,open:K.default.bool,url:K.default.string,uploadingId:K.default.string,uploadIds:K.default.array,uploads:K.default.object,addEmbedAuto:K.default.func,changeVideoUrl:K.default.func,addPreviewEmbed:K.default.func,closeUploadVideo:K.default.func,setEditorState:K.default.func,onOK:K.default.func},f=m))||f)||f)||f);t.default=ae;var ne=(h=(0,U.decorator)({upload:(0,B.state)(R,(0,B.props)(F)),contentMap:(0,B.state)(A),deletePreviewEmbed:(0,B.signal)(L)}),_=(0,Z.default)(X.default),g=(0,$.default)(ee.default),h(v=_(v=g((b=y=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onDeleteEmbed=function(){var e=n.props,t=e.uploadId,a=e.deletePreviewEmbed;a&&a({uploadId:t})},r=a,i(n,r)}return s(t,z.default),w(t,[{key:"render",value:function(){var e=this.props,t=e.upload,a=e.contentMap;if(!t)return null;var n="",r="",o=0,i="";if((0,Y.isSucceeded)(t.status)){var s=a&&a[t.contentId],l=s||{},u=l.oembed,c=l.thumbnail;if(u){var d=(c||{}).url;i=u.title,n=u.provider_name,r=d||(0,J.securedURL)(u.thumbnail_url),o=u.thumbnail_width}else if(s&&"img"===s.type){var f=s||{},p=f.externalType,m=f.package,h=f.originalImage;i=m&&m.name,n=this.__(p),r=h&&h.url,o=h&&h.width}else s&&"webgl"===s.type&&(i=t.url,r=te,o=400)}return q.default.createElement("div",{className:this.ss("item")},q.default.createElement("div",{className:this.ss("item-thumbnail")},q.default.createElement(W.default,{src:r,sizes:o+"px"})),q.default.createElement("div",{className:this.ss("item-content")},q.default.createElement("div",{className:this.ss("item-info")},q.default.createElement("div",{className:this.ss("item-title")},i),q.default.createElement("div",{className:this.ss("item-provider")},n&&this.__("from_provider",{providerName:n}))),q.default.createElement("div",{className:this.ss("item-delete")},q.default.createElement("a",{className:this.ss("delete"),onClick:this.onDeleteEmbed},this.__("button_delete")))))}}]),t}(),y.propTypes={uploadId:K.default.string.isRequired,upload:K.default.object,contentMap:K.default.object,deletePreviewEmbed:K.default.func},v=b))||v)||v)||v)},function(e,t){e.exports={content:"content_1ArJEd7k",head:"head_2h78BSdG","button-close":"button-close_2n2mU1D6","input-wrap":"input-wrap_3Q97Co9n",input:"input_ocBLYm2e","supported-hint":"supported-hint_3XBVPBjk","embed-wrap":"embed-wrap_1OGVUttF",title:"title_1BI_RlXc","embed-previews":"embed-previews_1DcMKrWD",item:"item_3A6LZG8N","item-thumbnail":"item-thumbnail_DPGCU-JN","item-content":"item-content_rZyF0cVm","item-info":"item-info_2DyZ3TX4","item-title":"item-title_q4YEdjMn","item-provider":"item-provider_1dKyejvR","item-delete":"item-delete_1ToeGmft",delete:"delete_2B4Ix95i",foot:"foot_2MUHJxKc",button:"button_tgAYfzov","loading-wrap":"loading-wrap_2Za1BSVF",loading:"loading_3yMF__wW"}},function(e,t){e.exports={title_add_embed:"title_add_embed_14Bi",input_placeholder:"input_placeholder_1ZxR",supported_hint:"supported_hint_3G22",total_embeds:"total_embeds_2ENq",from_provider:"from_provider_1vmN",asset_store:"asset_store_3YLw",button_delete:"button_delete_2KCC",button_cancel:"button_cancel_37gi",button_ok:"button_ok_22cW"}},function(e,t,a){e.exports=a.p+"../styles/i/default-webgl.113f9bc6f0c4d4ce118450d77b3b180d.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["countryByIp"],["countryByIp"]),_=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),g=s(["editor.contentMap"],["editor.contentMap"]),v=s(["draft.editorStates.",""],["draft.editorStates.",""]),y=s(["editorKey"],["editorKey"]),b=n(a(0)),w=n(a(2)),E=n(a(1)),S=a(6),O=a(4),k=n(a(115)),T=n(a(16)),P=n(a(128)),C=a(181),j=a(12),I=n(a(72)),M=n(a(3)),N=n(a(591)),D=n(a(7)),x=n(a(592)),R=(l=(0,S.decorator)({countryByIp:(0,O.state)(h),windowWidth:(0,O.state)(_),contentMap:(0,O.state)(g),editorState:(0,O.state)(v,(0,O.props)(y))}),u=(0,M.default)(N.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),m(t,[{key:"onThumbClick",value:function(e){(0,I.default)(e)}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,a=e.offsetKey,n=e.editorKey,r=e.entityKey,o=e.renderOnly;return b.default.createElement(k.default,{parentEditorKey:n,parentIsFocused:t,parentOffsetKey:a,editorKey:n+":"+a,entityKey:r,renderOnly:o,placeholder:this.__("video_caption_placeholder")})}},{key:"renderEmbed",value:function(e,t){var a=this.props,n=a.isFocused,r=a.focus,o=a.onDragStart,i=a.renderOnly;return b.default.createElement("div",{className:this.ss("video-wrap",n&&"focus")},b.default.createElement("div",{style:{paddingBottom:e+"%"}}),!i&&b.default.createElement("div",{className:this.ss("mark-wrap"),onClick:r,draggable:!!o,onDragStart:o}),b.default.createElement("div",{className:this.ss("iframe-wrap"),dangerouslySetInnerHTML:{__html:t}}))}},{key:"renderAssetStore",value:function(e){if(!e)return null;var t=this.props,a=t.isFocused,n=t.focus,r=t.onDragStart,o=t.renderOnly,i=t.windowWidth,s=e.originalImage,l=s.url,u=s.width,c=s.height,d=s.gif,f=u<(i?Math.min(i,772):772)?{width:u,height:c,margin:"0 auto",display:"block"}:{};return b.default.createElement("div",{className:this.ss("image-wrap")},b.default.createElement("div",{className:this.ss("image",a&&"focus"),style:f,onClick:n,draggable:!!r,onDragStart:r},b.default.createElement(T.default,{src:l,sizes:"100vw",width:u,height:c,gif:!!d}),b.default.createElement(P.default,{contentId:e.id,renderOnly:o})))}},{key:"renderEmbedThumbnail",value:function(e){var t=this;if(!e)return null;var a=this.props,n=a.isFocused,r=a.focus,o=a.onDragStart,i=a.renderOnly,s=a.windowWidth,l=e.thumbnail,u=l.url,c=l.width,d=l.height,f=c<(s?Math.min(s,772):772)?{width:c,height:d,margin:"0 auto",display:"block"}:{};return b.default.createElement("div",{className:this.ss("image-wrap","content")},b.default.createElement("div",{className:this.ss("image",n&&"focus"),style:f,onClick:i?function(){return t.onThumbClick(e.url)}:r,draggable:!!o,onDragStart:o},b.default.createElement(T.default,{src:u,sizes:"100vw",width:c,height:d}),b.default.createElement("div",{className:this.ss("video-icon-wrap")},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-play")}))))}},{key:"render",value:function(){var e=this.props,t=e.countryByIp,a=e.editorState,n=e.entityKey,r=e.contentMap,o=e.renderOnly,i=r[a.getCurrentContent().getEntity(n).getData().contentId],s=void 0;if(i.oembed)if("CN"!==t||!i.oembed||"YouTube"!==i.oembed.provider_name&&"Vimeo"!==i.oembed.provider_name){var l=i.oembed,u=l.html,c=l.height,d=l.width,f=d?Math.round(100*c/d):1;s=this.renderEmbed(f,(0,C.normalizeHtml)({html:u}))}else s=this.renderEmbedThumbnail(i);else if(i&&"webgl"===i.type){var p='<iframe width="100%" height="100%" src="'+(0,j.securedURL)(i.url)+'" scrolling="yes" frameborder="0" allowfullscreen="allowfullscreen"></iframe>';s=this.renderEmbed(66,p)}else i&&"img"===i.type&&(s=this.renderAssetStore(i));return b.default.createElement("div",{className:this.ss("video-container",o&&"render-only")},s,this.renderCaption(i))}}]),t}(),f.propTypes={windowWidth:w.default.number,isFocused:w.default.bool,entityKey:w.default.string,renderOnly:w.default.bool,offsetKey:w.default.string,contentMap:w.default.object,editorKey:w.default.string.isRequired,editorState:w.default.object,countryByIp:w.default.string,focus:w.default.func,onDragStart:w.default.func},d=p))||d)||d)||d);t.default=R},function(e,t){e.exports={"video-container":"video-container_ohsTlwLo","render-only":"render-only_6nvdGtmD","video-wrap":"video-wrap_wXIRyGnJ",focus:"focus_2YYxK5BO","mark-wrap":"mark-wrap_1Nsof1iz","iframe-wrap":"iframe-wrap_1xparr8z","video-icon-wrap":"video-icon-wrap_-2_AoDI3",icon:"icon_sGKNXvPZ","image-wrap":"image-wrap_2VjJrTL8",image:"image_2tYDj_Dl"}},function(e,t){e.exports={video_caption_placeholder:"video_caption_placeholder_3G-1"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["header.setting.windowWidth"],["header.setting.windowWidth"]),v=l(["editor.contentMap"],["editor.contentMap"]),y=l(["upload.uploads"],["upload.uploads"]),b=l(["draft.editorStates.",""],["draft.editorStates.",""]),w=l(["editorKey"],["editorKey"]),E=l(["draft.setEditorState"],["draft.setEditorState"]),S=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),O=l(["upload.retryUploadAttachment"],["upload.retryUploadAttachment"]),k=l(["editor.addContent"],["editor.addContent"]),T=n(a(0)),P=n(a(2)),C=n(a(1)),j=a(6),I=a(4),M=a(20),N=a(10),D=n(a(16)),x=n(a(594)),R=n(a(22)),F=n(a(3)),A=n(a(596)),L=n(a(7)),K=n(a(597)),q=(u=(0,j.decorator)({windowWidth:(0,I.state)(g),contentMap:(0,I.state)(v),uploads:(0,I.state)(y),editorState:(0,I.state)(b,(0,I.props)(w)),setEditorState:(0,I.signal)(E),setEditorEditable:(0,I.signal)(S),retryUploadAttachment:(0,I.signal)(O),addContent:(0,I.signal)(k)}),c=(0,F.default)(A.default),d=(0,L.default)(K.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,C.default),_(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onImageClick",value:function(e){var t=this.props,a=t.renderOnly,n=t.focus;a||n(e)}},{key:"checkUpload",value:function(){if(!this.props.renderOnly){var e=this.props,t=e.entityKey,a=e.uploads,n=e.editorKey,o=e.editorState,i=e.setEditorState,s=e.addContent,l=o.getCurrentContent(),u=l.getEntity(t).getData(),c=u.uploadId,d=u.contentId,f=r(u,["uploadId","contentId"]),p=c&&a[c];if(p&&p.contentId&&!d){var m=(0,N.mergeAtomicEntityData)(l,t,h({},f,{contentId:p.contentId}));i({editorKey:n,editorState:N.EditorState.set(o,{currentContent:m})}),s({content:p.content}),this.__placeholderSrc=p.dataUrl}}}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return T.default.createElement("div",{className:this.ss("loading-wrap")},T.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading")),T.default.createElement("div",{className:this.ss("loading-bar")},T.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})))}},{key:"renderFailed",value:function(e){var t=this;return T.default.createElement("div",{className:this.ss("loading-wrap")},T.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading_failed")),T.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},T.default.createElement("span",{className:this.ss("content")},T.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),T.default.createElement("span",{className:this.ss("text")},this.__("image_uploading_retry")))))}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,a=e.offsetKey,n=e.editorKey,r=e.entityKey,o=e.renderOnly;return T.default.createElement(x.default,{parentEditorKey:n,parentIsFocused:t,parentOffsetKey:a,editorKey:n+":"+a,entityKey:r,renderOnly:o,placeholder:this.__("image_caption_placeholder")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFocused,n=t.focus,r=t.onDragStart,o=t.editorState,i=t.entityKey,s=t.uploads,l=t.contentMap,u=t.renderOnly,c=t.windowWidth,d=o.getCurrentContent().getEntity(i).getData(),f=d.uploadId,p=d.contentId,m=d.url,h=void 0===m?"":m,_=d.altText,g=void 0===_?"":_,v=p&&l[p],y=s[f],b=c?Math.min(c,600):600,w=void 0;if(v){var E=this.__placeholderSrc,S=v.originalImage,O=S.url,k=S.width,P=S.height,C=S.gif,j=k<b?{width:k,height:P,margin:"0 auto",display:"block"}:{};w=T.default.createElement("div",{className:this.ss("image-wrap","content")},T.default.createElement("div",{className:this.ss("image",a&&"focus"),style:j,onClick:function(t){return e.onImageClick(t,p,h)},draggable:!!r,onDragStart:r},T.default.createElement(D.default,{src:O,alt:g,sizes:"100vw",placeholderSrc:E,width:k,height:P,gif:!!C})))}else if(y){var I=y.dataUrl,N=y.width,x=y.height,F=N<b?{width:N,height:x,margin:"0 auto",display:"block"}:{};w=T.default.createElement("div",{className:this.ss("image-wrap","upload",a&&"focus")},T.default.createElement("div",{className:this.ss("image"),style:F,onClick:n,draggable:!!r,onDragStart:r},T.default.createElement(D.default,{src:I,sizes:"100vw",width:N,height:x})),(0,M.isLoading)(y.status)&&this.renderLoading(y),(0,M.isFailed)(y.status)&&this.renderFailed(y))}return T.default.createElement("div",{className:this.ss("image-wrapper",u&&"render-only")},T.default.createElement(R.default,{text:h,position:"bottom",clickToHide:!1},w),this.renderCaption(v))}}]),t}(),p.propTypes={windowWidth:P.default.number,isFocused:P.default.bool,entityKey:P.default.string,renderOnly:P.default.bool,offsetKey:P.default.string,uploads:P.default.object,contentMap:P.default.object,editorKey:P.default.string.isRequired,editorState:P.default.object,focus:P.default.func,onDragStart:P.default.func,setEditorState:P.default.func,setEditorEditable:P.default.func,retryUploadAttachment:P.default.func,addContent:P.default.func},f=m))||f)||f)||f);t.default=q},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=l(["draft.editorStates.",""],["draft.editorStates.",""]),g=l(["parentEditorKey"],["parentEditorKey"]),v=l(["editorKey"],["editorKey"]),y=l(["draft.editorEditable.",""],["draft.editorEditable.",""]),b=l(["draft.editorDirty.",""],["draft.editorDirty.",""]),w=l(["editor.contentMap"],["editor.contentMap"]),E=l(["draft.setEditorState"],["draft.setEditorState"]),S=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),O=l(["draft.setEditorDirty"],["draft.setEditorDirty"]),k=n(a(0)),T=n(a(2)),P=n(a(1)),C=a(6),j=a(4),I=a(10),M=n(a(3)),N=n(a(595)),D=(u=(0,C.decorator)({parentEditorState:(0,j.state)(_,(0,j.props)(g)),editorState:(0,j.state)(_,(0,j.props)(v)),editable:(0,j.state)(y,(0,j.props)(v)),dirty:(0,j.state)(b,(0,j.props)(v)),contentMap:(0,j.state)(w),setEditorState:(0,j.signal)(E),setEditorEditable:(0,j.signal)(S),setEditorDirty:(0,j.signal)(O)}),c=(0,M.default)(N.default),u(d=c((p=f=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onEscape=function(){n.syncToEditor(!0)},n.onBlur=function(){n.syncToEntity()},n.onDownArrow=function(e){e.shiftKey||(0,I.isFocusAtLastLine)()&&(n.moveToNextBlock(),e.preventDefault())},n.onUpArrow=function(e){e.shiftKey||(0,I.isFocusAtFirstLine)()&&(n.moveToPrevBlock(),e.preventDefault())},n.keyBindingFn=function(e){if(!e.shiftKey){if(37===e.keyCode){var t=n.props.editorState;if((0,I.isSelectionAtBlockStart)(t))return n.moveToPrevBlock(),""}if(39===e.keyCode){var a=n.props.editorState;if((0,I.isSelectionAtBlockEnd)(a))return n.moveToNextBlock(),""}}},n.handleReturn=function(){var e=n.syncToEntity();return n.moveToNextBlock(e),"handled"},r=a,i(n,r)}return s(t,P.default),h(t,[{key:"componentWillMount",value:function(){var e=this.getEntityTitle();this.defaultEditorState=(0,I.createEditorStateWithText)(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.getEntityTitle(e);t!==this.getEntityTitle()&&(this.defaultEditorState=(0,I.createEditorStateWithText)(t));var a=e.editable;this.props.editable&&!a&&this.syncToEntity(e);var n=e.dirty,r=e.editorKey,o=e.setEditorDirty;if(!n){var i=e.editorState,s=this.props.editorState;if(s&&i){var l=i.getCurrentContent();s.getCurrentContent()!==l&&o({editorKey:r})}}}},{key:"getEntityData",value:function(e){var t=e||this.props,a=t.entityKey;return t.parentEditorState.getCurrentContent().getEntity(a).getData()}},{key:"getEntityTitle",value:function(e){var t=void 0;switch((e=e||this.props).type){case"single":t=this.getEntityData(e).title;break;case"gallery":if("itemPos"in e){var a=e.itemPos,n=this.getEntityData(e).contents,r=void 0===n?[]:n;t=r[a]&&r[a].title}}return t||""}},{key:"mergeEntityTitle",value:function(e,t,a){var n=void 0;switch(this.props.type){case"single":n=(0,I.mergeAtomicEntityData)(e,t,{title:a});break;case"gallery":if("itemPos"in this.props){var o=this.props.itemPos,i=this.getEntityData().contents,s=void 0===i?[]:i,l=s[o]||{},u=[].concat(r(s));u.splice(o,1,m({},l,{title:a})),n=(0,I.mergeAtomicEntityData)(e,t,{contents:u})}}return n||e}},{key:"syncToEntity",value:function(e){var t=e||this.props,a=t.dirty,n=t.parentEditorKey,r=t.parentEditorState,o=t.entityKey,i=t.editorKey,s=t.editorState,l=t.setEditorDirty,u=t.setEditorState;if(a){var c=s.getCurrentContent().getPlainText(),d=r.getCurrentContent();d=this.mergeEntityTitle(d,o,c);var f=I.EditorState.push(r,d,"apply-entity");return u({editorKey:n,editorState:f}),l({editorKey:i,dirty:!1}),f}return null}},{key:"syncToEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getEntityTitle(),a=this.props,n=a.dirty,r=a.editorState,o=a.editorKey,i=a.setEditorState,s=a.setEditorDirty;n&&!e||((r&&r.getCurrentContent().getPlainText()||"")!==t&&i({editorKey:o,editorState:(0,I.createEditorStateWithText)(t)}),n&&s({editorKey:o,dirty:!1}))}},{key:"moveToNextBlock",value:function(e){var t=this.props,a=t.parentEditorKey,n=t.parentEditorState,r=t.parentOffsetKey,o=t.setEditorEditable,i=t.setEditorState,s=(e=e||n).getCurrentContent(),l=I.DraftOffsetKey.decode(r).blockKey,u=s.getKeyAfter(l);if(u){o({editorKey:a});var c=new I.SelectionState({anchorKey:u,anchorOffset:0,focusKey:u,focusOffset:0});i({editorKey:a,editorState:I.EditorState.forceSelection(I.EditorState.set(e,{currentContent:s.merge({selectionAfter:c})}),c)})}}},{key:"moveToPrevBlock",value:function(){var e=this.props,t=e.parentEditorKey,a=e.parentEditorState,n=e.parentOffsetKey,r=e.setEditorEditable,o=e.setEditorState,i=a.getCurrentContent(),s=I.DraftOffsetKey.decode(n).blockKey,l=i.getBlockBefore(s);if(l){r({editorKey:t});var u=new I.SelectionState({anchorKey:l.getKey(),anchorOffset:"atomic"===l.getType()?0:l.getLength(),focusKey:l.getKey(),focusOffset:"atomic"===l.getType()?0:l.getLength()});o({editorKey:t,editorState:I.EditorState.forceSelection(I.EditorState.set(a,{currentContent:i.merge({selectionAfter:u})}),u)})}}},{key:"handlePastedText",value:function(e){return e.startsWith("CONNECT_ATOMIC_ENTITY:")?"handled":"not-handled"}},{key:"render",value:function(){var e=this.props,t=e.parentIsFocused,a=e.parentOffsetKey,n=e.editorKey,r=e.editorState,o=e.editable,i=e.dirty,s=e.placeholder,l=e.renderOnly,u=!(i&&r.getCurrentContent().getPlainText()||this.getEntityTitle()||"")&&!t&&!o;return k.default.createElement("div",{className:this.ss("caption",u&&"hide")},k.default.createElement(I.Editor,{offsetKey:a,editorKey:n,defaultEditorState:this.defaultEditorState,renderOnly:l,textAlignment:"center",placeholder:s,keyBindingFn:l?void 0:this.keyBindingFn,onDownArrow:l?void 0:this.onDownArrow,onUpArrow:l?void 0:this.onUpArrow,handleReturn:l?void 0:this.handleReturn,onEscape:l?void 0:this.onEscape,onBlur:l?void 0:this.onBlur,handlePastedText:l?void 0:this.handlePastedText}))}}]),t}(),f.propTypes={parentEditorKey:T.default.string.isRequired,parentEditorState:T.default.object,parentIsFocused:T.default.bool,parentOffsetKey:T.default.string.isRequired,editorKey:T.default.string.isRequired,editorState:T.default.object,editable:T.default.bool,dirty:T.default.bool,entityKey:T.default.string,renderOnly:T.default.bool,placeholder:T.default.any,setEditorState:T.default.func,setEditorEditable:T.default.func,setEditorDirty:T.default.func,itemPos:T.default.number,type:T.default.oneOf(["single","gallery"])},f.defaultProps={type:"single"},d=p))||d)||d);t.default=D},function(e,t){e.exports={caption:"caption_1rcTkjOX",hide:"hide_BbjFJf0p"}},function(e,t){e.exports={"image-wrapper":"image-wrapper_1BwyB1AH","image-wrap":"image-wrap_qRKH_iYn",upload:"upload_37skdY5x",focus:"focus_2iLng6KN",content:"content_2_SydHMx",image:"image_2TOsxhor",caption:"caption_aoITWG4j","render-only":"render-only_3gdv1yrA","loading-wrap":"loading-wrap_3fJ-F9Hw","loading-text":"loading-text_1aeOrUtd","loading-bar":"loading-bar_1CNt3YWt",loading:"loading_1_GTxsYT","loading-button":"loading-button_doxL_ZyD",retry:"retry_3XsDIpsj",text:"text_Qfh4vthj"}},function(e,t){e.exports={image_uploading:"image_uploading_1KTu",image_uploading_failed:"image_uploading_failed_IfO0",image_uploading_retry:"image_uploading_retry_1A53",image_caption_placeholder:"image_caption_placeholder_37tm"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=s(["draft.editorStates.",""],["draft.editorStates.",""]),d=s(["draft.editorEditable.",""],["draft.editorEditable.",""]),f=s(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e){var t=e.editorKey,a=e.renderOnly;return function(e){var n,s,w;return(0,g.decorator)({editorState:(0,v.state)(c,t),editable:(0,v.state)(d,t),setEditorState:(0,v.signal)(f)})((w=s=function(n){function s(){var e,a,n,i;r(this,s);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=n=o(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(u))),n.onCopy=function(e){if(n.props.editorKey===(0,b.findEditorKey)(e.target)){e.preventDefault();var t=n.props,a=t.offsetKey,r=t.editorState,o=b.DraftOffsetKey.decode(a).blockKey,i=r.getCurrentContent(),s=i.getBlockForKey(o).getEntityAt(0),l=i.getEntity(s),u={type:l.getType(),data:l.getData()};e.clipboardData.setData("text","CONNECT_ATOMIC_ENTITY:"+JSON.stringify(u))}},n.onCut=function(e){if(n.props.editorKey===(0,b.findEditorKey)(e.target)){n.onCopy(e);var a=n.props,r=a.offsetKey,o=a.editorState,i=a.setEditorState,s=b.DraftOffsetKey.decode(r).blockKey,l=new b.ContentBlock({key:s}),u=o.getCurrentContent(),c=u.getBlockMap().set(s,l),d=u.merge({blockMap:c,selectionAfter:new b.SelectionState({anchorKey:s,anchorOffset:0,focusKey:s,focusOffset:0,hasFocus:!0})});i({editorKey:t,editorState:b.EditorState.push(o,d,"remove-range")})}},n.onFocus=function(e){e.stopPropagation()},n.onBlur=function(e){e.stopPropagation()},n.onSelect=function(e){e.stopPropagation()},n.focus=function(){var e=n.props,a=e.offsetKey,r=e.editorState,o=e.setEditorState,i=b.DraftOffsetKey.decode(a).blockKey;o({editorKey:t,editorState:b.EditorState.forceSelection(r,new b.SelectionState({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0}))})},i=a,o(n,i)}return i(s,_.default),u(s,[{key:"componentDidMount",value:function(){this.setSelection()}},{key:"componentDidUpdate",value:function(){this.setSelection()}},{key:"setSelection",value:function(){if(!a){var e=this.props,t=e.offsetKey,n=e.editorState,r=e.editable,o=b.DraftOffsetKey.decode(t).blockKey,i=n.getSelection();if(r&&i.getHasFocus()&&i.hasEdgeWithin(o,0,1)){var s=m.default.findDOMNode(this);(0,b.setDraftEditorSelection)(i,s,o,0,1)}}}},{key:"isFocused",value:function(){var e=this.props,t=e.offsetKey,a=e.editorState,n=b.DraftOffsetKey.decode(t).blockKey,r=a.getSelection();return r.getHasFocus()&&r.hasEdgeWithin(n,0,1)}},{key:"render",value:function(){var t=!a&&this.isFocused();return p.default.createElement("div",{onCopy:a?void 0:this.onCopy,onCut:a?void 0:this.onCut,onFocus:a?void 0:this.onFocus,onBlur:a?void 0:this.onBlur,onSelect:a?void 0:this.onSelect},p.default.createElement(e,l({},(0,y.default)(this.props,"editorState","editable","setEditorState"),{isFocused:t,focus:a?void 0:this.focus})))}}]),s}(),s.propTypes={offsetKey:h.default.string.isRequired,editorKey:h.default.string.isRequired,editorState:h.default.object,editable:h.default.bool,setEditorState:h.default.func},n=w))||n}};var p=n(a(0)),m=n(a(19)),h=n(a(2)),_=n(a(1)),g=a(6),v=a(4),y=n(a(81)),b=a(10)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["search"],["search"]),_=s(["httpAPI.",""],["httpAPI.",""]),g=s(["search.tutorialMap"],["search.tutorialMap"]),v=s(["search.quizMap"],["search.quizMap"]),y=s(["search.projectMap"],["search.projectMap"]),b=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),w=s(["search.loadMore"],["search.loadMore"]),E=s(["search.clearSearchFilters"],["search.clearSearchFilters"]),S=s(["featured.openSubmissionWithFeatured"],["featured.openSubmissionWithFeatured"]),O=n(a(2)),k=n(a(0)),T=n(a(1)),P=a(6),C=a(4),j=a(8),I=a(5),M=a(20),N=n(a(138)),D=n(a(99)),x=n(a(59)),R=n(a(508)),F=n(a(15)),A=a(74),L=n(a(3)),K=n(a(673)),q=n(a(7)),z=n(a(674)),U=(l=(0,P.decorator)({search:(0,C.state)(h),searchData:(0,C.state)(_,j.LEARNER_SEARCH),tutorialMap:(0,C.state)(g),quizMap:(0,C.state)(v),projectMap:(0,C.state)(y),loadMoreStatus:(0,C.state)(b,j.SEARCH_LOAD_MORE),loadMore:(0,C.signal)(w),clearSearchFilters:(0,C.signal)(E),openSubmissionDetail:(0,C.signal)(S)}),u=(0,L.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClearAll=function(){var e=n.props,t=e.defaultItemId,a=e.defaultCriteria,r=e.clearSearchFilters,o={};t&&(o.itemId=t),a&&(o.criteria=a),r(o)},n.handleAddFeatured=function(e){var t=e.id,a=n.props.openSubmissionDetail;a&&a({id:t,showFeaturedForm:!0})},i=a,o(n,i)}return i(t,T.default),m(t,[{key:"renderLoading",value:function(){return k.default.createElement("div",{className:this.ss("loading-container")},this.__("search_in_progress"))}},{key:"renderCard",value:function(e){var t=this.props,a=t.theme,n=t.author,r=t.size;switch(this.props.type){case"tutorial":return k.default.createElement(D.default,{theme:a,tutorial:e,statsPath:"search",showProgress:!0});case"course":var o=this.props,i=o.tutorialMap,s=o.quizMap,l=o.projectMap;return e.tutorialMap=i,e.quizMap=s,e.projectMap=l,k.default.createElement(R.default,{theme:a,course:e,statsPath:"search",showProgress:!0});case"project":return k.default.createElement(x.default,{theme:a,project:e,statsPath:"search",showProgress:!0});case"submission":return k.default.createElement(A.SubmissionCard,{theme:a,submission:e,preview:!0,statsPath:"search",size:r,onAddFeature:n?this.handleAddFeatured:void 0});default:return null}}},{key:"renderEmptyBody",value:function(){return k.default.createElement("div",{className:this.ss("center","empty-body")},k.default.createElement("div",{className:this.ss("empty-label")},this.__("search_result_empty")),k.default.createElement("div",{className:this.ss("button-clear")},k.default.createElement(F.default,{ref:"clear",widthStyle:"full",label:this.__("button_clear"),onClick:this.onClearAll})))}},{key:"renderResults",value:function(){var e=this,t=this.props,a=t.search,n=t.searchData,r=t.loadMore,o=t.loadMoreStatus,i=a.page,s=a.pageSize,l=a.total,u=(0,I.get)(n,"updateStatus"),c=(0,M.isLoading)(u),d={page:parseInt(i,10),pageSize:parseInt(s,10),total:parseInt(l,10),loadMoreStatus:o,searchStatus:u,onPage:r},f=((0,I.get)(a,"results")||[]).map(function(e){return e[e.type]});if(0===f.length)return this.renderEmptyBody();var p=k.default.createElement("div",{className:this.ss("result-body",c&&"hide")},f.map(function(t){return k.default.createElement("div",{key:t.id,className:e.ss("card-wrapper")},e.renderCard(t))}));return k.default.createElement("div",{className:this.ss("results")},!!c&&this.renderLoading(),p,!c&&k.default.createElement(N.default,d))}},{key:"render",value:function(){return k.default.createElement("div",{className:this.ss("search-results")},this.renderResults())}}]),t}(),f.propTypes={search:O.default.object,searchData:O.default.object,author:O.default.bool,tutorialMap:O.default.object,quizMap:O.default.object,projectMap:O.default.object,theme:O.default.oneOf(["default","dark"]),size:O.default.oneOf(["small","normal","medium"]),defaultItemId:O.default.string,defaultCriteria:O.default.object,loadMoreStatus:O.default.string,loadMore:O.default.func,clearSearchFilters:O.default.func,openSubmissionDetail:O.default.func,type:O.default.string},f.defaultProps={theme:"default",size:"small"},d=p))||d)||d)||d);t.default=U},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorial.sections.",".title"],["tutorial.sections.",".title"]),_=s(["index"],["index"]),g=s(["tutorial.sections.",".body"],["tutorial.sections.",".body"]),v=s(["tutorial.sections.",""],["tutorial.sections.",""]),y=s(["tutorial.collapseMap"],["tutorial.collapseMap"]),b=s(["tutorial.sections"],["tutorial.sections"]),w=s(["tutorial.moveSection"],["tutorial.moveSection"]),E=s(["tutorial.deleteSectionConfirm"],["tutorial.deleteSectionConfirm"]),S=s(["tutorial.deleteSubmissionSectionConfirm"],["tutorial.deleteSubmissionSectionConfirm"]),O=s(["tutorial.changeLabUrl"],["tutorial.changeLabUrl"]),k=s(["tutorial.changeSubmissionType"],["tutorial.changeSubmissionType"]),T=s(["tutorial.changeCollapseStatus"],["tutorial.changeCollapseStatus"]),P=s(["tutorial.changeSectionOption"],["tutorial.changeSectionOption"]),C=n(a(0)),j=n(a(2)),I=n(a(1)),M=a(6),N=a(4),D=a(5),x=a(10),R=a(8),F=n(a(34)),A=n(a(491)),L=a(26),K=n(a(132)),q=n(a(609)),z=n(a(492)),U=n(a(46)),B=n(a(3)),H=n(a(626)),V=n(a(7)),G=n(a(627)),W=[R.SubmissionTypes.media,R.SubmissionTypes.webgl],Q=(l=(0,M.decorator)({defaultTitleState:(0,x.$editorStateFromText)((0,N.state)(h,(0,N.props)(_))),defaultBodyState:(0,x.$editorStateFromJSON)((0,N.state)(g,(0,N.props)(_))),current:(0,N.state)(v,(0,N.props)(_)),collapseMap:(0,N.state)(y),articleTitle:(0,N.state)(h,(0,N.props)(_)),sections:(0,N.state)(b),moveSection:(0,N.signal)(w),deleteSection:(0,N.signal)(E),deleteSubmissionSection:(0,N.signal)(S),changeLabUrl:(0,N.signal)(O),changeSubmissionType:(0,N.signal)(k),changeCollapseStatus:(0,N.signal)(T),changeSectionOption:(0,N.signal)(P)}),u=(0,B.default)(H.default),c=(0,V.default)(G.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onDeleteSection=function(){var e=n.props,t=e.index,a=e.current,r=e.deleteSection,o=e.deleteSubmissionSection;a.type===R.StepTypes.submission?o({index:t}):r({index:t})},n.changeLabUrl=function(e){var t=e.index,a=e.value;n.props.changeLabUrl&&n.props.changeLabUrl({index:t,value:a})},n.changeSubmissionType=function(e){var t=e.index,a=e.value,r=n.props.changeSubmissionType;r&&r({index:t,value:a})},n.changeSectionOption=function(e){var t=e.index,a=e.value,r=n.props.changeSectionOption;r&&r({index:t,value:a})},i=a,o(n,i)}return i(t,I.default),m(t,[{key:"renderStepOption",value:function(){var e=this,t=this.props,a=t.current,n=t.index,r=(0,D.get)(a,"type")||"tutorial",o=[R.StepOptionTypes.required,R.StepOptionTypes.optional].map(function(t){return{text:e.__("step_option_"+t),value:t}});return C.default.createElement("div",{className:this.ss("step-option")},C.default.createElement("div",{className:this.ss("step-type")},this.__("step_type_"+r)),C.default.createElement(U.default,{selects:o,size:"xxsmall",value:(0,D.get)(a,"optionType"),theme:"underline",onChange:function(t,a,r){return e.changeSectionOption({value:r,index:n})}}))}},{key:"renderLabUrl",value:function(){var e=this,t=this.props,a=t.current,n=t.index,r=(0,D.get)(a,"labForm.labUrl"),o=r.isTouched&&r.errorMessage;return C.default.createElement("div",{className:this.ss("form-field")},C.default.createElement("div",{className:this.ss("form-field-title")},this.__("field_labUrl_title")),C.default.createElement("div",{className:this.ss("form-field-content","input-wrapper",o&&"error")},C.default.createElement(F.default,{size:"medium",placeholder:this.__("labUrl_placeholder"),value:r.value,theme:"transparent",onChange:function(t,a){return e.changeLabUrl({value:a,index:n})}})))}},{key:"renderSubmissionType",value:function(){var e=this,t=this.props,a=t.current,n=t.index,r=(0,D.get)(a,"submissionForm.submissionType")||{},o=r.isTouched&&r.errorMessage,i=r.value,s=W.map(function(t){return{text:e.__("submission_type_"+t),value:t}});s.unshift({text:this.__("submission_none"),value:""});var l=!!(0,D.get)(a,"publishedTime");return C.default.createElement("div",{className:this.ss("form-field","submission",o&&"error")},l&&C.default.createElement("div",{className:this.ss("submission-type-note")},this.__("note_submission_type_"+i)),C.default.createElement(U.default,{selects:s,size:"medium",value:r.value,theme:"gray",disabled:l,onChange:function(t,a,r){return e.changeSubmissionType({value:r,index:n})}}))}},{key:"render",value:function(){var e=this.props,t=e.index,a=e.showStepNo,n=e.renderOnly,r=e.theme,o=e.current,i=e.moveSection,s=e.changeCollapseStatus,l=e.collapseMap,u=e.onDrag,c=e.articleTitle,d="editorTitle_"+t,f="editorBody_"+t,p=(0,D.get)(o,"type"),m=p===R.StepTypes.lab,h=p===R.StepTypes.submission,_=!m&&!h,g=this.__(_?"step_title_index":"step_title_"+p,{index:t+1}),v=this.__(m?"tutorial_"+p+"_title_placeholder":"tutorial_step_title_placeholder"),y=this.__(_?"tutorial_step_body_placeholder":"tutorial_"+p+"_body_placeholder"),b=(0,D.get)(o,"id"),w=!!(0,D.get)(l,""+b),E=C.default.createElement("div",{ref:"container",className:this.ss("editor-container",n&&"render-only",r)},"learn-edit"===r&&C.default.createElement("div",{className:this.ss("step-top")},C.default.createElement("div",{className:this.ss("step-title")},g,C.default.createElement("div",{className:this.ss("buttons-wrapper")},C.default.createElement("button",{className:this.ss(w?"expand":"collapse","icon","ifont","ifont-icon-triangle-right"),onClick:function(){return s({id:b})}}),C.default.createElement("button",{className:this.ss("delete","icon","ifont","ifont-lrn-icon-delete"),onClick:this.onDeleteSection}))),this.renderStepOption()),n&&o.optionType===R.StepOptionTypes.optional&&C.default.createElement("div",{className:this.ss("step-option-type")},this.__("step_option_type_optional")),m&&n&&C.default.createElement(L.StreamIconLabelWithHelp2,null),h&&!n&&this.renderSubmissionType(),C.default.createElement("div",{className:this.ss("title-wrap",n&&"render-only")},C.default.createElement("div",{className:this.ss("title-wrap-inner")},n?C.default.createElement("h2",{className:this.ss("article-title")},a&&C.default.createElement("span",{className:this.ss("step-index")},this.__("step_index",{index:a})),c):C.default.createElement(q.default,{renderOnly:n,editorKey:d,nextEditorKey:f,theme:r,placeholder:v,defaultEditorState:this.props.defaultTitleState}))),C.default.createElement("div",{className:this.ss("fold-wrap",w&&"collapsed")},C.default.createElement("div",{className:this.ss("body-wrap",n&&"render-only")},C.default.createElement(z.default,{renderOnly:n,editorKey:f,prevEditorKey:d,placeholder:y,defaultEditorState:this.props.defaultBodyState}),m&&n&&C.default.createElement("div",{className:this.ss("path-stream-wrap")},C.default.createElement("div",{className:this.ss("path-stream")},C.default.createElement(A.default,{labUrl:(0,D.get)(o,"labUrl"),theme:"banner"})))),m&&!n&&this.renderLabUrl()));return n?E:C.default.createElement(K.default,{index:t,theme:"tutorial-step",onChange:i,onDrag:u},E)}}]),t}(),f.propTypes={defaultTitleState:j.default.object,defaultBodyState:j.default.object,current:j.default.object,index:j.default.number.isRequired,showStepNo:j.default.string,renderOnly:j.default.bool,sections:j.default.array,collapseMap:j.default.object,theme:j.default.oneOf(["learn-edit","default"]),articleTitle:j.default.string,moveSection:j.default.func,deleteSection:j.default.func,deleteSubmissionSection:j.default.func,changeLabUrl:j.default.func,changeSubmissionType:j.default.func,changeCollapseStatus:j.default.func,changeSectionOption:j.default.func,onDrag:j.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=Q},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorial.solutionPlan.body"],["tutorial.solutionPlan.body"]),_=s(["tutorial.solutionPlan"],["tutorial.solutionPlan"]),g=s(["tutorial.showSolution"],["tutorial.showSolution"]),v=s(["tutorialData"],["tutorialData"]),y=s(["learner.recordMap"],["learner.recordMap"]),b=s(["tutorial.addSolutionPlan"],["tutorial.addSolutionPlan"]),w=s(["tutorial.removeSolutionPlanConfirm"],["tutorial.removeSolutionPlanConfirm"]),E=s(["tutorial.toggleSolutionRequiredComplete"],["tutorial.toggleSolutionRequiredComplete"]),S=s(["tutorial.showSuggestSolution"],["tutorial.showSuggestSolution"]),O=s(["tutorial.hideSuggestSolution"],["tutorial.hideSuggestSolution"]),k=s(["tutorial.changeSolutionMaterials"],["tutorial.changeSolutionMaterials"]),T=s(["tutorial.deleteSolutionMaterial"],["tutorial.deleteSolutionMaterial"]),P=n(a(2)),C=n(a(0)),j=n(a(1)),I=a(6),M=a(4),N=a(5),D=n(a(15)),x=n(a(16)),R=a(26),F=n(a(492)),A=n(a(80)),L=n(a(524)),K=a(133),q=a(10),z=n(a(3)),U=n(a(631)),B=n(a(7)),H=n(a(632)),V=(l=(0,I.decorator)({defaultBodyState:(0,q.$editorStateFromJSON)((0,M.state)(h)),solutionPlan:(0,M.state)(_),showSolution:(0,M.state)(g),tutorialData:(0,M.state)(v),recordMap:(0,M.state)(y),addSolutionPlan:(0,M.signal)(b),removeSolutionPlan:(0,M.signal)(w),toggleSolutionRequiredComplete:(0,M.signal)(E),showSuggestSolution:(0,M.signal)(S),hideSuggestSolution:(0,M.signal)(O),changeSolutionMaterials:(0,M.signal)(k),deleteSolutionMaterial:(0,M.signal)(T)}),u=(0,z.default)(U.default),c=(0,B.default)(H.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChangeMaterials=function(e){var t=n.props,a=t.changeSolutionMaterials,r=t.deleteSolutionMaterial;0===(0,N.get)(e,"length")?r():a({contents:e})},n.getCanRevealSolutionByProps=function(){var e=n.props,t=e.solutionPlan,a=e.tutorialData,r=e.recordMap,o=(0,N.get)(r,""+(0,N.get)(a,"id")),i=(0,N.get)(o,"completed"),s=!0===(0,N.get)(t,"requiredComplete");return!s||s&&i},i=a,o(n,i)}return i(t,j.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.hideSuggestSolution,a=e.showSolution,n=this.getCanRevealSolutionByProps();a&&!n&&t()}},{key:"renderSuggestSolutionCover",value:function(){var e=this.props,t=e.solutionPlan,a=e.tutorialData,n=e.showSuggestSolution,r=this.getCanRevealSolutionByProps(),o=(0,N.get)(a,"contentMap")||{},i=(0,N.get)(t,"contentIds")||[],s=void 0,l=i.length;if(l>0)for(var u=0;u<l&&!(s=(0,N.get)(o,i[u]+".thumbnail"));u++);return C.default.createElement("div",{className:this.ss("reveal-solution")},s&&C.default.createElement("div",{className:this.ss("background-img")},C.default.createElement("div",{className:this.ss("background-mask")}),C.default.createElement(x.default,{src:s.url,sizes:"100vw"})),C.default.createElement("div",{className:this.ss("section-title")},this.__("solution_section_title")),C.default.createElement("div",{className:this.ss("reveal-solution-description")},this.__("reveal_solution_description")),C.default.createElement("div",{className:this.ss("reveal-solution-btn")},C.default.createElement(D.default,{theme:"primary",disabled:!r,label:this.__("reveal_solution_button"),onClick:function(){return n()}})))}},{key:"renderPlanEditor",value:function(){var e=this.props,t=e.solutionPlan,a=e.defaultBodyState,n=e.removeSolutionPlan,r=e.toggleSolutionRequiredComplete,o=e.showSolution,i=e.renderOnly;if(i&&!o)return this.renderSuggestSolutionCover();var s=(0,N.get)(t,"materials")||[];return C.default.createElement("div",{className:this.ss("plan-content")},C.default.createElement("div",{className:this.ss("section-title")},this.__("solution_section_title")),!i&&C.default.createElement("div",{className:this.ss("section-description")},this.__("solution_section_description")),i&&C.default.createElement("div",{className:this.ss("section-downloads")},C.default.createElement(K.Downloads,{theme:"solution",data:t})),C.default.createElement("div",{className:this.ss("content-editor")},C.default.createElement(F.default,{renderOnly:i,placeholder:this.__("solution_placeholder"),editorKey:"editorTutorialSolution",defaultEditorState:a})),!i&&C.default.createElement("div",{className:this.ss("form-field-materials")},C.default.createElement("div",{className:this.ss("form-field-title")},this.__("solution_materials_title")),C.default.createElement("div",{className:this.ss("form-field-des")},this.__("solution_materials_des")),C.default.createElement("div",{className:this.ss("form-field-content")},C.default.createElement(L.default,{singleFile:!0,fileOnly:!0,theme:"primary",field:{value:s},onChangeField:this.onChangeMaterials}))),!i&&C.default.createElement("div",{className:this.ss("required-complete")},C.default.createElement(A.default,{checked:!0===(0,N.get)(t,"requiredComplete"),label:this.__("required_complete_description"),onCheck:function(){return r()}})),!i&&C.default.createElement("button",{className:this.ss("remove-educator-plan"),onClick:function(){return n()}},C.default.createElement("div",{className:this.ss("remove-icon","ifont","ifont-icons-trash")}),this.__("remove_solution_plan")))}},{key:"render",value:function(){var e=this.props,t=e.solutionPlan,a=e.addSolutionPlan,n=e.renderOnly,r=e.theme,o=!!t;return n&&!o?null:C.default.createElement("div",{className:this.ss("plan-wrap",n&&"render-only",r)},o?this.renderPlanEditor():C.default.createElement("div",{className:this.ss("create-plan")},C.default.createElement(D.default,{widthStyle:"full",theme:"blue-border",label:C.default.createElement(R.AddSuggestedSolutionLabel,null),onClick:function(){return a()}})))}}]),t}(),f.propTypes={defaultBodyState:P.default.object,solutionPlan:P.default.object,showSolution:P.default.bool,renderOnly:P.default.bool,tutorialData:P.default.object,recordMap:P.default.object,theme:P.default.oneOf(["default","architecture"]),addSolutionPlan:P.default.func,removeSolutionPlan:P.default.func,toggleSolutionRequiredComplete:P.default.func,showSuggestSolution:P.default.func,hideSuggestSolution:P.default.func,changeSolutionMaterials:P.default.func,deleteSolutionMaterial:P.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=V},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["search"],["search"]),_=s(["architectureRequired"],["architectureRequired"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(6),w=a(4),E=a(5),S=n(a(599)),O=n(a(182)),k=n(a(3)),T=n(a(675)),P=n(a(7)),C=n(a(676)),j=(l=(0,b.decorator)({search:(0,w.state)(h),architectureRequired:(0,w.state)(_)}),u=(0,k.default)(T.default),c=(0,P.default)(C.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.search,a=e.versionId,n=e.defaultItemId,r=e.showSearchBar,o=e.author,i=e.architectureRequired;if(!r&&0===((0,E.get)(t,"results")||[]).length)return null;var s=null;return a&&(s={k:JSON.stringify(["uv:"+a])}),v.default.createElement("div",{className:this.ss("content-wrapper")},v.default.createElement("div",{className:this.ss("content-container",!!i&&"architecture")},v.default.createElement("div",{className:this.ss("submission-gallery-title")},this.__("submission_gallery")),r&&v.default.createElement(O.default,{defaultItemId:n,optionType:"submission"}),v.default.createElement("div",{className:this.ss("results-wrapper")},v.default.createElement(S.default,{type:"submission",author:o,defaultItemId:n,defaultCriteria:s}))))}}]),t}(),f.propTypes={search:g.default.object,defaultItemId:g.default.string,versionId:g.default.string,showSearchBar:g.default.bool,architectureRequired:g.default.bool,author:g.default.bool},f.defaultProps={showSearchBar:!0},d=p))||d)||d)||d);t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["common.backTop.showBackTop"],["common.backTop.showBackTop"]),h=s(["common.backTop.isFootInView"],["common.backTop.isFootInView"]),_=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),g=s(["common.setBackTopStatus"],["common.setBackTopStatus"]),v=s(["common.setFootIsInView"],["common.setFootIsInView"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),S=a(4),O=a(5),k=n(a(3)),T=n(a(677)),P=(l=(0,E.decorator)({showBackTop:(0,S.state)(m),isFootInView:(0,S.state)(h),windowHeight:(0,S.state)(_),setBackTopStatus:(0,S.signal)(g),setFootIsInView:(0,S.signal)(v)}),u=(0,k.default)(T.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.windowHeight,a=e.setBackTopStatus,r=(0,O.get)(n.scroller,"scrollTop")||0;a(r>t?{show:!0}:{show:!1}),n.syncButtonPosition({scrollTop:r})},n.syncButtonPosition=function(e){var t=e.scrollTop,a=n.props,r=a.windowHeight,o=a.footHeight,i=a.setFootIsInView,s=(0,O.get)(n.scroller,"scrollHeight");i(Math.max(0,s-t-r)<o?{inView:!0}:{inView:!1})},n.scroller=null,n.handleBackTop=function(){n.scroller&&(n.scroller.scrollTop=0)},i=a,o(n,i)}return i(t,w.default),p(t,[{key:"componentDidMount",value:function(){this.scroller=document.getElementById("pageBody").parentNode,this.scroller&&this.scroller.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){this.scroller&&this.scroller.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this.props,t=e.showBackTop,a=e.isFootInView;return t?b.default.createElement("div",{className:this.ss("back-to-top",a&&"position-absolute")},b.default.createElement("button",{className:this.ss("to-top-button"),onClick:this.handleBackTop},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-jump-to-top")}))):null}}]),t}(),d.propTypes={showBackTop:y.default.bool,isFootInView:y.default.bool,windowHeight:y.default.number,setBackTopStatus:y.default.func,setFootIsInView:y.default.func,footHeight:y.default.number},d.defaultProps={footHeight:160},c=f))||c)||c);t.default=P},,,function(e,t){e.exports={"path-stream-wrap":"path-stream-wrap_cdYafqO_",content:"content_PXyojvAx",info:"info_1VhwGEtn",title:"title_iyt1fzml",description:"description_3gz29Oum",hint:"hint_nre3GlNr",loading:"loading_17t8zbvB","button-group":"button-group_3N53xTHs",card:"card_2yYmkq6W",inProgress:"inProgress_3fsf3O10",succeeded:"succeeded_3y_SoD1v",banner:"banner_2Twuq6W1","lab-loading-wrap":"lab-loading-wrap_eLDCtfxP","lab-loading":"lab-loading_uVTIce3C"}},function(e,t){e.exports={launch_lab_btn:"launch_lab_btn_vfdQ",launch_lab_title_card:"launch_lab_title_card_K9FC",launch_lab_description_card:"launch_lab_description_card_34cR",launching_lab_title_card:"launching_lab_title_card_3Bh4",launching_lab_description_card:"launching_lab_description_card_35po",launch_lab_title_banner:"launch_lab_title_banner_3gmN",launch_lab_description_banner:"launch_lab_description_banner_3sEX",launching_lab_title_banner:"launching_lab_title_banner_pYPB",launching_lab_description_banner:"launching_lab_description_banner_1lMD",beta_hint:"beta_hint_2cHR"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["draft.setEditorState"],["draft.setEditorState"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=n(a(19)),E=a(6),S=a(4),O=a(10),k=n(a(3)),T=n(a(610)),P=n(a(123)),C=n(a(611)),j=(l=(0,E.decorator)({editorState:(0,S.state)(h,(0,S.props)(_)),setEditorState:(0,S.signal)(g)}),u=(0,k.default)(T.default),l(c=u((f=d=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));p.call(n);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,nextEditorKey:e.nextEditorKey,returnToNextEditor:!0};return n.titleNormalizePlugin=(0,C.default)(i),n.navigationPlugin=(0,P.default)(i),n.draftPlugins=[n.titleNormalizePlugin,n.navigationPlugin],n}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.placeholder,n=e.defaultEditorState,r=e.renderOnly,o=e.theme;return v.default.createElement("div",{className:this.ss("title-wrap",r&&"render-only",o),onClick:r?void 0:this.focus},v.default.createElement(O.Editor,{editorKey:t,placeholder:a,defaultEditorState:n,renderOnly:r,plugins:this.draftPlugins}))}}]),t}(),d.propTypes={editorKey:y.default.string.isRequired,nextEditorKey:y.default.string,placeholder:y.default.string,defaultEditorState:y.default.object,renderOnly:y.default.bool,editorState:y.default.object,setEditorState:y.default.func,theme:y.default.oneOf(["default","learn-edit"])},d.defaultProps={renderOnly:!1},p=function(){var e=this;this.focus=function(t){var a=e.props,n=a.editorKey,r=a.editorState,o=a.setEditorState;w.default.findDOMNode(e)===t.target&&o({editorKey:n,editorState:(0,O.moveToLastBlock)(r)})}},c=f))||c)||c);t.default=j},function(e,t){e.exports={"title-wrap":"title-wrap_9GSKh64y","learn-edit":"learn-edit_3ZfO7dVG"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onChange:a?void 0:function(e,t){var a=t.getEditorState,o=t.getProps;return e.getCurrentContent().getFirstBlock().getLength()>r?(o().controller.getSignal("header.showMessage")({message:"tutorial_title_maxLength_"+r}),n.EditorState.forceSelection(a(),a().getSelection())):e}}};var n=a(10),r=135},function(e,t){e.exports={"body-wrap":"body-wrap_32MuPt5j","render-only":"render-only_1KGmfnpg"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&a.getEntity(t).getType()===c},t)}function o(e){var t=e.html,a=e.editorKey,n=e.editorState,r=e.setEditorState,o=n.getSelection().getFocusKey();r({editorKey:a,editorState:(0,u.addAtomicBlockBefore)(n,o,c,{innerHtml:t})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=l.default;e.decorator&&(n=e.decorator(n));var u=o;return{decorators:[{strategy:r,component:n=(0,i.default)(n,{editorKey:t,renderOnly:a})}],UploadHtmlDialog:a?function(){return null}:(0,i.default)(s.default,{editorKey:t,onOK:u})}};var i=n(a(35)),s=n(a(614)),l=n(a(617)),u=a(10),c="HTML"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["editor.uploadHtml.parentEditorKey"],["editor.uploadHtml.parentEditorKey"]),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["editor.uploadHtml.open"],["editor.uploadHtml.open"]),y=s(["editor.uploadHtml.pendingHtml"],["editor.uploadHtml.pendingHtml"]),b=s(["editor.changeHtmlValue"],["editor.changeHtmlValue"]),w=s(["editor.closeUploadHtml"],["editor.closeUploadHtml"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),S=n(a(2)),O=n(a(0)),k=n(a(1)),T=a(6),P=a(4),C=n(a(178)),j=n(a(70)),I=n(a(119)),M=n(a(3)),N=n(a(615)),D=n(a(7)),x=n(a(616)),R=(l=(0,T.decorator)({parentEditorKey:(0,P.state)(h),editorState:(0,P.state)(_,(0,P.props)(g)),open:(0,P.state)(v),html:(0,P.state)(y),changeHtmlValue:(0,P.signal)(b),closeUploadHtml:(0,P.signal)(w),setEditorState:(0,P.signal)(E)}),u=(0,M.default)(N.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e,t){n.props.changeHtmlValue({html:t})},n.onClose=function(){n.props.closeUploadHtml()},n.onOK=function(){if(n.isActive()){var e=n.props.onOK;if(e){var t=n.props;e({editorKey:t.editorKey,editorState:t.editorState,html:t.html,setEditorState:t.setEditorState})}n.onClose()}},i=a,o(n,i)}return i(t,k.default),m(t,[{key:"isActive",value:function(){var e=this.props,t=e.editorKey;return e.parentEditorKey===t}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.html,n=!a;return O.default.createElement(C.default,{open:this.isActive()&&t,noScroller:!0,position:"center",onCloseModal:this.onClose},O.default.createElement("div",{className:this.ss("content")},O.default.createElement("div",{className:this.ss("head")},O.default.createElement("div",{className:this.ss("title")},this.__("title_add_embed")),O.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},O.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),O.default.createElement("div",{className:this.ss("input-wrap")},O.default.createElement("div",{className:this.ss("input")},O.default.createElement(I.default,{ref:"input",placeholder:this.__("input_placeholder"),value:a,autoFocus:!0,onChange:this.onChange})),O.default.createElement("div",{className:this.ss("supported-hint")},this.__("supported_hint"))),O.default.createElement("div",{className:this.ss("foot")},O.default.createElement("div",{className:this.ss("button")},O.default.createElement(j.default,{theme:"white",size:"xlarge",widthType:"full",label:this.__("button_cancel"),onClick:this.onClose})),O.default.createElement("div",{className:this.ss("button")},O.default.createElement(j.default,{theme:"blue",size:"xlarge",widthType:"full",disabled:n,label:this.__("button_ok"),onClick:this.onOK})))))}}]),t}(),f.propTypes={parentEditorKey:S.default.string,editorKey:S.default.string,editorState:S.default.object,open:S.default.bool,html:S.default.string,changeHtmlValue:S.default.func,closeUploadHtml:S.default.func,setEditorState:S.default.func,onOK:S.default.func},d=p))||d)||d)||d);t.default=R},function(e,t){e.exports={content:"content_3hS4q0Z8",head:"head_30pNPPYq","button-close":"button-close_3YHamxKP","input-wrap":"input-wrap_ap-HhUs9",input:"input_3u06cEWX","supported-hint":"supported-hint_2psXVVfz",foot:"foot_wQcw_OYL",button:"button_1RTxlnAp"}},function(e,t){e.exports={title_add_embed:"title_add_embed_2ZET",input_placeholder:"input_placeholder_1v6G",supported_hint:"supported_hint_3d_x",button_cancel:"button_cancel_3OJr",button_ok:"button_ok_2_5z"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=n(a(0)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(4),w=n(a(779)),E=n(a(3)),S=n(a(618)),O=(l=(0,y.decorator)({editorState:(0,b.state)(m,(0,b.props)(h))}),u=(0,E.default)(S.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.isFocused,a=e.focus,n=e.onDragStart,r=e.editorState,o=e.entityKey,i=e.renderOnly,s=r.getCurrentContent().getEntity(o).getData().innerHtml;return _.default.createElement("div",{className:this.ss("html-wrapper",i&&"render-only")},_.default.createElement("div",{className:this.ss("html",t&&"focus"),onClick:a,draggable:!!n,onDragStart:n},_.default.createElement("div",{dangerouslySetInnerHTML:{__html:JSON.parse((0,w.default)(s))}})))}}]),t}(),d.propTypes={isFocused:g.default.bool,entityKey:g.default.string,renderOnly:g.default.bool,editorKey:g.default.string.isRequired,editorState:g.default.object,focus:g.default.func,onDragStart:g.default.func},c=f))||c)||c);t.default=O},function(e,t){e.exports={"html-wrapper":"html-wrapper_ZQ1LNcZV",html:"html_15lFe79W",focus:"focus_6bDUocUy","render-only":"render-only_2RjGKl1I"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&a.getEntity(t).getType()===c},t)}function o(e){var t=e.tipId,a=e.editorKey,n=e.editorState,r=e.setEditorState,o=n.getSelection().getFocusKey();r({editorKey:a,editorState:(0,u.addAtomicBlockBefore)(n,o,c,{tipId:t})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=l.default;e.decorator&&(n=e.decorator(n));var u=o;return{decorators:[{strategy:r,component:n=(0,i.default)(n,{editorKey:t,renderOnly:a})}],TipDialog:a?function(){return null}:(0,i.default)(s.default,{editorKey:t,onOK:u})}};var i=n(a(35)),s=n(a(620)),l=n(a(623)),u=a(10),c="TIP"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["editor.tipDialog.parentEditorKey"],["editor.tipDialog.parentEditorKey"]),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["editor.tipDialog.open"],["editor.tipDialog.open"]),y=s(["editor.tipDialog.tipDialogForm"],["editor.tipDialog.tipDialogForm"]),b=s(["editor.tipDialog.tipId"],["editor.tipDialog.tipId"]),w=s(["httpAPI.",""],["httpAPI.",""]),E=s(["editor.changeTipDialogFormField"],["editor.changeTipDialogFormField"]),S=s(["editor.closeTipDialog"],["editor.closeTipDialog"]),O=s(["editor.addTip"],["editor.addTip"]),k=s(["draft.setEditorState"],["draft.setEditorState"]),T=n(a(2)),P=n(a(0)),C=n(a(1)),j=a(6),I=a(4),M=a(5),N=n(a(178)),D=n(a(70)),x=n(a(46)),R=n(a(51)),F=a(20),A=a(8),L=n(a(3)),K=n(a(621)),q=n(a(7)),z=n(a(622)),U=(l=(0,j.decorator)({parentEditorKey:(0,I.state)(h),editorState:(0,I.state)(_,(0,I.props)(g)),open:(0,I.state)(v),tipDialogForm:(0,I.state)(y),tipId:(0,I.state)(b),tipData:(0,I.state)(w,A.POST_TIP),changeTipDialogFormField:(0,I.signal)(E),closeTipDialog:(0,I.signal)(S),addTip:(0,I.signal)(O),setEditorState:(0,I.signal)(k)}),u=(0,L.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChangeTipType=function(e,t,a){n.props.changeTipDialogFormField({value:a,fieldName:"tipType"})},n.onClose=function(){n.props.closeTipDialog()},n.onOK=function(){if(n.isActive()){var e=n.props,t=e.addTip,a=e.tipDialogForm.tipType;t({type:(0,M.get)(a,"value")})}},i=a,o(n,i)}return i(t,C.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.open,a=(0,M.get)(this.props,"tipId"),n=(0,M.get)(e,"tipId");t&&n&&a!==n&&this.onSuccess(n)}},{key:"onSuccess",value:function(e){if(this.isActive()){var t=this.props.onOK;if(t){var a=this.props;t({editorKey:a.editorKey,editorState:a.editorState,setEditorState:a.setEditorState,tipId:e})}this.onClose()}}},{key:"isActive",value:function(){var e=this.props,t=e.editorKey;return e.parentEditorKey===t}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.tipDialogForm,r=t.tipData,o=n.tipValue,i=n.tipType,s=A.TipTypes.map(function(t){return{text:e.__("tip_"+t),value:t}});s.unshift({text:this.__("tip_select_label"),value:""});var l=(0,F.isLoading)((0,M.get)(r,"updateStatus")),u=o.isTouched&&o.errorMessage,c=i.isTouched&&i.errorMessage;return P.default.createElement(N.default,{open:this.isActive()&&a,noScroller:!0,position:"center",onCloseModal:this.onClose},P.default.createElement("div",{className:this.ss("tip-wrapper")},P.default.createElement("div",{className:this.ss("head")},P.default.createElement("div",{className:this.ss("title")},this.__("title_add_tip")),P.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},P.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),P.default.createElement("div",{className:this.ss("content-wrapper")},P.default.createElement("div",{className:this.ss("tip-types",c&&"error")},P.default.createElement(x.default,{theme:"gray",value:(0,M.get)(i,"value"),selects:s,onChange:this.onChangeTipType})),P.default.createElement("div",{className:this.ss("tip-content",u&&"error")},P.default.createElement(R.default,{editorKey:"editorTipBody",value:"",registerActionPath:"editor.changeTipValue",placeholder:this.__("input_placeholder"),theme:"transparent",renderOnly:!1}))),P.default.createElement("div",{className:this.ss("foot")},P.default.createElement("div",{className:this.ss("button")},P.default.createElement(D.default,{theme:"white",size:"xlarge",widthType:"full",label:this.__("button_cancel"),onClick:this.onClose})),P.default.createElement("div",{className:this.ss("button")},P.default.createElement(D.default,{theme:"blue",loading:l,size:"xlarge",widthType:"full",label:this.__("button_ok"),onClick:this.onOK})))))}}]),t}(),f.propTypes={parentEditorKey:T.default.string,editorKey:T.default.string,editorState:T.default.object,open:T.default.bool,tipDialogForm:T.default.object,tipId:T.default.string,tipData:T.default.object,changeTipDialogFormField:T.default.func,closeTipDialog:T.default.func,addTip:T.default.func,setEditorState:T.default.func,onOK:T.default.func},d=p))||d)||d)||d);t.default=U},function(e,t){e.exports={"tip-wrapper":"tip-wrapper_3x_NDtqd",head:"head_2hmICfYO","button-close":"button-close_1zxlnwdY","content-wrapper":"content-wrapper_Qn0ws2A1","tip-types":"tip-types_1stIkd9m",error:"error_3bhzXZED","tip-content":"tip-content_3GTykn9P",foot:"foot_1Uorp9j7",button:"button_30-Wprbl"}},function(e,t){e.exports={title_add_tip:"title_add_tip_wZHZ",button_cancel:"button_cancel_1rm-",button_ok:"button_ok_2DrJ",input_placeholder:"input_placeholder_2t-1",tip_select_label:"tip_select_label_2-We",tip_demo:"tip_demo_1pSt",tip_explain:"tip_explain_3OHS",tip_ask:"tip_ask_1zBJ",tip_warn:"tip_warn_3dFm",tip_review:"tip_review_s4Gk",tip_recap:"tip_recap_3bdf",tip_assess:"tip_assess_57xY"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["editor.tipDialog.tipMap"],["editor.tipDialog.tipMap"]),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["learner.toggleLike"],["learner.toggleLike"]),y=n(a(0)),b=n(a(2)),w=n(a(1)),E=a(6),S=a(4),O=a(5),k=n(a(51)),T=a(12),P=n(a(3)),C=n(a(624)),j=n(a(7)),I=n(a(625)),M=(l=(0,E.decorator)({tipMap:(0,S.state)(h),editorState:(0,S.state)(_,(0,S.props)(g)),toggleLike:(0,S.signal)(v)}),u=(0,P.default)(C.default),c=(0,j.default)(I.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={show:!1,onDrag:!1},n.onShowTip=function(){n.state.onDrag||n.setState({show:!0})},n.onHiddenTip=function(){n.setState({show:!1})},n.onToggleLike=function(e,t){e&&(0,T.pauseEvent)(e);var a="editor.tipDialog.tipMap."+t+".stats";n.props.toggleLike({id:t,type:"tip",statsPath:a})},n.onDragStart=function(e){n.setState({onDrag:!0}),n.props.onDragStart(e)},n.onDragEnd=function(){n.setState({onDrag:!1})},i=a,o(n,i)}return i(t,w.default),m(t,[{key:"renderContent",value:function(){var e=this;if(!this.state.show)return null;var t=this.props,a=t.editorState,n=t.entityKey,r=t.offsetKey,o=t.tipMap,i=t.renderOnly,s=a.getCurrentContent().getEntity(n).getData().tipId,l=(0,O.get)(o,s),u=(0,O.get)(l,"stats.likeCount");return y.default.createElement("div",{className:this.ss("content-wrapper")},y.default.createElement("div",{className:this.ss("content-container")},y.default.createElement("div",{className:this.ss("label")},this.__("type_"+(0,O.get)(l,"type"))),y.default.createElement("div",{className:this.ss("text")},y.default.createElement(k.default,{editorKey:"editorTipBody",offsetKey:r,value:(0,O.get)(l,"body"),renderOnly:!0,theme:"transparent"})),i&&y.default.createElement("a",{onClick:function(t){return e.onToggleLike(t,s)}},y.default.createElement("div",{className:this.ss("like")},y.default.createElement("div",{className:this.ss("like-icon","ifont","ifont-material-outline-thumb_up")}),u))))}},{key:"render",value:function(){var e=this.props,t=e.isFocused,a=e.focus,n=e.onDragStart,r=e.renderOnly,o=this.state.onDrag;return y.default.createElement("div",{className:this.ss("tip-wrapper",o&&"on-drag",r&&"render-only")},y.default.createElement("div",{className:this.ss("tip-container"),draggable:!!n,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onMouseEnter:this.onShowTip,onMouseLeave:this.onHiddenTip},y.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_school",t&&"focus"),onClick:a}),this.renderContent()))}}]),t}(),f.propTypes={tipMap:b.default.object,isFocused:b.default.bool,entityKey:b.default.string,offsetKey:b.default.string,renderOnly:b.default.bool,editorKey:b.default.string.isRequired,editorState:b.default.object,focus:b.default.func,onDragStart:b.default.func,toggleLike:b.default.func},d=p))||d)||d)||d);t.default=M},function(e,t){e.exports={"tip-wrapper":"tip-wrapper_3_ZxIEgG","on-drag":"on-drag_2023us39",icon:"icon_vtFjy2lE",focus:"focus_X84OQr5j","content-wrapper":"content-wrapper_3TQJXrEt","render-only":"render-only_3IfPyNEt","tip-container":"tip-container_1ViYu7XT","content-container":"content-container_3Eo6qblW",label:"label_IqC2kebK",text:"text_1ij75yKA",like:"like_hhireHlu","like-icon":"like-icon_2XfywtW5"}},function(e,t){e.exports={type_demo:"type_demo_3rM0",type_explain:"type_explain_1scP",type_ask:"type_ask_1_qB",type_warn:"type_warn_3LqZ",type_review:"type_review_6T21",type_recap:"type_recap_3-ou",type_assess:"type_assess_2K2T"}},function(e,t){e.exports={"editor-container":"editor-container_bCHle8dU","render-only":"render-only_3sY_iwv5","learn-edit":"learn-edit_SAHoxe3p","title-wrap":"title-wrap_Mvv7jlH5","step-top":"step-top_3Qlu4P-y","step-title":"step-title_2djGgyOU","step-option":"step-option_3XabZKL9","step-type":"step-type_2uapUNEf","body-wrap":"body-wrap_3DT3vXiH","title-wrap-inner":"title-wrap-inner_vGOszy9R","article-title":"article-title_12Dzd1JV","step-index":"step-index_3pnc7n2S","fold-wrap":"fold-wrap_1F5VhCWi",collapsed:"collapsed_ABtL0EHa","path-stream-wrap":"path-stream-wrap_1QznhIIZ","path-stream":"path-stream_3qQiTt34","buttons-wrapper":"buttons-wrapper_1naNN5OA",icon:"icon_3m2vv52T",collapse:"collapse_3cGzq1Id",expand:"expand_254d_njO",delete:"delete_3JZUvqDW","form-field":"form-field_2lqygEPf",submission:"submission_3q--jcgS","submission-type-note":"submission-type-note_VT2oq2Hh","form-field-title":"form-field-title_1SgZB4XB","form-field-content":"form-field-content_1G9CXOmp","input-wrapper":"input-wrapper_1PX9JIV3",error:"error_2AadntVi","step-option-type":"step-option-type_2tMa52ke"}},function(e,t){e.exports={tutorial_step_title_placeholder:"tutorial_step_title_placeholder_2YQD",tutorial_step_body_placeholder:"tutorial_step_body_placeholder_3wBI",step_index:"step_index_Ospi",step_title_index:"step_title_index_Bt_C",step_title_lab:"step_title_lab_2QiY",field_labUrl_title:"field_labUrl_title_1xja",labUrl_placeholder:"labUrl_placeholder_3kO7",tutorial_lab_title_placeholder:"tutorial_lab_title_placeholder_2awa",tutorial_lab_body_placeholder:"tutorial_lab_body_placeholder_3oM6",submission_none:"submission_none_2f99",submission_type_media:"submission_type_media_19cp",submission_type_webgl:"submission_type_webgl_2-Zn",step_title_submission:"step_title_submission_1aPN",submission_placeholder:"submission_placeholder_3BqM",tutorial_submission_body_placeholder:"tutorial_submission_body_placeholder_1O2G",step_type_tutorial:"step_type_tutorial__XqQ",step_type_lab:"step_type_lab_2-0S",step_type_submission:"step_type_submission_1aLl",step_option_required:"step_option_required_a1fd",step_option_optional:"step_option_optional_RjvK",note_submission_type_media:"note_submission_type_media_3sjJ",note_submission_type_webgl:"note_submission_type_webgl_25R-",step_option_type_optional:"step_option_type_optional_1B2a"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.recordMap.",""],["learner.recordMap.",""]),_=s(["id"],["id"]),g=s(["httpAPI.",""],["httpAPI.",""]),v=s(["learner.toggleTutorialRecord"],["learner.toggleTutorialRecord"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),S=a(4),O=a(5),k=n(a(15)),T=a(8),P=a(20),C=n(a(3)),j=n(a(668)),I=n(a(7)),M=n(a(669)),N=(l=(0,E.decorator)({record:(0,S.state)(h,(0,S.props)(_)),toggleRecordData:(0,S.state)(g,T.TOGGLE_TUTORIAL_RECORD),toggleTutorialRecord:(0,S.signal)(v)}),u=(0,C.default)(j.default),c=(0,I.default)(M.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onToggleRecord=function(){var e=n.props,t=e.id,a=e.type,r=e.toggleTutorialRecord,o=e.versionId;r&&r({id:t,type:a,versionId:o})},i=a,o(n,i)}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.record,a=e.toggleRecordData,n=e.theme,r=(0,O.get)(t,"completed"),o=(0,P.isLoading)((0,O.get)(a,"updateStatus")),i=r?"button_restart":"button_mark_completed",s="architecture"===n?"architecture_":"";return b.default.createElement("div",{className:this.ss("record-button")},b.default.createElement(k.default,{key:"btn_start",widthStyle:"full",loading:o,label:this.__(""+s+i),onClick:this.onToggleRecord}))}}]),t}(),f.propTypes={id:y.default.string.isRequired,type:y.default.string,record:y.default.object,toggleRecordData:y.default.object,versionId:y.default.string,theme:y.default.oneOf(["default","architecture"]),toggleTutorialRecord:y.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=N},function(e,t){e.exports={"payment-cover":"payment-cover_EKLEnNEo","cover-banner":"cover-banner_FjTLZosE","login-banner":"login-banner_1yX7MuJm","login-banner-link":"login-banner-link_28P-_0Ch","banner-word":"banner-word_31RHpWRA",button:"button_2cYo3PJm","button-free":"button-free_7pQ17iFw","button-more":"button-more_ynguJtvu"}},function(e,t){e.exports={login_banner_left:"login_banner_left_2IU1",login_banner_right:"login_banner_right_lR6O",banner_word_first_line:"banner_word_first_line_3p7i",banner_word_second_line:"banner_word_second_line_1Dk2"}},function(e,t){e.exports={"plan-wrap":"plan-wrap_3kDwtq3r",architecture:"architecture_II-DNmS3","render-only":"render-only_2lGQmov5","section-title":"section-title_DuRdBlv7","content-editor":"content-editor_31mXFHZx","create-plan":"create-plan_3ers8glt","section-description":"section-description_i5uZ6HwP","section-downloads":"section-downloads_13e6QZss","required-complete":"required-complete_13zzTbIV","remove-educator-plan":"remove-educator-plan_1x_i2u_D","remove-icon":"remove-icon_3rwheQoz","background-img":"background-img_2UxKLEIu","background-mask":"background-mask_3kKKp3Im","reveal-solution-description":"reveal-solution-description_4AUD7LN-","reveal-solution-btn":"reveal-solution-btn_10gXNww6","form-field-materials":"form-field-materials_2AivYRfZ","form-field-content":"form-field-content_3LuzHTn8","form-field-title":"form-field-title_2zxXrY1e","form-field-des":"form-field-des_3wZGwxO5"}},function(e,t){e.exports={solution_section_title:"solution_section_title_WSXs",solution_section_description:"solution_section_description_2nHq",solution_placeholder:"solution_placeholder_3C_s",required_complete_description:"required_complete_description_21NC",remove_solution_plan:"remove_solution_plan_1Ac8",reveal_solution_description:"reveal_solution_description_3iKY",reveal_solution_button:"reveal_solution_button_qm6M",solution_materials_title:"solution_materials_title_JEwv",solution_materials_des:"solution_materials_des_9N7B"}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.recordMap.",""],["learner.recordMap.",""]),_=s(["id"],["id"]),g=s(["httpAPI.",""],["httpAPI.",""]),v=s(["learner.toggleStepRecord"],["learner.toggleStepRecord"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),S=a(4),O=a(5),k=n(a(15)),T=a(8),P=a(20),C=n(a(3)),j=n(a(664)),I=n(a(7)),M=n(a(665)),N=(l=(0,E.decorator)({record:(0,S.state)(h,(0,S.props)(_)),toggleRecordData:(0,S.state)(g,T.TOGGLE_STEP_RECORD),toggleStepRecord:(0,S.signal)(v)}),u=(0,C.default)(j.default),c=(0,I.default)(M.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onToggleRecord=function(){var e=n.props,t=e.id,a=e.type,r=e.stepId,o=e.toggleStepRecord,i=e.versionId;o&&o({id:t,type:a,stepId:r,versionId:i})},i=a,o(n,i)}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.stepId,a=e.record,n=e.toggleRecordData,r=(0,O.get)(a,"steps."+t+".completed"),o=(0,P.isLoading)((0,O.get)(n,"updateStatus"));return b.default.createElement("div",{className:this.ss("record-button")},b.default.createElement(k.default,{key:"btn_start",widthStyle:"full",loading:o,theme:r?"blue-border":"primary",label:this.__(r?"button_mark_incompleted":"button_mark_completed"),onClick:this.onToggleRecord}))}}]),t}(),f.propTypes={id:y.default.string.isRequired,type:y.default.string,record:y.default.object,stepId:y.default.string,toggleRecordData:y.default.object,versionId:y.default.string,toggleStepRecord:y.default.func},d=p))||d)||d)||d);t.default=N},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["loginUser"],["loginUser"]),g=s(["learner.recordMap.",""],["learner.recordMap.",""]),v=s(["id"],["id"]),y=s(["httpAPI.",""],["httpAPI.",""]),b=s(["submission.isValidSubmissionForm"],["submission.isValidSubmissionForm"]),w=s(["learner.toggleStepRecord"],["learner.toggleStepRecord"]),E=s(["submission.saveForm"],["submission.saveForm"]),S=s(["common.loginTo"],["common.loginTo"]),O=n(a(2)),k=n(a(0)),T=n(a(1)),P=a(6),C=a(4),j=a(5),I=n(a(15)),M=a(8),N=a(20),D=n(a(3)),x=n(a(666)),R=n(a(7)),F=n(a(667)),A=(l=(0,P.decorator)({loginUser:(0,C.state)(_),record:(0,C.state)(g,(0,C.props)(v)),toggleRecordData:(0,C.state)(y,M.TOGGLE_STEP_RECORD),isValidSubmissionForm:(0,C.state)(b),toggleStepRecord:(0,C.signal)(w),saveForm:(0,C.signal)(E),loginTo:(0,C.signal)(S)}),u=(0,D.default)(x.default),c=(0,R.default)(F.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onToggleRecord=function(){var e=n.props,t=e.id,a=e.type,r=e.stepId,o=e.toggleStepRecord,i=e.record,s=e.saveForm,l=e.isValidSubmissionForm,u=e.submissionType,c=e.versionId,d=(0,j.get)(i,"steps."+r+".completed");(d||l)&&(o&&o({id:t,type:a,stepId:r,versionId:c}),d||s({submissionType:u}))},i=a,o(n,i)}return i(t,T.default),h(t,[{key:"renderRecordButton",value:function(){var e=this.props,t=e.loginUser,a=e.loginTo,n=e.stepId,r=e.record,o=e.toggleRecordData,i=e.isValidSubmissionForm;if(!t)return k.default.createElement(I.default,{widthStyle:"full",label:this.__("button_submission_sign_in"),onClick:function(){return a()}});var s=(0,j.get)(r,"steps."+n+".completed"),l={key:"btn_toggle_complete",widthStyle:"full",loading:(0,N.isLoading)((0,j.get)(o,"updateStatus")),onClick:this.onToggleRecord};return s?k.default.createElement(I.default,m({},l,{theme:"blue-border",label:this.__("button_submission_mark_incompleted")})):k.default.createElement(I.default,m({},l,{disabled:!i,theme:"primary",label:this.__("button_submission_mark_completed")}))}},{key:"render",value:function(){return k.default.createElement("div",{className:this.ss("record-button")},this.renderRecordButton())}}]),t}(),f.propTypes={loginUser:O.default.object,id:O.default.string.isRequired,type:O.default.string,submissionType:O.default.string,record:O.default.object,stepId:O.default.string,toggleRecordData:O.default.object,isValidSubmissionForm:O.default.bool,versionId:O.default.string,toggleStepRecord:O.default.func,saveForm:O.default.func,loginTo:O.default.func},d=p))||d)||d)||d);t.default=A},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentHead=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=s(["comment.focusComponent"],["comment.focusComponent"]),b=s(["comment.markComponentFocused"],["comment.markComponentFocused"]),w=s(["comment.componentFocused"],["comment.componentFocused"]),E=s(["tutorialData"],["tutorialData"]),S=n(a(2)),O=n(a(0)),k=a(6),T=a(4),P=n(a(1)),C=a(5),j=n(a(28)),I=n(a(16)),M=n(a(670)),N=a(390),D=n(a(3)),x=n(a(672)),R=(l=(0,k.decorator)({focusComponent:(0,T.state)(y),markComponentFocused:(0,T.signal)(b),componentFocused:(0,T.state)(w)}),u=(0,D.default)(x.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,P.default),v(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.focusComponent,a=e.markComponentFocused,n=e.componentFocused;t&&!n&&(this.scrollTo(t),a())}},{key:"scrollTo",value:function(e){this.refs.scroller&&this.refs.scroller.scrollTo(e)}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.scrollToStep;return O.default.createElement(M.default,null,O.default.createElement(F,{type:t}),O.default.createElement(j.default,{ref:"scroller"},O.default.createElement(N.LearnComment,{type:t,scrollToStep:a})))}}]),t}(),d.propTypes={id:S.default.string,type:S.default.string,scrollToStep:S.default.func,markComponentFocused:S.default.func,focusComponent:S.default.number,componentFocused:S.default.bool},d.defaultProps={},c=f))||c)||c);t.default=R;var F=t.CommentHead=(p=(0,k.decorator)({tutorialData:(0,T.state)(E)}),m=(0,D.default)(x.default),p(h=m((g=_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,P.default),v(t,[{key:"render",value:function(){var e=this.props.tutorialData;if(!e)return null;var t=(0,C.get)(e,"title")||"",a=(0,C.get)(e,"thumbnail.url")||"";return O.default.createElement("div",{className:this.ss("comment-head")},O.default.createElement("div",{className:this.ss("thumbnail")},O.default.createElement(I.default,{src:a,sizes:"89px",width:89,height:50})),O.default.createElement("div",{className:this.ss("brief-info")},O.default.createElement("div",{className:this.ss("title")},t)))}}]),t}(),_.propTypes={type:S.default.string,tutorialData:S.default.object},h=g))||h)||h)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["featured"],["featured"]),E=s(["featured.openSubmissionWithFeatured"],["featured.openSubmissionWithFeatured"]),S=s(["",".statsMap.",".collectCount"],["",".statsMap.",".collectCount"]),O=s(["statsPath"],["statsPath"]),k=s(["id"],["id"]),T=s(["",".statsMap.",".viewCount"],["",".statsMap.",".viewCount"]),P=s(["learner.collectMap.",""],["learner.collectMap.",""]),C=s(["learner.toggleCollect"],["learner.toggleCollect"]),j=n(a(2)),I=n(a(0)),M=n(a(1)),N=a(6),D=a(4),x=a(5),R=n(a(30)),F=n(a(16)),A=n(a(22)),L=a(44),K=a(74),q=a(12),z=n(a(47)),U=a(8),B=n(a(3)),H=n(a(682)),V=n(a(7)),G=n(a(683)),W={normal:{thumbnailWidth:390,thumbnailHeight:220},small:{thumbnailWidth:285,thumbnailHeight:160},xsmall:{thumbnailWidth:265,thumbnailHeight:139},medium:{thumbnailWidth:381,thumbnailHeight:160}},Q=(l=(0,N.decorator)({featured:(0,D.state)(w),openSubmissionDetail:(0,D.signal)(E)}),u=(0,B.default)(H.default),c=(0,V.default)(G.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getFeaturedContent=function(){var e=n.props.featured;return(0,x.get)(e,["listMap",(0,x.get)(e,"listName")])||{}},n.handleDetail=function(e){(0,q.pauseEvent)(e);var t=n.props,a=t.preview,r=t.submission,o=t.openSubmissionDetail,i=(0,x.get)(r,"submissionType");if(i===U.SubmissionTypes.media){var s=(0,x.get)(r,"id");o&&o({id:s,preview:a})}if(i===U.SubmissionTypes.webgl){var l=(0,x.get)(r,"webGLProject")||{},u=(0,x.get)(l,"slug"),c=R.default.DEFAULT_URL+"/p/"+u;(0,z.default)(c)}},i=a,o(n,i)}return i(t,M.default),b(t,[{key:"renderCardImg",value:function(){var e=this.props||{},t=e.submission,a=e.size,n=(0,x.get)(t,"thumbnail.url")||"",r=W[a].thumbnailHeight,o=W[a].thumbnailWidth;return n?I.default.createElement("div",{className:this.ss("card-img")},I.default.createElement(F.default,{src:n,sizes:o+"px",height:r,width:o})):I.default.createElement("div",{className:this.ss("img-holder"),style:{paddingBottom:100*r/o+"%"}})}},{key:"renderDescription",value:function(){var e=this.props.submission,t=(0,x.get)(e,"published"),a=(0,x.get)(e,"descPlain")||"";return t||a?I.default.createElement(A.default,{type:"dark",delay:1e3,position:"bottom-left",text:a},I.default.createElement("div",{className:this.ss("des")},a)):I.default.createElement("div",{className:this.ss("description-holder")},I.default.createElement("div",{className:this.ss("holder","top")}),I.default.createElement("div",{className:this.ss("holder","bottom")}))}},{key:"renderFeaturedOperator",value:function(){var e=this.props,t=e.submission,a=e.onDeleteFeature,n=e.onAddFeature,r=(0,x.get)(t,"published"),o=(0,x.get)(t,"id"),i=(0,x.get)(t,"stepId");return r?a?I.default.createElement(A.default,{type:"dark",delay:1e3,position:"top-left",text:this.__("tooltip_delete_featured_submission")},I.default.createElement("button",{className:this.ss("featured-button","button-delete-submission"),onClick:function(){return a({id:o,stepId:i})}},I.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-plus")}))):n?I.default.createElement(A.default,{type:"dark",delay:1e3,position:"top-left",text:this.__("tooltip_add_featured_submission")},I.default.createElement("button",{className:this.ss("featured-button","button-add-submission"),onClick:function(){return n({id:o})}},I.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-plus")}))):null:null}},{key:"renderFeaturedDescription",value:function(){var e=this.props,t=e.type,a=e.submission;if("featured"!==t)return null;var n=(0,x.get)(a,"id"),r=this.getFeaturedContent(),o=(0,x.get)(r,"contentMap.listItemMap."+n)||{},i=(0,x.get)(o,"description");return I.default.createElement("div",{className:this.ss("featured-description-wrap")},I.default.createElement(A.default,{type:"dark",delay:1e3,position:"bottom-left",text:i},I.default.createElement("div",{className:this.ss("featured-description")},i)))}},{key:"renderSubmissionCardContent",value:function(){var e=this.props||{},t=e.submission,a=e.theme,n=e.preview,r=e.size,o=e.statsPath,i=(0,x.get)(t,"id"),s=(0,x.get)(t,"type"),l=(0,x.get)(t,"title"),u="small"===r||"xsmall"===r;if((0,x.get)(t,"submissionType")===U.SubmissionTypes.webgl){var c=(0,x.get)(t,"webGLProject")||{};return I.default.createElement(K.WebGLProjectCardInternal,{theme:a,size:r,submission:t,project:c})}return I.default.createElement("div",{className:this.ss("content","content-media")},this.renderCardImg(),I.default.createElement("div",{className:this.ss("card-content")},I.default.createElement("div",{className:this.ss("content-des")},I.default.createElement("div",{className:this.ss("title")},l||I.default.createElement("div",{className:this.ss("holder","title-holder")})),this.renderDescription()),I.default.createElement("div",{className:this.ss("author")},I.default.createElement(L.SubmissionAuthorLabel,{data:t,theme:a,showLoginUser:n,hideUserName:u}),o&&I.default.createElement(J,{statsPath:o,id:i,type:s}))))}},{key:"render",value:function(){var e=this,t=this.props||{},a=t.theme,n=t.size;return I.default.createElement("div",{className:this.ss("submission-wrapper",a,n)},I.default.createElement("div",{className:this.ss("submission-card")},I.default.createElement("a",{className:this.ss("card-link"),onClick:function(t){return e.handleDetail(t)}},this.renderSubmissionCardContent(),this.renderFeaturedDescription())),this.renderFeaturedOperator())}}]),t}(),f.propTypes={featured:j.default.object,submission:j.default.object,preview:j.default.bool,type:j.default.oneOf(["default","featured"]),size:j.default.oneOf(["xsmall","small","normal","medium"]),theme:j.default.oneOf(["default","dark"]),statsPath:j.default.string,onAddFeature:j.default.func,onDeleteFeature:j.default.func,openSubmissionDetail:j.default.func},f.defaultProps={preview:!1,type:"default",theme:"default",size:"normal"},d=p))||d)||d)||d);t.default=Q;var J=(m=(0,N.decorator)({collectCount:(0,D.state)(S,(0,D.props)(O),(0,D.props)(k)),viewCount:(0,D.state)(T,(0,D.props)(O),(0,D.props)(k)),collected:(0,D.state)(P,(0,D.props)(k)),toggleCollect:(0,D.signal)(C)}),h=(0,B.default)(H.default),_=(0,V.default)(G.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onCollect=function(e){e&&(0,q.pauseEvent)(e);var t=n.props,a=t.id,r=t.type,o=t.toggleCollect,i=t.statsPath;o&&o({id:a,type:r,statsPath:i})},i=a,o(n,i)}return i(t,M.default),b(t,[{key:"render",value:function(){var e=this.props,t=e.collectCount,a=e.viewCount,n=e.collected;return I.default.createElement("div",{className:this.ss("stats-wrapper"),onClick:this.on},I.default.createElement("div",{className:this.ss("stats-item","stats-item-view")},I.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn-icon-eye")}),a),I.default.createElement("div",{className:this.ss("stats-item",n&&"collected"),onClick:this.onCollect},I.default.createElement("div",{className:this.ss("icon","ifont",n?"ifont-icon-heart":"ifont-icon-heart-o")}),t))}}]),t}(),v.propTypes={id:j.default.string,type:j.default.string,submission:j.default.object,collected:j.default.bool,collectCount:j.default.number,viewCount:j.default.number,statsPath:j.default.string.isRequired,toggleCollect:j.default.func},g=y))||g)||g)||g)},,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){for(var t=(new Date).getTime(),a=t;a<t+e;)a=(new Date).getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.RadioButtonGroup=t.SubmissionWebGLForm=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,S,O,k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=s(["submission.submissionForm"],["submission.submissionForm"]),C=s(["submissionData"],["submissionData"]),j=s(["submission.changeFormField"],["submission.changeFormField"]),I=s(["submission.saveForm"],["submission.saveForm"]),M=s(["submission.checkFormStatus"],["submission.checkFormStatus"]),N=s(["submission.submissionWebGLForm"],["submission.submissionWebGLForm"]),D=s(["submission.changeWebGLFormField"],["submission.changeWebGLFormField"]),x=s(["submission.checkWebGLFormStatus"],["submission.checkWebGLFormStatus"]),R=s(["submission.uploadWebGL"],["submission.uploadWebGL"]),F=n(a(2)),A=n(a(0)),L=n(a(1)),K=a(6),q=a(4),z=a(5),U=n(a(34)),B=n(a(119)),H=n(a(51)),V=n(a(176)),G=n(a(643)),W=a(74),Q=a(8),J=n(a(3)),Y=n(a(646)),Z=n(a(7)),X=n(a(647)),$=(u=(0,K.decorator)({form:(0,q.state)(P),submissionData:(0,q.state)(C),changeFormField:(0,q.signal)(j),saveForm:(0,q.signal)(I),checkFormStatus:(0,q.signal)(M)}),c=(0,J.default)(Y.default),d=(0,Z.default)(X.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onSave=function(){var e=n.props,t=e.submissionType,a=e.saveForm;a&&a({submissionType:t})},i=a,o(n,i)}return i(t,L.default),T(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checkFormStatus(),window.onbeforeunload=function(){return e.onBeforeLeave()}}},{key:"componentDidUpdate",value:function(){this.props.checkFormStatus()}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"onBeforeLeave",value:function(){return this.onSave(),l(200),null}},{key:"renderTextAreaEditor",value:function(){var e=this.props,t=e.disabled,a=e.submissionData,n=(0,z.get)(a,"description")||"";n||(n='{"blocks":[{"key":"b0000","text":"","type":"unstyled","depth":0,"entityRanges":null,"inlineStyleRanges":null}],"entityMap":{}}');var r={value:n,placeholder:this.__("submission_description_placeholder"),editorKey:"submissionFormEditorKey",registerActionPath:"submission.changeDescriptionField",theme:"transparent-submission"};return t?A.default.createElement(H.default,k({key:"text-area-render-only",renderOnly:!0},r)):A.default.createElement(H.default,k({key:"text-area-edit",renderOnly:!1},r))}},{key:"renderUploadField",value:function(){var e=this.props,t=e.disabled,a=e.form,n=e.changeFormField,r=e.submissionData,o=(0,z.get)(r,"type")||Q.DataTypeKeys.submission,i=(0,z.get)(a,"mediaContents");return A.default.createElement("div",{className:this.ss("form-field","field-media")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_upload")),A.default.createElement(G.default,{learnResourceType:o,uploaderKey:"submission_media",disabled:t,value:i.value,onChange:function(e){return n({value:e,fieldName:"mediaContents"})}}))}},{key:"renderTitleField",value:function(){var e=this.props,t=e.disabled,a=e.form,n=e.changeFormField,r=(0,z.get)(a,"title.value")||"";return A.default.createElement("div",{className:this.ss("form-field","field-title")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_title")),A.default.createElement("div",{className:this.ss("input","text-input",t&&"disabled")},A.default.createElement(U.default,{size:"medium",theme:"border-gray",disabled:t,value:r,placeholder:this.__("submission_title_placeholder"),onChange:function(e,t){return n({value:t,fieldName:"title"})}})))}},{key:"renderDescriptionField",value:function(){var e=this.props.disabled;return A.default.createElement("div",{className:this.ss("form-field","field-description")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_description")),A.default.createElement("div",{className:this.ss("input","text-area-input",e&&"render-only")},this.renderTextAreaEditor()))}},{key:"renderPermissionField",value:function(){var e=this,t=this.props,a=t.disabled,n=t.form,r=t.changeFormField,o=(0,z.get)(n,"permission"),i=Q.SubmissionPermissions.map(function(t){return{value:t,label:e.__("permission_"+t),hint:e.__("permission_"+t+"_hint")}});return A.default.createElement("div",{className:this.ss("form-field","field-permission")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_permission")),A.default.createElement("div",{className:this.ss("content")},A.default.createElement(ee,{disabled:a,options:i,value:o.value,onChange:function(e){return r({value:e,fieldName:"permission"})}})))}},{key:"render",value:function(){return A.default.createElement("div",{className:this.ss("submission-container")},A.default.createElement("div",{className:this.ss("submission-form")},A.default.createElement("div",{className:this.ss("your-submission")},this.__("your_submission")),this.renderUploadField(),this.renderTitleField(),this.renderDescriptionField(),this.renderPermissionField()))}}]),t}(),p.propTypes={disabled:F.default.bool,submissionType:F.default.string,actionId:F.default.string,actionType:F.default.string,form:F.default.object,submissionData:F.default.object,changeFormField:F.default.func,saveForm:F.default.func,checkFormStatus:F.default.func},f=m))||f)||f)||f);t.default=$;t.SubmissionWebGLForm=(h=(0,K.decorator)({form:(0,q.state)(N),submissionData:(0,q.state)(C),changeFormField:(0,q.signal)(D),saveForm:(0,q.signal)(I),checkFormStatus:(0,q.signal)(x),uploadWebGL:(0,q.signal)(R)}),_=(0,J.default)(Y.default),g=(0,Z.default)(X.default),h(v=_(v=g((b=y=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onSave=function(){var e=n.props,t=e.submissionType,a=e.saveForm;a&&a({submissionType:t})},i=a,o(n,i)}return i(t,L.default),T(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checkFormStatus(),window.onbeforeunload=function(){return e.onBeforeLeave()}}},{key:"componentDidUpdate",value:function(){this.props.checkFormStatus()}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"onBeforeLeave",value:function(){return this.onSave(),l(200),null}},{key:"renderUploadField",value:function(){var e=this.props,t=e.disabled,a=e.form,n=e.changeFormField,r=(0,z.get)(a,"webGLProject.value");return A.default.createElement("div",{className:this.ss("form-field","field-webgl")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_upload_webgl")),A.default.createElement(W.AddWebGLProject,{disabled:t,value:r,onChange:function(e){n({value:e,fieldName:"webGLProject"})}}))}},{key:"renderAdditionalDescriptionField",value:function(){var e=this.props,t=e.disabled,a=e.form,n=e.changeFormField,r=(0,z.get)(a,"additionalDescription.value")||"";return A.default.createElement("div",{className:this.ss("form-field","field-description")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_additional_description")),A.default.createElement("div",{className:this.ss("input","text-area-input")},A.default.createElement(B.default,{theme:"submission",limit:300,disabled:t,placeholder:this.__("submission_additional_description_placeholder"),value:r,onChange:function(e,t){return n({value:t,fieldName:"additionalDescription"})}})))}},{key:"renderPermissionField",value:function(){var e=this,t=this.props,a=t.disabled,n=t.form,r=t.changeFormField,o=(0,z.get)(n,"permission"),i=Q.SubmissionPermissions.map(function(t){return{value:t,label:e.__("permission_"+t),hint:e.__("permission_"+t+"_hint")}});return A.default.createElement("div",{className:this.ss("form-field","field-permission")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_permission")),A.default.createElement("div",{className:this.ss("content")},A.default.createElement(ee,{disabled:a,options:i,value:o.value,onChange:function(e){return r({value:e,fieldName:"permission"})}})))}},{key:"render",value:function(){return A.default.createElement("div",{className:this.ss("submission-container")},A.default.createElement("div",{className:this.ss("submission-form")},A.default.createElement("div",{className:this.ss("your-submission")},this.__("your_submission")),this.renderUploadField(),this.renderAdditionalDescriptionField(),this.renderPermissionField()))}}]),t}(),y.propTypes={disabled:F.default.bool,submissionType:F.default.string,actionId:F.default.string,actionType:F.default.string,form:F.default.object,submissionData:F.default.object,changeFormField:F.default.func,saveForm:F.default.func,checkFormStatus:F.default.func,uploadWebGL:F.default.func},v=b))||v)||v)||v);var ee=t.RadioButtonGroup=(w=(0,J.default)(Y.default))((O=S=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){var t=n.props,a=t.onChange,r=t.onSave;a&&a(e),r&&r(e)},n.handleCheck=function(e,t){e.preventDefault(),t!==n.props.value&&n.onChange(t)},i=a,o(n,i)}return i(t,L.default),T(t,[{key:"renderRatioButton",value:function(e){var t=this.props,a=t.disabled,n=t.value,r=(0,z.get)(e,"value"),o=(0,z.get)(e,"label"),i=(0,z.get)(e,"hint");return A.default.createElement(V.default,{disabled:a,key:"radio-button-"+r,onCheck:this.handleCheck,isChecked:n===r,value:r},A.default.createElement("div",{className:this.ss("radioButton-text")},A.default.createElement("div",{className:this.ss("permission-type-text")},o),A.default.createElement("div",{className:this.ss("permission-type-hint")},i)))}},{key:"render",value:function(){var e=this,t=this.props.options;if(0===t.length)return null;var a=t.map(function(t){return e.renderRatioButton(t)});return A.default.createElement("div",{className:this.ss("radio-group")},a)}}]),t}(),S.propTypes={disabled:F.default.bool,value:F.default.string,options:F.default.array,onChange:F.default.func,onSave:F.default.func},S.defaultProps={options:[]},E=O))||E},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["upload.uploads"],["upload.uploads"]),v=l(["upload.uploadRecord"],["upload.uploadRecord"]),y=l(["upload.retryUploadRecord"],["upload.retryUploadRecord"]),b=l(["header.showMessage"],["header.showMessage"]),w=l(["editor.uploadVideo.url"],["editor.uploadVideo.url"]),E=l(["editor.uploadVideo.",".uploadingId"],["editor.uploadVideo.",".uploadingId"]),S=l(["uploaderKey"],["uploaderKey"]),O=l(["editor.clearUploadVideo"],["editor.clearUploadVideo"]),k=l(["editor.addEmbedAuto"],["editor.addEmbedAuto"]),T=l(["editor.changeVideoUrl"],["editor.changeVideoUrl"]),P=l(["common.openPreviewMediaPopup"],["common.openPreviewMediaPopup"]),C=n(a(0)),j=n(a(2)),I=n(a(1)),M=a(6),N=a(4),D=a(5),x=n(a(42)),R=n(a(16)),F=n(a(34)),A=a(20),L=a(12),K=a(8),q=n(a(3)),z=n(a(644)),U=n(a(7)),B=n(a(645)),H="Files",V=K.MediaCommonSize.width,G=K.MediaCommonSize.height,W=8,Q=(u=(0,M.decorator)({uploads:(0,N.state)(g),uploadRecord:(0,N.signal)(v),retryUploadRecord:(0,N.signal)(y),showMessage:(0,N.signal)(b),url:(0,N.state)(w),uploadingId:(0,N.state)(E,(0,N.props)(S)),clearUploadVideo:(0,N.signal)(O),addEmbedAuto:(0,N.signal)(k),changeVideoUrl:(0,N.signal)(T),openPreviewMediaPopup:(0,N.signal)(P)}),c=(0,q.default)(z.default),d=(0,U.default)(B.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,s;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={counter:0,uploadIds:[]},n.onFilesChange=function(e){if(e&&e.target){var t=(0,D.get)(e.target,"files")||[];n.uploadFiles(t),n.refs.filesSelect.value=null}},n.onPaste=function(e){e&&(0,L.pauseEvent)(e);var t=(e.clipboardData||window.clipboardData).getData("Text");n.addEmbedAuto({url:t})},n.onKeyDown=function(e){switch(e.keyCode){case 13:n.addEmbedAuto({url:e.target.value})}},n.onChange=function(e,t){n.props.changeVideoUrl({value:t})},n.onDragOver=function(e){e&&(0,L.pauseEvent)(e)},n.onDragEnter=function(e){e&&(0,L.pauseEvent)(e),n.addCounter(1)},n.onDragLeave=function(e){e&&(0,L.pauseEvent)(e),n.addCounter(-1)},n.onDrop=function(e){e&&(0,L.pauseEvent)(e),n.setState({counter:0}),n.onHandleDrop(e)},n.onHandleDrop=function(e){var t=n.props.uploads[n.state.uploadId];if((!t||!(0,A.isLoading)(t.status))&&e&&e.dataTransfer){var a=e.dataTransfer||{},r=a.files,o=void 0===r?[]:r,i=a.types,s=void 0===i?[]:i,l=s.contains,u=s.indexOf;(l&&l(H)||u&&-1!==s.indexOf(H))&&n.uploadFiles(o)}},n.getFiles=function(e){return[].concat(r(e)).map(function(e){var t=window.URL.createObjectURL(e),a=(0,D.get)(e,"type").indexOf("video/")>-1?"videoattachment":"image";return{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,dataUrl:t,uploadType:a}})},n.addEmbedAuto=function(e){var t=n.props,a=t.uploaderKey,r=t.addEmbedAuto,o=t.learnResourceType;n.isOverMax()||r&&r(h({uploaderKey:a,learnResourceType:o},e))},n.isOverMax=function(){var e=n.props,t=e.value,a=e.showMessage;return(t||[]).length>=W&&(a&&a({message:"files_max_length_"+W}),!0)},n.handlePreview=function(e){var t=n.props;(0,t.openPreviewMediaPopup)({mediaContent:e,mediaContents:t.value})},n.openUpload=function(){n.refs.filesSelect&&n.refs.filesSelect.click()},n.internalUploadRecord=function(e){var t=e.upload,a=n.props,r=a.uploadRecord,o=a.uploadMedia,i=a.learnResourceType;o?o({upload:t,learnResourceType:i}):r&&r({upload:t,learnResourceType:i})},n.syncContentToData=function(e){var t=n.props,a=t.onChange,r=t.onSave,o=(0,D.get)(n.props,"value")||[],i=(0,D.get)(e,"id"),s=o.some(function(e){return(0,D.get)(e,"id")===i});if(a){var l=o;s?l=l.filter(function(e){return(0,D.get)(e,"id")!==i}):l.unshift(e),a(l),r&&r(l)}},n.syncStateUploadIds=function(e){var t=n.state.uploadIds,a=(0,D.get)(e,"id"),r=t;t.includes(a)?r=r.filter(function(e){return e!==a}):r.push(a),n.setState({uploadIds:r})},s=a,i(n,s)}return s(t,I.default),_(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"addCounter",value:function(e){var t=this.state.counter;this.setState({counter:t+e})}},{key:"uploadFiles",value:function(e){var t=this,a=this.props.showMessage,n=((0,D.get)(this.props,"value")||[]).length;e.length+n>W?a&&a({message:"files_max_length_"+W}):this.getFiles(e).forEach(function(e){t.syncStateUploadIds(e),t.internalUploadRecord({upload:e})})}},{key:"checkUpload",value:function(){var e=this,t=this.props,a=t.uploaderKey,n=t.uploads,r=t.uploadingId,o=t.clearUploadVideo,i=this.state.uploadIds;(0,D.forEach)(i,function(t){var a=(0,D.get)(n,t);a&&a.content&&(e.syncContentToData(a.content),e.syncStateUploadIds(a))});var s=r&&n[r];s&&s.content&&o&&(this.syncContentToData(s.content),o({uploaderKey:a}))}},{key:"clear",value:function(e){var t=e.e,a=e.upload,n=e.mediaContent;t.preventDefault(),this.setState({counter:0}),a&&this.syncStateUploadIds(a),n&&this.syncContentToData(n)}},{key:"retry",value:function(e,t){e.preventDefault(),this.isOverMax()||this.props.retryUploadRecord&&this.props.retryUploadRecord(t)}},{key:"renderLoading",value:function(e){var t=(0,D.get)(e,"loaded")||0,a=(0,D.get)(e,"total")||1,n=(0,D.get)(e,"uploadType")||"",r=100*t/a,o="";return"image"===n?o=this.__("image_uploading"):"videoattachment"===n&&(o=this.__("video_uploading")),C.default.createElement("div",{className:this.ss("loading-wrap")},C.default.createElement("div",{className:this.ss("label")},o),C.default.createElement("div",{className:this.ss("loading-bar")},C.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})))}},{key:"renderInputLoading",value:function(e){return e?C.default.createElement("div",{className:this.ss("input-loading-wrap")},C.default.createElement("div",{className:this.ss("loading")})):null}},{key:"renderFailed",value:function(e){var t=this,a=(0,D.get)(e,"uploadType")||"",n="",r="";return"image"===a?(n=this.__("image_uploading_failed"),r=this.__("image_uploading_retry")):"videoattachment"===a&&(n=this.__("video_uploading_failed"),r=this.__("video_uploading_retry")),C.default.createElement("div",{className:this.ss("failed-wrap")},C.default.createElement("div",{className:this.ss("label")},n),C.default.createElement("button",{className:this.ss("retry-button"),onClick:function(a){return t.retry(a,e)}},C.default.createElement("span",{className:this.ss("retry-button-content")},C.default.createElement("span",{className:this.ss("icon","ifont","ifont-icons_refresh")}),C.default.createElement("span",{className:this.ss("retry-text")},r))))}},{key:"renderAttachmentUploader",value:function(){var e=this.props.disabled,t=this.state.counter,a=e?{}:{onDragOver:this.onDragOver,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave};return C.default.createElement("div",h({},a,{className:this.ss("uploader-attachment",t>0&&"drag-over",e&&"disabled")}),C.default.createElement("div",{className:this.ss("upload-area")},C.default.createElement("div",{className:this.ss("icon","ifont","ifont-upload")}),C.default.createElement("div",{className:this.ss("hint-label")},this.__("hint_drag_drop_label")),C.default.createElement("div",{className:this.ss("hint-text")},this.__("hint_drag_drop_text"),C.default.createElement("a",{className:this.ss("alink"),onClick:this.openUpload},this.__("browse")),this.__("period"))),e&&C.default.createElement("div",{className:this.ss("mask")}))}},{key:"renderLinkUploader",value:function(e,t){var a=this.props,n=a.theme,r=a.disabled;return"videoattachment"===n?null:C.default.createElement("div",{className:this.ss("uploader-video-link")},C.default.createElement("div",{className:this.ss("input")},C.default.createElement(F.default,{ref:"input",theme:"transparent",size:"medium",placeholder:this.__("input_media_url_placeholder"),value:e,disabled:t||r,onKeyDown:this.onKeyDown,onChange:this.onChange,onPaste:this.onPaste}),this.renderInputLoading(t)))}},{key:"renderUploader",value:function(){var e=this,t=this.props,a=t.theme,n=t.uploads,r=t.uploadingId,o=t.url,i=n[r],s=(0,A.isLoading)(i&&i.status);return C.default.createElement("div",{className:this.ss("uploader","uploader-drop-wrapper",a)},this.renderAttachmentUploader(s),C.default.createElement("div",{className:this.ss("uploader-or")},this.__("uploader_or")),this.renderLinkUploader(o,s),C.default.createElement("input",{className:this.ss("hide"),multiple:"multiple",type:"file",ref:"filesSelect",accept:"video/*, image/*",onChange:function(t){return e.onFilesChange(t)}}))}},{key:"renderMediaContent",value:function(e){if(!e)return null;if("img"===(0,D.get)(e,"type")){var t=(0,D.get)(e,"thumbnail.url")||"";return C.default.createElement(R.default,{src:t,sizes:V+"px",width:V,height:G})}return C.default.createElement(x.default,{theme:"media",renderOnly:!1,videoContent:e})}},{key:"renderUploadPreviewItem",value:function(e){var t=this,a=e.upload,n=e.mediaContent;if(!n&&!a)return null;var r=this.props.disabled,o=void 0,i=void 0,s=!1,l=!1;if(n)o=(0,D.get)(n,"id"),i=this.renderMediaContent(n),s=!0,l=!0;else if(a){o=(0,D.get)(a,"id");var u=(0,D.get)(a,"uploadType"),c=null;if("image"===u){var d=(0,D.get)(a,"dataUrl");c=C.default.createElement(R.default,{src:d,sizes:V+"px",width:V,height:G})}else"videoattachment"===u&&(c=C.default.createElement("div",{style:{paddingBottom:100*G/V+"%"}}));var f=(0,A.isLoading)(a.status),p=(0,A.isFailed)(a.status);!f&&p&&(s=!0),i=C.default.createElement("div",{className:this.ss("media-uploaded")},c,C.default.createElement("div",{className:this.ss("loading-content")},f&&this.renderLoading(a),p&&this.renderFailed(a)))}if(!i)return null;var m=C.default.createElement("button",{className:this.ss("button-close"),onClick:function(e){return t.clear({e:e,upload:a,mediaContent:n})}},C.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")})),h=C.default.createElement("button",{className:this.ss("button-preview"),onClick:l?function(){return t.handlePreview(n)}:void 0});return C.default.createElement("div",{key:"preview-item-"+o,className:this.ss("upload-preview-item")},C.default.createElement("div",{className:this.ss("content")},C.default.createElement("div",{className:this.ss("content-preview")},i),l&&h,!r&&s&&m))}},{key:"renderUploadPreview",value:function(){var e=this,t=this.props,a=t.uploads,n=t.value,r=this.state.uploadIds,o=[];return(0,D.forEach)(r,function(t){var n=(0,D.get)(a,t);o.push(e.renderUploadPreviewItem({upload:n}))}),(0,D.forEach)(n,function(t,a){o.push(e.renderUploadPreviewItem({mediaContent:t,idx:a}))}),o.filter(function(e){return null!==e}),0===o.length?null:C.default.createElement("div",{className:this.ss("upload-preview")},o)}},{key:"render",value:function(){return C.default.createElement("div",{className:this.ss("upload-media")},this.renderUploader(),this.renderUploadPreview())}}]),t}(),p.propTypes={learnResourceType:j.default.string,uploaderKey:j.default.string,value:j.default.array,onChange:j.default.func,onSave:j.default.func,disabled:j.default.bool,uploads:j.default.object,theme:j.default.oneOf(["default"]),uploadRecord:j.default.func,retryUploadRecord:j.default.func,showMessage:j.default.func,url:j.default.string,uploadingId:j.default.string,clearUploadVideo:j.default.func,addEmbedAuto:j.default.func,changeVideoUrl:j.default.func,uploadMedia:j.default.func,openPreviewMediaPopup:j.default.func},p.defaultProps={theme:"default"},f=m))||f)||f)||f);t.default=Q},function(e,t){e.exports={"upload-media":"upload-media_1bZMcX2M",uploader:"uploader_2ZqlcKFV","uploader-or":"uploader-or_3qBuguRZ","uploader-attachment":"uploader-attachment_306ESdNQ","upload-area":"upload-area_32S4jxm0",icon:"icon_2arXNYfe","hint-label":"hint-label_1MShTdPN","hint-text":"hint-text_e1fmcQgR",mask:"mask_3_zymo4Z","drag-over":"drag-over_1BSXhAwa",disabled:"disabled_mIsn-LOl","upload-preview":"upload-preview_38k5n0QM","upload-preview-item":"upload-preview-item_3xUOtXVn",content:"content_3EvNGlST","button-preview":"button-preview_32Xx3ryL","button-close":"button-close_3FgefDKT","media-uploaded":"media-uploaded_SqfznUcv","loading-content":"loading-content_1XQc48rX","uploader-video-link":"uploader-video-link_1Glr4Yj5",input:"input_2DzW-dYU","input-loading-wrap":"input-loading-wrap_1xOPjj5D",loading:"loading_SvyIGhTw","failed-wrap":"failed-wrap__3AYZ5_i","loading-wrap":"loading-wrap_2SbCUSyO",label:"label_-DzRA8Mo","loading-bar":"loading-bar_3KfC3IO7","retry-button":"retry-button_edEKF0-k","retry-button-content":"retry-button-content_14A9jpmX","retry-text":"retry-text_14CBw2NX",hide:"hide_1uj-DdAe",alink:"alink_3wpsPohr","upload-hint":"upload-hint_10qboKm0"}},function(e,t){e.exports={image_uploading:"image_uploading_3U4I",image_uploading_failed:"image_uploading_failed_3EaJ",image_uploading_retry:"image_uploading_retry_2cW3",video_uploading:"video_uploading_10ie",video_uploading_failed:"video_uploading_failed_1qam",video_uploading_retry:"video_uploading_retry_dk08",hint_drag_drop_label:"hint_drag_drop_label_2rPc",hint_drag_drop_text:"hint_drag_drop_text_3Jff",browse:"browse_39V8",period:"period_1j4H",uploader_or:"uploader_or_tyJF",input_media_url_placeholder:"input_media_url_placeholder_31p4"}},function(e,t){e.exports={"submission-container":"submission-container_2Bv1-N7t","submission-form":"submission-form_2pxLvzlh","your-submission":"your-submission_3GNij4Z1","form-field":"form-field_1Ev0S6mI",label:"label_1AUacArJ","field-title":"field-title_2CQZJsw-",input:"input_1T5s-rXg",disabled:"disabled_J7vd8x5Z","field-description":"field-description_1i9x_Af5","text-area-input":"text-area-input_2WZlSMXW","render-only":"render-only_1up1430X","radioButton-text":"radioButton-text_3cLx62eW","permission-type-text":"permission-type-text_2Tg81teg","permission-type-hint":"permission-type-hint_2ADC7iw5"}},function(e,t){e.exports={your_submission:"your_submission_3xSr",submission_upload:"submission_upload_7QlA",submission_title:"submission_title_tRD_",submission_title_placeholder:"submission_title_placeholder_3GAb",submission_description:"submission_description_XPhi",submission_description_placeholder:"submission_description_placeholder_2GZN",submission_permission:"submission_permission_1Xkz",permission_public:"permission_public_1uE2",permission_public_hint:"permission_public_hint_1bUu",permission_group:"permission_group_3Qma",permission_group_hint:"permission_group_hint_1fqI",permission_private:"permission_private_1Lpi",permission_private_hint:"permission_private_hint_2Ov8",submission_upload_webgl:"submission_upload_webgl_2hs4",submission_additional_description:"submission_additional_description_3y4k",submission_additional_description_placeholder:"submission_additional_description_placeholder_2xdq"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["",".statsMap"],["",".statsMap"]),g=s(["statsPath"],["statsPath"]),v=s(["learner.collectMap"],["learner.collectMap"]),y=s(["learner.toggleCollect"],["learner.toggleCollect"]),b=s(["common.openShareSubmissionDialog"],["common.openShareSubmissionDialog"]),w=s(["submission.jumpToMessage"],["submission.jumpToMessage"]),E=s(["learner.reportMap"],["learner.reportMap"]),S=s(["report.openReportDialog"],["report.openReportDialog"]),O=n(a(2)),k=n(a(0)),T=n(a(1)),P=a(6),C=a(4),j=a(5),I=n(a(16)),M=a(297),N=a(44),D=a(649),x=a(390),R=n(a(22)),F=n(a(51)),A=a(12),L=n(a(3)),K=n(a(661)),q=n(a(7)),z=n(a(662)),U=(l=(0,P.decorator)({statsMap:(0,C.state)(_,(0,C.props)(g)),collectMap:(0,C.state)(v),toggleCollect:(0,C.signal)(y),openShareDialog:(0,C.signal)(b),jumpToMessage:(0,C.signal)(w),reportMap:(0,C.state)(E),openReportDialog:(0,C.signal)(S)}),u=(0,L.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.toggleCollect=function(e){e&&(0,A.pauseEvent)(e);var t=n.props,a=t.submissionData,r=t.toggleCollect,o=t.statsPath,i=(0,j.get)(a,"id"),s=(0,j.get)(a,"type");r&&r({id:i,type:s,statsPath:o})},n.handleShare=function(){var e=n.props,t=e.openShareDialog,a=e.submissionData;t&&t({data:a})},n.handleReport=function(e){var t=e.hasReport,a=n.props,r=a.openReportDialog,o=a.submissionData,i=(0,j.get)(o,"id");r&&r({type:"submission",itemId:i,reportStatus:t&&"submitted"})},i=a,o(n,i)}return i(t,T.default),h(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.submissionData,a=e.jumpToMessage,n=(0,j.get)(t,"type");a&&a({dataType:n})}},{key:"renderChannelsNode",value:function(){var e=this.props,t=e.theme,a=e.submissionData,n=(0,j.get)(a,"type");if("moderator"===t)return null;var r=(0,j.get)(a,"channelId");return k.default.createElement(x.SubmissionCommentChannel,{submissionType:n,channelId:r})}},{key:"renderHead",value:function(){var e=this,t=this.props||{},a=t.theme,n=t.submissionData,r=t.collectMap,o=t.statsMap,i=t.reportMap,s=(0,j.get)(n,"id"),l=(0,j.get)(n,"thumbnail.url")||"",u=k.default.createElement("div",{className:this.ss("thumbnail")},k.default.createElement(I.default,{src:l,sizes:"150px",height:85,width:150}));if("moderator"===a)return k.default.createElement("div",{className:this.ss("header")},u);var c=(0,j.get)(o,s+".commentCount"),d=(0,j.get)(r,s),f=(0,j.get)(o,s+".collectCount")||0,p=!!(0,j.get)(i,s);return k.default.createElement("div",{className:this.ss("header")},u,k.default.createElement("div",{className:this.ss("learner-stats")},k.default.createElement("div",{className:this.ss("operate-group")},k.default.createElement("div",{className:this.ss("stats")},k.default.createElement("div",{className:this.ss("stats-item",d&&"collected"),onClick:this.toggleCollect},k.default.createElement("div",{className:this.ss("icon","ifont",d?"ifont-icon-heart":"ifont-icon-heart-o")}),(0,A.formatNumber)(f))),k.default.createElement("div",{className:this.ss("icon-label","comment")},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_comment")}),k.default.createElement("div",{className:this.ss("num")},(0,A.formatNumber)(c))),k.default.createElement("div",{className:this.ss("share")},k.default.createElement("button",{className:this.ss("button","button-share"),onClick:this.handleShare},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_share")}))),k.default.createElement("div",{className:this.ss("flag")},k.default.createElement(R.default,{text:this.__("flag_this_submission"),position:"left"},k.default.createElement("button",{className:this.ss("button","button-flag"),onClick:function(){return e.handleReport({hasReport:p})}},k.default.createElement("div",{className:this.ss("icon",p&&"active","ifont","ifont-icons-flag")})))))))}},{key:"renderDescription",value:function(){var e=this.props.submissionData,t=(0,j.get)(e,"description")||"";t||(t='{"blocks":[{"key":"b0000","text":"","type":"unstyled","depth":0,"entityRanges":null,"inlineStyleRanges":null}],"entityMap":{}}');var a={value:t,editorKey:"submissionFormEditorKey",theme:"transparent-submission"};return k.default.createElement("div",{className:this.ss("des")},k.default.createElement(F.default,m({key:"text-area-render-only",renderOnly:!0},a)))}},{key:"render",value:function(){var e=this.props,t=e.submissionData,a=e.statsMap,n=(0,j.get)(t,"id"),r=(0,j.get)(t,"title")||"",o=(0,j.get)(a,n+".viewCount")||0,i=(0,j.get)(t,"mediaContents")||[];return k.default.createElement("div",{className:this.ss("submission-detail")},this.renderHead(),k.default.createElement("div",{className:this.ss("submission-content")},k.default.createElement("div",{className:this.ss("title")},r),k.default.createElement("div",{className:this.ss("views")},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn-icon-eye")}),(0,A.formatNumber)(o),this.__("views")),this.renderDescription(),k.default.createElement("div",{className:this.ss("author")},k.default.createElement(N.SubmissionAuthorLabel,{data:t})),k.default.createElement("div",{className:this.ss("media")},k.default.createElement(D.MediaWidget,{contents:i}))),this.renderChannelsNode(),k.default.createElement(M.ShareSubmissionDialog,null))}}]),t}(),f.propTypes={theme:O.default.oneOf(["default","moderator"]),statsPath:O.default.string,submissionData:O.default.object,statsMap:O.default.object,collectMap:O.default.object,toggleCollect:O.default.func,openShareDialog:O.default.func,jumpToMessage:O.default.func,reportMap:O.default.object,openReportDialog:O.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=U},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaWidget=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.openPreviewMediaPopup"],["common.openPreviewMediaPopup"]),b=n(a(0)),w=n(a(2)),E=n(a(1)),S=a(6),O=a(4),k=a(5),T=n(a(42)),P=n(a(16)),C=n(a(121)),j=a(8),I=n(a(3)),M=n(a(650)),N=n(a(7)),D=n(a(651)),x=j.MediaCommonSize.width,R=j.MediaCommonSize.height,F=(s=(0,S.decorator)({openPreviewMediaPopup:(0,O.signal)(y)}),l=(0,I.default)(M.default),u=(0,N.default)(D.default),s(c=l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={itemPos:0},n.handleBack=function(){var e=n.state.itemPos;e>0&&n.setState({itemPos:e-1})},n.handleNext=function(){var e=((0,k.get)(n.props,"contents")||[]).length,t=n.state.itemPos;t<e-1&&n.setState({itemPos:t+1})},n.handlePreview=function(e){var t=n.props;(0,t.openPreviewMediaPopup)({mediaContent:e,mediaContents:t.contents})},n.renderItem=function(e){var t=e.item,a=(0,k.get)(t,"type"),r=b.default.createElement("button",{className:n.ss("button-preview"),onClick:function(){return n.handlePreview(t)}});return b.default.createElement("div",{className:n.ss("media-item")},n.renderMediaContent(t),"img"===a&&r)},i=a,o(n,i)}return i(t,E.default),v(t,[{key:"renderSliderOperator",value:function(){var e=this.state.itemPos,t=((0,k.get)(this.props,"contents")||[]).length;if(0===t)return null;var a=0===e,n=e===t-1;return b.default.createElement("div",{className:this.ss("slider-operator")},b.default.createElement("button",{className:this.ss("button","arrow-left",a&&"hide"),onClick:this.handleBack},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-back-icon")})),b.default.createElement("button",{className:this.ss("button","arrow-right",n&&"hide"),onClick:this.handleNext},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-back-icon")})))}},{key:"renderHeader",value:function(){var e=(0,k.get)(this.props,"contents")||[],t=this.state.itemPos,a=e.length;return b.default.createElement("div",{className:this.ss("head")},b.default.createElement("div",{className:this.ss("slider-pos")},b.default.createElement("div",{className:this.ss("current-pos")},t+1),b.default.createElement("div",{className:this.ss("line")}),b.default.createElement("div",{className:this.ss("slider-total")},a)),this.renderSliderOperator())}},{key:"renderMediaContent",value:function(e){if(!e)return null;if("img"===(0,k.get)(e,"type")){var t=(0,k.get)(e,"thumbnail.url")||"";return b.default.createElement(P.default,{src:t,sizes:x+"px",width:x,height:R})}return b.default.createElement(T.default,{theme:"media",videoContent:e})}},{key:"render",value:function(){var e=this.props.contents,t=this.state.itemPos;return b.default.createElement("div",{className:this.ss("media-wrapper")},this.renderHeader(),b.default.createElement("div",{className:this.ss("media-container")},b.default.createElement("div",{style:{paddingBottom:100*R/x+"%"}}),b.default.createElement("div",{className:this.ss("media-slider")},b.default.createElement(C.default,{items:e,itemPos:t,pageSize:1,renderItem:this.renderItem}))))}}]),t}(),d.propTypes={contents:w.default.array,openPreviewMediaPopup:w.default.func},d.defaultProps={},c=f))||c)||c)||c);t.default=F;t.MediaWidget=(p=(0,I.default)(M.default),m=(0,N.default)(D.default),p(h=m((g=_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),v(t,[{key:"render",value:function(){var e=this.props.contents;return 0===(0,k.get)(e,"length")?null:b.default.createElement("div",{className:this.ss("media-widget-wrapper")},b.default.createElement("div",{className:this.ss("label")},this.__("media")),b.default.createElement(F,{contents:e}))}}]),t}(),_.propTypes={contents:w.default.array},_.defaultProps={contents:[]},h=g))||h)||h)},function(e,t){e.exports={"media-container":"media-container_2OedxhL9","media-slider":"media-slider_2FzEnI1Z","media-item":"media-item_2fQT8It-","button-preview":"button-preview_-71JlHvE",head:"head_2qXtPLzL","slider-pos":"slider-pos_3cS0sCL0","current-pos":"current-pos_Bc3qD70c","slider-total":"slider-total_35NNfkT2",line:"line_2xZatUcm","slider-operator":"slider-operator_2gRTB6NS",button:"button_1cAgLGCL",hide:"hide_1-L0Gfpc","arrow-right":"arrow-right_2tcVmgn2",icon:"icon_Y5VzAZwV","media-widget-wrapper":"media-widget-wrapper_1fMoMZC0",label:"label_2NokR0nl"}},function(e,t){e.exports={media:"media_1FeF"}},function(e,t){e.exports={"comment-input":"comment-input_1HGgGW3N","submission-comment":"submission-comment_2rL9dyWC","input-wrap":"input-wrap_1GmDKvL9",avatar:"avatar_1hnrjVEW",input:"input_1w14MMHj",buttons:"buttons_1QwBia9N",button:"button_23pWOZ42",disabled:"disabled_1ZVqV7vA","comment-button":"comment-button_27IhyBzH",reply:"reply_2QYp36ZU","reply-button":"reply-button_1xdR_cGi","comment-sign-in":"comment-sign-in_2GjqM4Ht","hint-content":"hint-content_2ahORJLz","hint-title":"hint-title_Fb46TQX5",edit:"edit_3RCzNL5s","input_save-button":"input_save-button_2Tbva9wW","input_cancel-button":"input_cancel-button_18sZ-8x5"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCard=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["commentData.commentMap.",""],["commentData.commentMap.",""]),E=s(["channelId"],["channelId"]),S=s(["tutorialData.type"],["tutorialData.type"]),O=s(["commentData.authorMap"],["commentData.authorMap"]),k=s(["comment.expandId"],["comment.expandId"]),T=s(["comment.toggleChannelExpanded"],["comment.toggleChannelExpanded"]),P=n(a(2)),C=n(a(0)),j=a(6),I=a(4),M=n(a(1)),N=a(5),D=n(a(516)),x=n(a(390)),R=a(12),F=n(a(3)),A=n(a(654)),L=n(a(7)),K=n(a(391)),q=(l=(0,j.decorator)({channel:(0,I.state)(w,(0,I.props)(E)),tutorialType:(0,I.state)(S),authorMap:(0,I.state)(O)}),u=(0,F.default)(A.default),c=(0,L.default)(K.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,M.default),b(t,[{key:"render",value:function(){var e=this.props,t=e.channel,a=e.contentType,n=e.channelIdx,r=e.channelId,o=e.scrollToStep,i=e.authorMap,s=e.tutorialType,l=Object.assign({},t);return C.default.createElement("div",{className:this.ss("channel")},C.default.createElement(z,{type:a,channelId:r,channelIdx:n,scrollToStep:o},C.default.createElement(D.default,{channel:l,channelId:r,dataType:s}),C.default.createElement(x.default,{channel:l,channelId:r,dataType:s,authorMap:i})))}}]),t}(),f.propTypes={contentType:P.default.string,channelId:P.default.string,tutorialType:P.default.string,channelIdx:P.default.number,channel:P.default.object,authorMap:P.default.object,scrollToStep:P.default.func},f.defaultProps={},d=p))||d)||d)||d);t.default=q;var z=t.ChannelCard=(m=(0,j.decorator)({channel:(0,I.state)(w,(0,I.props)(E)),expandId:(0,I.state)(k),toggleChannelExpanded:(0,I.signal)(T)}),h=(0,F.default)(A.default),_=(0,L.default)(K.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.hasRender=!1,n.handleExpand=function(){var e=n.props,t=e.channelId,a=e.channel,r=e.toggleChannelExpanded,o=e.scrollToStep;r&&r({channelId:t});var i=(0,N.get)(a,"stepId");o&&o(i?{itemId:i}:{itemId:-1})},i=a,o(n,i)}return i(t,M.default),b(t,[{key:"renderCardInfo",value:function(){var e=this,t=this.props,a=t.type,n=t.channelIdx,r=t.channelId,o=t.channel,i=a,s=(0,N.get)(o,"name");if(!r)return null;var l=(0,N.get)(o,"messages.total"),u=(0,N.get)(o,"messages.likeCount"),c=0===n?this.__("general_discuss_"+i):n+". "+s;return C.default.createElement("div",{className:this.ss("channel-card-info"),onClick:function(){return e.handleExpand()}},C.default.createElement("div",{className:this.ss("channel-card-head")},c),C.default.createElement("div",{className:this.ss("channel-card-foot")},C.default.createElement("div",{className:this.ss("icon-label","praise")},C.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-like")}),C.default.createElement("div",{className:this.ss("num")},(0,R.formatNumber)(u))),C.default.createElement("div",{className:this.ss("icon-label","comment")},C.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_comment")}),C.default.createElement("div",{className:this.ss("num")},(0,R.formatNumber)(l)))))}},{key:"renderContainer",value:function(){var e=this.props,t=e.channelId===e.expandId,a=null;return(t||this.hasRender)&&(a=C.default.createElement("div",{className:this.ss("channel-container",!t&&"hidden")},this.props.children),this.hasRender=!0),a}},{key:"render",value:function(){return this.props.channelId?C.default.createElement("div",{className:this.ss("channel-card")},this.renderCardInfo(),this.renderContainer()):null}}]),t}(),v.propTypes={channelIdx:P.default.number,channelId:P.default.string,channel:P.default.object,children:P.default.any,expandId:P.default.string,type:P.default.string,toggleChannelExpanded:P.default.func,scrollToStep:P.default.func},g=y))||g)||g)||g)},function(e,t){e.exports={"comment-wrap":"comment-wrap_3hyca6JC",channel:"channel_1eUyL028","channel-card":"channel-card_2GVH4VVL","channel-container":"channel-container_eywUOV_K",hidden:"hidden_3k6JFN-F","channel-card-info":"channel-card-info_2xnf20wu","channel-card-head":"channel-card-head_3HVZOahe","title-wrap":"title-wrap_3SCz_HQ9","title-content":"title-content_V-LM7Guk","channel-card-foot":"channel-card-foot_261kyas-","icon-label":"icon-label_2lmYwAGT",icon:"icon_1SK_FFEV",num:"num_27qwTFtf"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=n(a(0)),f=n(a(1)),p=n(a(28)),m=n(a(15)),h=a(27),_=n(a(3)),g=n(a(656)),v=n(a(7)),y=n(a(657)),b=(s=(0,_.default)(g.default),l=(0,v.default)(y.default),s(u=l(u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={show:!1,contentHeight:0},n.setGuidelinesRef=function(e){if(e){var t=e.offsetParent.offsetHeight;n.setState({contentHeight:t-40})}},n.toggleShowStatus=function(){n.setState({show:!n.state.show})},n.renderGuidelinesButton=function(){return d.default.createElement("div",{className:n.ss("guidelines-button-label")},d.default.createElement("div",{className:n.ss("ifont","ifont-file-all","icon")}),n.__("comment_guidelines"))},i=a,o(n,i)}return i(t,f.default),c(t,[{key:"renderList",value:function(e,t){for(var a=[],n=1;n<=t;n++)a.push(d.default.createElement("div",{key:e+"_"+n,className:this.ss("list-item")},d.default.createElement("div",{className:this.ss("dot")}),d.default.createElement("div",{className:this.ss("item-text")},this.__(e+"_item_"+n))));return d.default.createElement("div",{className:this.ss("content-desc-list")},d.default.createElement("div",{className:this.ss("list-title")},this.__(""+e)),d.default.createElement("div",{className:this.ss("list-items-wrapper")},a))}},{key:"renderContent",value:function(){var e={maxHeight:this.state.contentHeight};return d.default.createElement("div",{className:this.ss("guidelines-content-wrapper")},d.default.createElement("div",{className:this.ss("guidelines-content-container"),style:e},d.default.createElement(p.default,null,d.default.createElement("div",{className:this.ss("guidelines-content")},d.default.createElement("div",{className:this.ss("content-title")},this.__("comment_guidelines")),d.default.createElement("div",{className:this.ss("content-desc")},d.default.createElement("div",{className:this.ss("content-desc-head")},this.__("content_description_head")),this.renderList("content_description_do",5),this.renderList("content_description_do_not",10),d.default.createElement("div",{className:this.ss("desc-paragraph")},this.__("content_description_admin")),d.default.createElement("div",{className:this.ss("desc-paragraph")},this.__("content_description_report")))))))}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{ref:this.setGuidelinesRef,className:this.ss("guidelines-wrapper")},d.default.createElement(h.ClickOutsideWrap,{onClickOutside:function(){return e.setState({show:!1})}},d.default.createElement("div",{className:this.ss("guidelines-container")},d.default.createElement(m.default,{theme:"transparent",size:"small",label:this.renderGuidelinesButton(),onClick:this.toggleShowStatus}),this.state.show&&this.renderContent())))}}]),t}())||u)||u);t.default=b},function(e,t){e.exports={"guidelines-wrapper":"guidelines-wrapper_3KEA_Xae","guidelines-container":"guidelines-container_3nbLLZar","guidelines-button":"guidelines-button_2xRdlIfD","guidelines-button-label":"guidelines-button-label_2PUGQ0NB",icon:"icon_TvErs90r","guidelines-content-wrapper":"guidelines-content-wrapper_1LUtuvVE","guidelines-content-container":"guidelines-content-container_OgSOmiSw","guidelines-content":"guidelines-content_1aMV59FL","content-title":"content-title_2v1oTAoh","content-desc":"content-desc_3fDQG_v_","content-desc-list":"content-desc-list_2LhIVr2f","list-title":"list-title_3fiwRqLS","list-item":"list-item_1xNWof8J",dot:"dot_3yhy4Mo-","item-text":"item-text_1cAvrDNT","desc-paragraph":"desc-paragraph_3BipcFU3"}},function(e,t){e.exports={comment_guidelines:"comment_guidelines_muEF",content_description_head:"content_description_head_Zdew",content_description_do:"content_description_do_3wPy",content_description_do_item_1:"content_description_do_item_1_3tkR",content_description_do_item_2:"content_description_do_item_2_3a2s",content_description_do_item_3:"content_description_do_item_3_3DTM",content_description_do_item_4:"content_description_do_item_4_OxZ0",content_description_do_item_5:"content_description_do_item_5_27KA",content_description_do_not:"content_description_do_not_WEBZ",content_description_do_not_item_1:"content_description_do_not_item_1_23A4",content_description_do_not_item_2:"content_description_do_not_item_2_3wz6",content_description_do_not_item_3:"content_description_do_not_item_3_IMdw",content_description_do_not_item_4:"content_description_do_not_item_4_edLC",content_description_do_not_item_5:"content_description_do_not_item_5_2Xfa",content_description_do_not_item_6:"content_description_do_not_item_6_1sNx",content_description_do_not_item_7:"content_description_do_not_item_7_1OU3",content_description_do_not_item_8:"content_description_do_not_item_8_1p7-",content_description_do_not_item_9:"content_description_do_not_item_9_34ta",content_description_do_not_item_10:"content_description_do_not_item_10_35xM",content_description_admin:"content_description_admin_1ScM",content_description_report:"content_description_report_2_aO"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(0)),i=a(778),s=n(i),l=n(a(600));a(659);var u={newline:i.defaultRules.newline,paragraph:r({},i.defaultRules.paragraph,{react:function(e,t,a){return o.default.createElement("p",{key:a.key},t(e.content,a))}}),escape:i.defaultRules.escape,link:r({},i.defaultRules.link,{react:function(e,t,a){return o.default.createElement("a",{key:a.key,href:s.default.sanitizeUrl(e.target),title:e.title,target:"_blank",rel:"noopener noreferrer"},t(e.content,a))}}),autolink:i.defaultRules.autolink,mailto:i.defaultRules.mailto,url:i.defaultRules.url,strong:i.defaultRules.strong,em:i.defaultRules.em,u:i.defaultRules.u,s:{order:i.defaultRules.u.order,match:s.default.inlineRegex(/^~~([\s\S]+?)~~(?!_)/),parse:i.defaultRules.u.parse,react:function(e,t,a){return o.default.createElement("s",{key:a.key},t(e.content,a))}},br:i.defaultRules.br,text:i.defaultRules.text,inlineCode:r({},i.defaultRules.inlineCode,{react:function(e,t,a){return o.default.createElement("code",{key:a.key,className:"inline"},e.content)}}),codeBlock:{order:i.defaultRules.codeBlock.order,match:function(e){return/^```(([A-z0-9-]+?)\n+)?\n*?([^]+?)```/.exec(e)},parse:function(e){return{lang:(e[2]||"").trim(),content:(e[3]||"").trim()}},react:function(e,t,a){if(e.lang&&l.default.getLanguage(e.lang)){var n=l.default.highlight(e.lang,e.content);return o.default.createElement("pre",{key:a.key},o.default.createElement("code",{className:"hljs "+n.language,dangerouslySetInnerHTML:{__html:n.value}}))}var r=l.default.highlightAuto(e.content);return o.default.createElement("pre",{key:a.key},o.default.createElement("code",{className:"hljs "+r.language,dangerouslySetInnerHTML:{__html:r.value}}))}}};t.default={parse:function(e){var t=s.default.parserFor(e),a=s.default.outputFor(s.default.ruleOutput(e,"react"));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n||(e+="\n\n"),a(t(e,r({inline:n},o)),r({},o))}}(u)}},function(e,t){},function(e,t){e.exports={"comment-wrap":"comment-wrap_3fgG3LO3","submission-wrap":"submission-wrap_1shPKeyL","comments-wrapper":"comments-wrapper_2XOH7lZZ",submissionTim:"submissionTim_3ZzBgonu","comment-item":"comment-item_2ErJgMLx","reply-input":"reply-input_qAAiZDGr","submission-input":"submission-input_2diQZ-eT",subitems:"subitems_3ip8bp1T","subitems-operate":"subitems-operate_sxInVL5Y","message-item":"message-item_2XGZIRsC",selected:"selected_3o8SdN8h","message-head":"message-head_1gHAGyhQ",message_content:"message_content_1GM2x-1_",link:"link_1Hn086Yb",avatar:"avatar_2KCqFZ0p","user-name":"user-name_1izLPEns","user-role-group":"user-role-group_E_xBL7y1","user-role":"user-role_gr0MOG2Z","from-now":"from-now_Fm71eH8B","from-update":"from-update_2LSKHAJL","message-level-2":"message-level-2_1kGuU6Q5","message-body":"message-body_6Q6VROFz","message-content":"message-content_1mYWYc6v","operate-group":"operate-group_ixAPH2oH",flag_button:"flag_button_cndeKPOb",archived:"archived_1ytW_aO8","edit-input":"edit-input_3_32AuiH","message-buttons":"message-buttons_3TVAGnkN","like-button-wrap":"like-button-wrap_1ZQ-04Qz","like-num":"like-num_1iEDWrfj","flex-end":"flex-end_28DiS0U2","tool-buttons-wrap":"tool-buttons-wrap__vLdfMHU",button:"button_1XpDK6hJ",delete_button:"delete_button_X0YXcQ8b",text:"text_3D5iNSn5",edit_button:"edit_button_1-kD8aHE",icon:"icon_3ZMmhlHl","toggle-active-button":"toggle-active-button_1mbBrRzo",active:"active_Bm6U88FY","button-message-operate":"button-message-operate_3q-XjLoW","button-view-more":"button-view-more_3BeJa7y6","load-more":"load-more_pnmPkGC_",loading:"loading_23Fr3T7P",more:"more_3ot9i1wg","no-more":"no-more_oDtXyn61","message-level-1":"message-level-1_3sGyTE9h"}},function(e,t){e.exports={"submission-detail":"submission-detail_HdXO0Ta4","submission-content":"submission-content_1HQf20K4",header:"header_35NMdr2q",thumbnail:"thumbnail_3WobVYdq",title:"title_WHsFrWJ_",views:"views_3GYcoCaD",icon:"icon_2kX0JhSs",des:"des_1zlZM6Ym",author:"author_3cCsDCk-",media:"media_3NGk8xrf","learner-stats":"learner-stats_2Coy6Omx","operate-group":"operate-group_1232UbmV",stats:"stats_QESBSiOZ",comment:"comment_1qNqDiUW",num:"num_SZ21L9lb","stats-item":"stats-item_JK1fSN3U",collected:"collected_IOjV43jo",share:"share_EDOhVitt",flag:"flag_1rWMyN1o",button:"button_13qhi_V6","button-share":"button-share_k0sqgeU3","button-flag":"button-flag_y2BrQ1OT",active:"active_2f8YxocI"}},function(e,t){e.exports={flag_this_submission:"flag_this_submission_DyYD"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["breadcrumb"],["breadcrumb"]),g=s(["tutorialData"],["tutorialData"]),v=s(["submissionData"],["submissionData"]),y=s(["httpAPI.",""],["httpAPI.",""]),b=s(["submission.isValidSubmissionForm"],["submission.isValidSubmissionForm"]),w=s(["header.recaptchaCode"],["header.recaptchaCode"]),E=s(["common.navigateToDetailPage"],["common.navigateToDetailPage"]),S=s(["submission.publishSubmission"],["submission.publishSubmission"]),O=s(["featured.openSubmissionWithFeatured"],["featured.openSubmissionWithFeatured"]),k=n(a(2)),T=n(a(0)),P=n(a(1)),C=a(6),j=a(4),I=a(5),M=n(a(15)),N=n(a(141)),D=a(74),x=n(a(490)),R=a(570),F=a(8),A=a(20),L=n(a(3)),K=n(a(680)),q=n(a(7)),z=n(a(681)),U=(l=(0,C.decorator)({loginUser:(0,j.state)(h),breadcrumb:(0,j.state)(_),tutorialData:(0,j.state)(g),submissionData:(0,j.state)(v),publishSubmissionData:(0,j.state)(y,F.PUBLISH_SUBMISSION),isValidSubmissionForm:(0,j.state)(b),recaptchaCode:(0,j.state)(w),navigateToDetailPage:(0,j.signal)(E),publishSubmission:(0,j.signal)(S),openSubmissionDetail:(0,j.signal)(O)}),u=(0,L.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleClick=function(){var e=n.props.scrollToStep;e&&e()},n.handleSubmit=function(){var e=n.props.publishSubmission;e&&e()},n.handleAddFeatured=function(e){var t=e.id,a=n.props.openSubmissionDetail;a&&a({id:t,showFeaturedForm:!0})},i=a,o(n,i)}return i(t,P.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,I.get)(e,"submissionCompleted");!0!==(0,I.get)(this.props,"submissionCompleted")&&!0===t&&this.props.scrollToNext()}},{key:"renderNextLearnCard",value:function(){var e=this.props.statsPath,t=(0,I.get)(this.props,"breadcrumb")||{};return(0,I.get)(t,"nextNode")?T.default.createElement("div",{className:this.ss("next-learn-card")},T.default.createElement("div",{className:this.ss("card-title")},this.__("next_learn_title")),T.default.createElement("div",{className:this.ss("card")},T.default.createElement(R.NextLearnContentCard,{size:"medium",statsPath:e}))):null}},{key:"renderLeft",value:function(){var e=this.props,t=e.tutorialData,a=e.submissionData,n=(0,I.get)(t,"editable");return T.default.createElement("div",{className:this.ss("submission")},T.default.createElement("div",{className:this.ss("card-title")},this.__("my_submission")),T.default.createElement("div",{className:this.ss("card")},T.default.createElement(D.SubmissionCard,{submission:a,preview:!0,onAddFeature:n?this.handleAddFeatured:void 0})))}},{key:"renderMedium",value:function(){var e=this.props,t=e.recaptchaCode,a=e.submissionData,n=e.submissionCompleted,r=e.isValidSubmissionForm,o=e.publishSubmissionData,i=(0,I.get)(a,"published")||!1,s=null;if(n&&r||(s=T.default.createElement("div",{className:this.ss("submission-right","start-submission")},T.default.createElement("div",{className:this.ss("title")},this.__("start_your_submission")),T.default.createElement("div",{className:this.ss("des")},this.__("start_your_submission_des")),T.default.createElement("div",{className:this.ss("button-wrap")},T.default.createElement("a",{className:this.ss("alink"),onClick:this.handleClick},this.__("return_to_submission_form"))))),n&&!i&&r){var l=(0,A.isLoading)((0,I.get)(o,"updateStatus"));s=T.default.createElement("div",{className:this.ss("submission-right","submit-submission")},T.default.createElement("div",{className:this.ss("title")},this.__("submit_your_work")),T.default.createElement("div",{className:this.ss("des")},this.__("submit_your_work_des")),T.default.createElement("div",{className:this.ss("captcha")},T.default.createElement(x.default,null)),T.default.createElement("div",{className:this.ss("button-wrap")},T.default.createElement(M.default,{label:this.__("submit_button"),loading:l,disabled:!t,onClick:this.handleSubmit})))}return s}},{key:"renderRight",value:function(){var e=this.props,t=e.submissionData,a=e.completed,n=e.submissionRequire,r=(0,I.get)(t,"published")||!1,o=null;return(n&&r&&a||!n&&a)&&(o=this.renderNextLearnCard()),o}},{key:"render",value:function(){var e=this.props,t=e.loginUser,a=e.submissionData,n=e.defaultThumbnailUrl;if(!t)return null;var r=(0,I.get)(a,"thumbnail.url")||n;return T.default.createElement("div",{className:this.ss("next-panel")},T.default.createElement(N.default,{url:r}),T.default.createElement("div",{className:this.ss("panel-body")},this.renderLeft(),this.renderMedium(),this.renderRight()))}}]),t}(),f.propTypes={loginUser:k.default.object,tutorialData:k.default.object,submissionData:k.default.object,publishSubmissionData:k.default.object,breadcrumb:k.default.object,isValidSubmissionForm:k.default.bool,defaultThumbnailUrl:k.default.string,submissionRequire:k.default.bool,completed:k.default.bool,submissionCompleted:k.default.bool,recaptchaCode:k.default.string,statsPath:k.default.string,scrollToNext:k.default.func,scrollToStep:k.default.func,navigateToDetailPage:k.default.func,publishSubmission:k.default.func,openSubmissionDetail:k.default.func},d=p))||d)||d)||d);t.default=U},function(e,t){e.exports={"record-button":"record-button_n-fJJ7AP"}},function(e,t){e.exports={button_mark_completed:"button_mark_completed_MQnf",button_mark_incompleted:"button_mark_incompleted_29d6"}},function(e,t){e.exports={"record-button":"record-button_1Rg1dvpP"}},function(e,t){e.exports={button_submission_mark_completed:"button_submission_mark_completed_SxBC",button_submission_mark_incompleted:"button_submission_mark_incompleted_3-7g",button_submission_sign_in:"button_submission_sign_in_3SDM"}},function(e,t){e.exports={"record-button":"record-button_1gB0Wdcu"}},function(e,t){e.exports={button_mark_completed:"button_mark_completed_UTF3",button_restart:"button_restart_3AtP",architecture_button_mark_completed:"architecture_button_mark_completed_YNWS",architecture_button_restart:"architecture_button_restart_uPEU"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),h=s(["comment.drawerIsOpen"],["comment.drawerIsOpen"]),_=s(["comment.closeCommentDrawer"],["comment.closeCommentDrawer"]),g=n(a(2)),v=n(a(0)),y=a(6),b=a(4),w=n(a(1)),E=a(41),S=a(5),O=n(a(3)),k=n(a(671)),T=E.presets.stiff,P=(l=(0,y.decorator)({windowHeight:(0,b.state)(m),open:(0,b.state)(h),closeDrawer:(0,b.signal)(_)}),u=(0,O.default)(k.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onKeyDown=function(e){switch(e.keyCode){case 27:n.onClose()}},n.onClose=function(){var e=n.props.closeDrawer;e&&e()},n.getBackDropStyle=function(e){return{opacity:e.backDropOpacity}},n.getDrawerContainerStyle=function(e){return{transform:"translateX("+((0,S.get)(e,"drawerContainerPosition")||0)+"%)"}},i=a,o(n,i)}return i(t,w.default),p(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown,!0)}},{key:"renderBackDrop",value:function(e){var t=this.props.open,a=e.backDropOpacity;return!t&&a<.1?null:v.default.createElement("div",{className:this.ss("backdrop"),onClick:this.onClose,style:this.getBackDropStyle(e)})}},{key:"renderDrawerContainer",value:function(e){var t=this.props.children;return v.default.createElement("div",{className:this.ss("drawer-container"),style:this.getDrawerContainerStyle(e)},t,v.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},v.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close")})))}},{key:"render",value:function(){var e=this,t=this.props.open,a={backDropOpacity:0,drawerContainerPosition:100},n=void 0;return t&&(n={backDropOpacity:(0,E.spring)(.5,T),drawerContainerPosition:(0,E.spring)(0)}),t||(n={backDropOpacity:(0,E.spring)(0,T),drawerContainerPosition:(0,E.spring)(100)}),v.default.createElement(E.Motion,{defaultStyle:a,style:n},function(t){return v.default.createElement("div",{className:e.ss("drawer-wrap")},e.renderBackDrop(t),e.renderDrawerContainer(t))})}}]),t}(),d.propTypes={open:g.default.bool,windowHeight:g.default.number,closeDrawer:g.default.func,children:g.default.any},d.defaultProps={open:!1},c=f))||c)||c);t.default=P},function(e,t){e.exports={"drawer-wrap":"drawer-wrap_SoOmS7Mg",backdrop:"backdrop_ZACupFvu","drawer-container":"drawer-container_3HcXgi5X","button-close":"button-close_3TlmZZrh"}},function(e,t){e.exports={"comment-head":"comment-head_3o_zdhj_",thumbnail:"thumbnail_1db1gkuX","brief-info":"brief-info_qwZt6R-C",title:"title_116E_Ihi"}},function(e,t){e.exports={"search-results":"search-results_1dzLMZto",results:"results_3OmTY-hq","result-body":"result-body_jWtAQ1Ew",hide:"hide_21jOJj_d","card-wrapper":"card-wrapper_2SwyWQhT",center:"center_1q2V0IeX","empty-body":"empty-body_2nFf6lwE","empty-label":"empty-label_3pBH_o0t","button-clear":"button-clear_dqyLMAxw","loading-container":"loading-container_3OMKH9S6"}},function(e,t){e.exports={search_result_hint:"search_result_hint_12nB",search_result_hint_text:"search_result_hint_text_3Hvk",search_result_empty:"search_result_empty_2pgU",search_in_progress:"search_in_progress_11gk",button_clear:"button_clear_3mpz"}},function(e,t){e.exports={"content-wrapper":"content-wrapper_1IVccL-V","content-container":"content-container_3d5TTXzf",architecture:"architecture_2aN2Nf4V","submission-gallery-title":"submission-gallery-title_w9IbryLu","results-wrapper":"results-wrapper_3CnUAoWy"}},function(e,t){e.exports={submission_gallery:"submission_gallery_2tQy"}},function(e,t){e.exports={"back-to-top":"back-to-top_cExyDpqn","position-absolute":"position-absolute_1KIlTHO1","to-top-button":"to-top-button_3nPg3Uxa",icon:"icon__FXrZ-pg"}},function(e,t){e.exports={"body-wrap":"body-wrap_1rUBHZxY","content-wrap":"content-wrap_1MkKP7u4",withCover:"withCover_1KB_9iw4",content:"content_1CG5f7Xo","loading-wrap":"loading-wrap_YQ7KbsYm",loading:"loading_5K0eiJcW",center:"center_3ugZd2v8","path-stream":"path-stream_1RPS-ZdM","tutorial-steps":"tutorial-steps_7vWFaP4b","step-wrap":"step-wrap_25obB1ab",step:"step_Ha8CdD7M","complete-icon":"complete-icon_1J1R19iR",completed:"completed_3YpdvKTf","button-complete":"button-complete_M9ab-Iop","button-complete-all":"button-complete-all_2XO6W8HL","step-sep":"step-sep_1rr4wPpZ","suggest-solution":"suggest-solution_18KYvEEn","next-panel":"next-panel_3nwiKpDC","panel-body":"panel-body_2GzFykH7",left:"left_2THxZHiA",right:"right_260rKEQW","info-title":"info-title_11VK8Kh9","info-description":"info-description_3vcKHg9N","button-next":"button-next_2I4jDGRV","card-title":"card-title_zU_2_GlX",card:"card_1OLtPJIP"}},function(e,t){e.exports={button_complete_a_step:"button_complete_a_step_256h",button_complete_all_steps:"button_complete_all_steps_32Jt",info_title_course:"info_title_course_3fux",info_title_project:"info_title_project_3_QU",info_title_tutorial:"info_title_tutorial_LS6n",info_title_quiz:"info_title_quiz_1a_q",info_description_course:"info_description_course_2Agv",info_description_project:"info_description_project_CMaj",info_description_tutorial:"info_description_tutorial__S0v",info_description_quiz:"info_description_quiz_19PX",button_next:"button_next_NOh8",card_title:"card_title_QpK_",next_title_project:"next_title_project_2wRa",next_title_tutorial:"next_title_tutorial_8Bkc",next_title_quiz:"next_title_quiz_2rKI",next_description_course:"next_description_course_2LDh",next_description_project:"next_description_project__YvX",next_description_mission:"next_description_mission_1WPd",next_description_pathway:"next_description_pathway__DJR"}},function(e,t){e.exports={"next-panel":"next-panel_Km-VfNZl","panel-body":"panel-body_1mAH_JlH",submission:"submission_3w5cHEJ8",card:"card_1wZd570L","card-title":"card-title_3ofNJ3UP","submission-right":"submission-right_33iRFrHQ",title:"title_36xqtGFr",des:"des_3C27sqSF",captcha:"captcha_22cDYut8","button-wrap":"button-wrap_1H2q99Dz",alink:"alink_3dQyJtC-","next-learn-card":"next-learn-card_1JObZFje"}},function(e,t){e.exports={start_your_submission:"start_your_submission_bh_3",start_your_submission_des:"start_your_submission_des_3g1J",return_to_submission_form:"return_to_submission_form_kG7S",submit_your_work:"submit_your_work_5XdY",submit_your_work_des:"submit_your_work_des_1Qz_",submit_button:"submit_button_3U9n",my_submission:"my_submission_1pkT",next_learn_title:"next_learn_title_1LWb"}},function(e,t){e.exports={"submission-wrapper":"submission-wrapper_2CZkvLOi","premium-wrapper":"premium-wrapper_yCX7I10N","complete-icon":"complete-icon_KPunzDGQ",dark:"dark_3Jp1D7Gx","submission-card":"submission-card_3Rn4glZn","card-content":"card-content_3FWxO7KY","content-des":"content-des_2Zvu75MM",title:"title_2WfZWnkf",small:"small_xlK6OSX2",medium:"medium_1N6zxgyf",des:"des_3_OXu23H",xsmall:"xsmall_1n0EM7fd","featured-button":"featured-button_2-5gnIcd","card-link":"card-link_Evr7Ah2G","card-img":"card-img_3TMdqCgb","collect-wrap":"collect-wrap_29Yn9heQ",author:"author_24r6-QTe","stats-wrapper":"stats-wrapper_2t28pADG","stats-item":"stats-item_OB3ZFyf9",collected:"collected_1I8kLCHJ",icon:"icon_1DaREFuQ","stats-item-view":"stats-item-view_2MbBecUY","button-add-submission":"button-add-submission_MkMcwwSa","button-delete-submission":"button-delete-submission_mm-5_wQh","featured-description-wrap":"featured-description-wrap_368YTvzJ","featured-description":"featured-description_3d1s4Btl",holder:"holder_3tyRgra6","img-holder":"img-holder_2CLviF5o","title-holder":"title-holder_PDJ2nRPK","description-holder":"description-holder_SHu01p5F",top:"top_c14r9DEf"}},function(e,t){e.exports={tooltip_add_featured_submission:"tooltip_add_featured_submission_kczW",tooltip_delete_featured_submission:"tooltip_delete_featured_submission_yYHQ"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLProjectCardInternal=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v,y,b,w,E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),S=n(a(2)),O=n(a(0)),k=n(a(1)),T=a(5),P=n(a(30)),C=n(a(16)),j=n(a(43)),I=n(a(15)),M=n(a(22)),N=a(12),D=n(a(47)),x=n(a(3)),R=n(a(685)),F=n(a(7)),A=n(a(686)),L={normal:{thumbnailWidth:390,thumbnailHeight:220},small:{thumbnailWidth:285,thumbnailHeight:160},xsmall:{thumbnailWidth:265,thumbnailHeight:139},medium:{thumbnailWidth:381,thumbnailHeight:160}},K=(s=(0,x.default)(R.default),l=(0,F.default)(A.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleDetail=function(e){(0,N.pauseEvent)(e);var t=n.props.project,a=(0,T.get)(t,"slug"),r=P.default.DEFAULT_URL+"/p/"+a;(0,D.default)(r)},i=a,o(n,i)}return i(t,k.default),E(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.project,n=t.submission;return O.default.createElement("div",{className:this.ss("webgl-project-card-wrapper")},O.default.createElement("div",{className:this.ss("webgl-project-card")},O.default.createElement("a",{className:this.ss("card-link"),onClick:function(t){return e.handleDetail(t)}},O.default.createElement(q,{submission:n,project:a}))))}}]),t}(),c.propTypes={submission:S.default.object,project:S.default.object},u=d))||u)||u);t.default=K;var q=t.WebGLProjectCardInternal=(f=(0,x.default)(R.default),p=(0,F.default)(A.default),f(m=p((_=h=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getPlayIconSizeByCardSize=function(){var e=n.props.size;return"small"===e||"xsmall"===e?"small":"medium"},i=a,o(n,i)}return i(t,k.default),E(t,[{key:"renderCardImg",value:function(){var e=this.props||{},t=e.project,a=e.size,n=(0,T.get)(t,"thumbnail.url")||"",r=(0,T.get)(L,[a,"thumbnailHeight"]),o=(0,T.get)(L,[a,"thumbnailWidth"]),i=this.getPlayIconSizeByCardSize();return n?O.default.createElement("div",{className:this.ss("card-img")},O.default.createElement(C.default,{src:n,sizes:o+"px",height:r,width:o}),O.default.createElement("div",{className:this.ss("webgl-play-icon-wrap",i)},O.default.createElement(I.default,{size:i,label:O.default.createElement("div",{className:this.ss("webgl-play-icon")},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-socialicons-unity")}),this.__("webgl_play"))}))):O.default.createElement("div",{className:this.ss("img-holder"),style:{paddingBottom:100*r/o+"%"}})}},{key:"renderDescription",value:function(){var e=this.props,t=e.project,a=e.submission,n=(0,T.get)(a,"published"),r=(0,T.get)(a,"additionalDescription")||(0,T.get)(t,"description")||"";return n||r?O.default.createElement(M.default,{type:"dark",delay:1e3,position:"bottom-left",text:r},O.default.createElement("div",{className:this.ss("des")},r)):O.default.createElement("div",{className:this.ss("description-holder")},O.default.createElement("div",{className:this.ss("holder","top")}),O.default.createElement("div",{className:this.ss("holder","bottom")}))}},{key:"renderAuthor",value:function(){var e=this,t=this.props,a=t.size,n=t.project,r=n.userId,o=n.teamId,i=n.ownerType,s=(0,T.get)(n,"userMap")||{},l=(0,T.get)(n,"teamMap")||{},u="team"===i,c="small"===a||"xsmall"===a,d=void 0,f=void 0,p=void 0;if(u){d=(0,T.get)(l,o)||{};var m=(0,T.get)(d,"id")||"",h=(0,T.get)(d,"name")||"";f="/t/"+m,p=h}else{d=(0,T.get)(s,r)||{};var _=(0,T.get)(d,"id")||"",g=(0,T.get)(d,"fullName")||(0,T.get)(d,"name")||"";f="/u/"+_,p=g}return O.default.createElement("div",{className:this.ss("author")},O.default.createElement("button",{className:this.ss("author-button",!f&&"label"),onClick:function(t){return e.onClick(t,f)}},O.default.createElement(j.default,{user:d,size:"xxxsmall"}),!c&&O.default.createElement("div",{className:this.ss("author-name")},p)))}},{key:"render",value:function(){var e=this.props||{},t=e.project,a=e.theme,n=e.size,r=(0,T.get)(t,"title"),o=(0,T.get)(t,"playCount")||0,i=(0,T.get)(t,"viewCount")||0,s=(0,T.get)(t,"likeCount")||0;return O.default.createElement("div",{className:this.ss("webgl-project-content",a,n)},this.renderCardImg(),O.default.createElement("div",{className:this.ss("card-content")},O.default.createElement("div",{className:this.ss("content-des")},O.default.createElement("div",{className:this.ss("title")},r||O.default.createElement("div",{className:this.ss("holder","title-holder")})),this.renderDescription()),O.default.createElement("div",{className:this.ss("card-author-stats")},this.renderAuthor(),O.default.createElement(z,{playCount:o,viewCount:i,likeCount:s}))))}}]),t}(),h.propTypes={submission:S.default.object,project:S.default.object,size:S.default.oneOf(["xsmall","small","normal","medium"]),theme:S.default.oneOf(["default","dark"])},h.defaultProps={theme:"default",size:"normal"},m=_))||m)||m),z=(g=(0,x.default)(R.default),v=(0,F.default)(A.default),g(y=v((w=b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,k.default),E(t,[{key:"render",value:function(){var e=this.props,t=e.playCount,a=e.viewCount,n=e.likeCount;return O.default.createElement("div",{className:this.ss("stats-wrapper"),onClick:this.on},O.default.createElement("div",{className:this.ss("stats-item","stats-item-play")},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-socialicons-unity")}),(0,N.formatNumber)(t)),O.default.createElement("div",{className:this.ss("stats-item","stats-item-view")},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn-icon-eye")}),(0,N.formatNumber)(a)),O.default.createElement("div",{className:this.ss("stats-item")},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-heart-o")}),(0,N.formatNumber)(n)))}}]),t}(),b.propTypes={playCount:S.default.number,viewCount:S.default.number,likeCount:S.default.number},y=w))||y)||y)},function(e,t){e.exports={"webgl-project-card-wrapper":"webgl-project-card-wrapper_1yN276zS","webgl-project-content":"webgl-project-content_2kIY1ocI",dark:"dark_qpEPUZhk","card-content":"card-content_2xTZYdfp","content-des":"content-des_ux0pB3SU",title:"title_30J68dP-",small:"small_2b_gsM2a",medium:"medium_1bnxTfVP",des:"des_3xNrkJDw",xsmall:"xsmall_35EC5faT","webgl-project-card":"webgl-project-card_3OFvo41b","card-link":"card-link_I-F39_bx","card-img":"card-img_3a4oIeJM","collect-wrap":"collect-wrap_3ZCqcyod","card-author-stats":"card-author-stats_3bEyfj84","stats-wrapper":"stats-wrapper_2kkJOVLA","stats-item":"stats-item_3VgZggdi",collected:"collected_3-2MFGaD",icon:"icon_1_IpZC99","stats-item-play":"stats-item-play_IL7Ja3Sd","stats-item-view":"stats-item-view_1zq9HIrK",holder:"holder_1avmoUjw","img-holder":"img-holder_bEM7H2OG","title-holder":"title-holder_1SYxRjTm","description-holder":"description-holder_ETXhfXHY",top:"top_1Oi9wtCz",author:"author_293ufahv","author-button":"author-button_2Oe7cLTQ",label:"label_3yYSt3qh","author-name":"author-name_tDtolv6h","webgl-play-icon-wrap":"webgl-play-icon-wrap_PR6ynn17","webgl-play-icon":"webgl-play-icon_owrS6EBA"}},function(e,t){e.exports={webgl_play:"webgl_play_27jB"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["locale"],["locale"]),g=s(["currentHost"],["currentHost"]),v=s(["search"],["search"]),y=s(["featured"],["featured"]),b=s(["tutorialData"],["tutorialData"]),w=s(["featured.deleteFeaturedSubmissionConfirm"],["featured.deleteFeaturedSubmissionConfirm"]),E=n(a(2)),S=n(a(0)),O=n(a(1)),k=a(6),T=a(4),P=a(5),C=n(a(15)),j=a(74),I=a(9),M=n(a(3)),N=n(a(688)),D=n(a(7)),x=n(a(689)),R=(l=(0,k.decorator)({locale:(0,T.state)(_),currentHost:(0,T.state)(g),search:(0,T.state)(v),featured:(0,T.state)(y),tutorialData:(0,T.state)(b),deleteFeaturedSubmission:(0,T.signal)(w)}),u=(0,M.default)(N.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getFeaturedContent=function(){var e=n.props.featured;return(0,P.get)(e,["listMap",(0,P.get)(e,"listName")])||{}},n.handleDeleteFeature=function(e){var t=e.id,a=e.stepId,r=n.props.deleteFeaturedSubmission;r&&r({id:t,stepId:a})},n.handleBrowserGallery=function(){var e=n.props.scrollToGallery;e&&e()},n.checkFeaturedSection=function(){var e=n.props||{},t=e.tutorialData,a=e.search,r=(0,P.get)(t,"editable"),o=(0,P.get)(t,"isExercise"),i=(0,P.get)(t,"submissionStepId"),s=(0,P.get)(a,"results")||[],l=n.getFeaturedContent(),u=(0,P.get)(l,"contentIds")||[];return!(0===u.length&&!r||!o||!i)&&(u.length>0||(!r||0!==s.length))},i=a,o(n,i)}return i(t,O.default),h(t,[{key:"renderFeaturedHint",value:function(){var e=(this.props||{}).tutorialData;return(0,P.get)(e,"editable")?S.default.createElement("div",{className:this.ss("section-hint")},this.__("feature_submission_hint")):null}},{key:"renderContent",value:function(){var e=this,t=this.props||{},a=t.tutorialData,n=t.search,r=t.statsPath,o=(0,P.get)(a,"editable"),i=(0,P.get)(n,"results")||[],s=this.getFeaturedContent(),l=(0,P.get)(s,"contentIds")||[],u=(0,P.get)(s,"contentMap")||{},c=l.slice(0,2).map(function(t){var a=(0,I.GetDataByItemId)(m({itemId:t},u))||{},n=(0,P.get)(a,"id");return S.default.createElement("div",{key:"featured-item-"+n,className:e.ss("card-wrap")},S.default.createElement(j.SubmissionCard,{submission:a,type:"featured",statsPath:r,onDeleteFeature:o?e.handleDeleteFeature:void 0}))});return c.length<2&&o&&i.length>0&&c.push(S.default.createElement("div",{key:"featured-item-new",className:this.ss("card-wrap")},S.default.createElement("div",{className:this.ss("submission-holder")},S.default.createElement("div",{className:this.ss("title")},this.__("additional_submission_title")),S.default.createElement("div",{className:this.ss("des")},this.__("additional_submission_des")),S.default.createElement("div",{className:this.ss("browser-button")},S.default.createElement(C.default,{label:this.__("button_browser_gallery"),onClick:this.handleBrowserGallery}))))),S.default.createElement("div",{className:this.ss("content")},c)}},{key:"renderViewGallery",value:function(){var e=this.props||{},t=e.tutorialData,a=e.search,n=(0,P.get)(a,"results")||[];return(0,P.get)(t,"editable")||0===n.length?null:S.default.createElement("div",{className:this.ss("view-gallery")},S.default.createElement("button",{className:this.ss("button"),onClick:this.handleBrowserGallery},this.__("view_gallery")))}},{key:"render",value:function(){var e=(this.props||{}).theme;return this.checkFeaturedSection()?S.default.createElement("div",{className:this.ss("submission-featured-section",e)},S.default.createElement("div",{className:this.ss("section-title")},this.__("featured_submission_title")),this.renderFeaturedHint(),this.renderContent(),this.renderViewGallery()):null}}]),t}(),f.propTypes={theme:E.default.oneOf(["default","dark"]),currentHost:E.default.string,locale:E.default.string,search:E.default.object,featured:E.default.object,tutorialData:E.default.object,statsPath:E.default.string,scrollToGallery:E.default.func,deleteFeaturedSubmission:E.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=R},function(e,t){e.exports={"submission-featured-section":"submission-featured-section_1VSLyOBx","section-title":"section-title_6RfOSkXX","section-hint":"section-hint_1jr0zZnB",content:"content_1ClGO9YD","card-wrap":"card-wrap_25RIW-ei","submission-holder":"submission-holder_2Lwch8P7",title:"title_1JFaTS8S",des:"des_qbI-Lqgc","browser-button":"browser-button_2MYrF3sZ","view-gallery":"view-gallery_RTevdT2Q",button:"button_1I3yVSj_"}},function(e,t){e.exports={featured_submission_title:"featured_submission_title_1d_I",feature_submission_hint:"feature_submission_hint_IpKz",additional_submission_title:"additional_submission_title_MWyi",additional_submission_des:"additional_submission_des_3H7r",button_browser_gallery:"button_browser_gallery_2YDe",view_gallery:"view_gallery_mEV8"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["submissionData"],["submissionData"]),g=s(["httpAPI.",""],["httpAPI.",""]),v=s(["submission.addWebGLProject.webGLProject"],["submission.addWebGLProject.webGLProject"]),y=s(["submission.addWebGLProject.webGLProjectUrl"],["submission.addWebGLProject.webGLProjectUrl"]),b=s(["submission.changeAddWebGLProjectUrl"],["submission.changeAddWebGLProjectUrl"]),w=s(["submission.getWebGLProject"],["submission.getWebGLProject"]),E=s(["submission.clearWebGLProject"],["submission.clearWebGLProject"]),S=n(a(2)),O=n(a(0)),k=n(a(1)),T=a(4),P=a(5),C=a(6),j=n(a(34)),I=a(74),M=a(8),N=a(20),D=a(12),x=n(a(3)),R=n(a(691)),F=n(a(7)),A=n(a(692)),L=(l=(0,C.decorator)({submissionData:(0,T.state)(h),getWebGLProjectData:(0,T.state)(g,M.POST_WEBGL_PROJECT),webGLProject:(0,T.state)(v),webGLProjectUrl:(0,T.state)(y),changeAddWebGLProjectUrl:(0,T.signal)(b),getWebGLProject:(0,T.signal)(w),clearWebGLProject:(0,T.signal)(E)}),u=(0,x.default)(R.default),c=(0,F.default)(A.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPaste=function(e){e&&(0,D.pauseEvent)(e);var t=(e.clipboardData||window.clipboardData).getData("Text");n.onChange(_,t),n.onGetWebGLProject(t)},n.onKeyDown=function(e){13===e.keyCode&&n.onGetWebGLProject()},n.onGetWebGLProject=function(e){var t=n.props,a=t.disabled,r=t.getWebGLProject;if(!a){var o=n.props.webGLProjectUrl;e&&(o=e),r&&r({webGLProjectUrl:o})}},n.onChange=function(e,t){n.props.changeAddWebGLProjectUrl({webGLProjectUrl:t})},n.removeWebGLProject=function(){var e=n.props,t=e.clearWebGLProject,a=e.onChange,r=e.onSave;t&&t(),a&&a(null),r&&r(null)},i=a,o(n,i)}return i(t,k.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,P.get)(e,"webGLProject")||{},a=(0,P.get)(this.props,"webGLProject")||{},n=this.props,r=n.onChange,o=n.onSave,i=(0,P.get)(a,"id"),s=(0,P.get)(t,"id");s&&s!==i&&(r&&r(t),o&&o(t))}},{key:"renderLoading",value:function(){return O.default.createElement("div",{className:this.ss("loading-wrap")},O.default.createElement("div",{className:this.ss("loading")}))}},{key:"renderInput",value:function(){var e=this.props,t=e.value,a=e.disabled,n=e.webGLProjectUrl,r=e.getWebGLProjectData,o=(0,N.isLoading)((0,P.get)(r,"updateStatus"));return t||Object.keys(t||{}).length>0?null:O.default.createElement("div",{className:this.ss("input-wrapper")},O.default.createElement(j.default,{theme:"transparent",size:"medium",placeholder:this.__("input_webgl_url_placeholder"),value:n,disabled:a||o,onChange:this.onChange,onPaste:this.onPaste,onKeyDown:this.onKeyDown}),o&&this.renderLoading())}},{key:"renderPreview",value:function(){var e=this.props,t=e.value,a=e.submissionData;return t&&0!==Object.keys(t||{}).length?O.default.createElement("div",{className:this.ss("webgl-project-preview")},O.default.createElement(I.WebGLProjectCard,{submission:a,project:t}),this.renderRemove()):null}},{key:"renderRemove",value:function(){var e=this,t=this.props.disabled;return t?null:O.default.createElement("div",{className:this.ss("remove-button-wrap",t&&"disabled")},O.default.createElement("button",{className:this.ss("remove-button"),onClick:function(){return e.removeWebGLProject()}},O.default.createElement("div",{className:this.ss("remove-icon","ifont","ifont-icons-trash")}),this.__("button_remove_game")))}},{key:"render",value:function(){return O.default.createElement("div",{className:this.ss("add-webgl-project")},this.renderInput(),this.renderPreview())}}]),t}(),f.propTypes={disabled:S.default.bool,value:S.default.object,submissionData:S.default.object,getWebGLProjectData:S.default.object,webGLProject:S.default.object,webGLProjectUrl:S.default.string,onChange:S.default.func,onSave:S.default.func,changeAddWebGLProjectUrl:S.default.func,getWebGLProject:S.default.func,clearWebGLProject:S.default.func},d=p))||d)||d)||d);t.default=L},function(e,t){e.exports={"add-webgl-project":"add-webgl-project_3SRHoov_","input-wrapper":"input-wrapper_145lhc9Y","loading-wrap":"loading-wrap_2MzORI8O",loading:"loading_12Xb85fS",error_message:"error_message_1NuHB28V","remove-button-wrap":"remove-button-wrap_3KWKoaSm","remove-button":"remove-button_3PK-Sack","remove-icon":"remove-icon_3CoG2OEC"}},function(e,t){e.exports={input_webgl_url_placeholder:"input_webgl_url_placeholder_useP",button_remove_game:"button_remove_game_Gih_"}},function(e,t){e.exports={container:"container_1nJHkauV","submission-detail":"submission-detail_3y9CsKPC","loading-wrap":"loading-wrap_3Z3yjD1W",loading:"loading_6BQz0P7-",close:"close_Qq0UiLWV","button-close":"button-close_3VMl7fmC",icon:"icon_dxXbwNgj",featured:"featured_2j-miCj-","button-feature-this":"button-feature-this_2mdVENtz","no-detail":"no-detail_1vv6dBH4","featured-form":"featured-form_1U9makXk",form:"form_16kvp5Vn","field-description":"field-description_RKi7daZQ",label:"label_2pxgBPe9","text-area-input":"text-area-input_zaeAIUc9","render-only":"render-only_1k8ED-yU"}},function(e,t){e.exports={views:"views_1oeS",button_feature_this:"button_feature_this_-JjM",button_save:"button_save_1aL3",field_title_description:"field_title_description_1jpS",field_description_placeholder:"field_description_placeholder_26fu"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){var a=e.get([].concat(S,["listName"]));a&&e.set([].concat(S,["listMap",a]),t)}function i(e){return{description:e.get(O).description.value}}function s(e,t){var a=e.get("tutorialData"),n=(0,g.get)(a,"id"),r=(0,g.get)(a,"type"),o=(0,g.get)(t,"id");return{id:n,type:r,sectionId:(0,g.get)(t,"stepId"),itemId:(0,y.GetItemIdByType)({id:o,type:E.DataTypeKeys.submission})}}function l(e){var t=e.get(O);return!!((0,g.get)(t,"description.value")||"").trim()&&(0,_.isValidForm)(t)}function u(e,t){var a=f(d(e,(0,g.get)(t,"id"))),n=e.get(O);return Object.keys(n).every(function(e){return a[e].value===n[e].value})}function c(e){return[function(t){var a=t.props;return{field:[].concat(O,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(_.chains.fieldChanged),[_.chains.validate])}function d(e,t){var a=e.get(S)||{},n=(0,g.get)(a,"listName"),r=(0,g.get)(a,["listMap",n])||{};return(0,g.get)(r,"contentMap.listItemMap."+t)}function f(e){return(0,_.Form)({description:{value:(0,g.get)(e,"description",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}function p(e){var t=e.state;t.get([].concat(S,["featuredFormShow"]))||t.set([].concat(S,["featuredFormShow"]),!0)}function m(e){var t=e.controller.getSignal("submission.closeSubmissionDetail");t&&t()}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.submissionFormSaveStatus=u,t.ClearFeatured=function(e){e.set([].concat(S,["featuredFormShow"]),!1),e.set([].concat(S,["featuredForm"]),f({}))};var _=a(13),g=a(5),v=a(11),y=a(9),b=n(a(17)),w=n(a(36)),E=a(8),S=["featured"],O=["featured","featuredForm"],k={schema:E.POST_FEATURED_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/featured/saveLearnList",params:h({},i(t),s(t,a))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(o(n,a),m({controller:r}))},onError:(0,y.onError)("featured")},T={schema:E.DELETE_FEATURED_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/featured/saveLearnList/delete",params:s(e.state,e.props)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&o(n,a)},onError:(0,y.onError)("featured")},P=[function(){return{formPath:O}}].concat(r(_.chains.formValidated),[function(e){var t=e.state,a=e.props,n=e.path;return u(t,a)?n.no():n.yes()},{yes:(0,v.CallHTTP)(k),no:[]}]);t.default={name:e,depends:[],signals:{changeFormField:c(),changeDescription:c("description"),showFeaturedForm:w.default.LoginRequired([p]),checkFormStatus:[function(e){var t=e.state;l(t)?t.set([].concat(S,["isValidFeaturedForm"]),!0):t.set([].concat(S,["isValidFeaturedForm"]),!1)}],saveForm:w.default.LoginRequired(P),openSubmissionWithFeatured:[function(e){var t=e.state,a=e.props,n=(0,g.get)(a,"id"),r=(0,g.get)(a,"showFeaturedForm"),o=d(t,n);if(o){p({state:t});var i=f(o);t.set(O,(0,_.Form)(i))}r&&p({state:t})},function(e){var t=e.props,a=e.controller,n=a.getSignal("submission.openSubmissionDetail"),r=a.getSignal("submission.syncToLocation");n&&n(t),r&&r(t)}],deleteFeaturedSubmissionConfirm:[b.default.DeleteConfirmed("featured.deleteFeaturedSubmission")],deleteFeaturedSubmission:w.default.LoginRequired((0,v.CallHTTP)(T))},getServices:function(){return{}},getState:function(){return{featuredForm:f({}),featuredFormShow:!1}}}}).call(t,"views/learn/modules/submission/SubmissionFeaturedStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(732)).default];t.default={report:n}},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.state,a=e.result,n=e.controller,r={},o=t.get([].concat(m,["itemId"]));if(o){r[o]=a;var i=l({},t.get("adminComment.reportStatsMap")||{}),s=(0,u.get)(i,o)||{},c=r[o].reasons[0].type;if(s.flagCount>0)s.flagCount+=1,s.reasonCount[c]=((0,u.get)(s,"reasonCount."+c)||0)+1,i[o]=s;else{var f={};f[c]=1;var h={flagCount:1,reasonCount:f};i[o]=h}t.merge(["adminComment","reportStatsMap"],i),t.merge(["adminComment","reportMap"],r)}t.merge(["learner","reportMap"],r),t.merge(["submission","submissionDialog","submissionData","comment","reportMap"],r);var _=n.getSignal("header.sendCDPRequest");if(_){var g=t.get([].concat(m,["channelId"])),v=t.get([].concat(m,["parentMessageId"])),y=(0,d.GetSendMessageCDPParams)(t,g,o,v);y.interactionType=p.InteractionTypes.flagged,_({type:p.CDPLearnType.interaction,eventType:p.EventType.learn,data:y})}}function o(e){var t=e.state,a=e.result,n={};n[t.get([].concat(m,["itemId"]))]=a,t.merge(["learner","reportMap"],n)}function i(e){var t=e.state;t.set([].concat(m),l({},h)),t.set("adminComment.inputValues",{})}function s(e){var t=e.get([].concat(m,["reportType"])),a=e.get([].concat(m,["itemId"])),n=e.get([].concat(m,["selects"]))||[],r=e.get([].concat(m,["inputValue"]))||"";return{type:t,itemId:a,reasons:n.map(function(e){var t="";return e===p.CommentReportType.other&&(t=r.trim()),{type:e,content:t}})}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=a(5),c=function(e){return e&&e.__esModule?e:{default:e}}(a(36)),d=a(9),f=a(11),p=a(8),m=["report","reportDialog"],h={reportStatus:"",open:!1,reportType:"",itemId:"",itemData:{},selects:[],inputValue:""},_={schema:p.POST_REPORT,request:{method:"post",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/report",params:s(e.state)}},onSuccess:function(e){var t=e.status,a=e.state,n=e.result,i=e.controller;if(200===t&&n){var s=a.get([].concat(m,["reportType"]));switch(a.set([].concat(m,["reportStatus"]),"submitted"),s){case p.ReportTypes.message:r({state:a,result:n,controller:i});break;case p.ReportTypes.submission:o({state:a,result:n,controller:i})}}},onError:(0,d.onError)("report")};t.default={name:e,depends:[],signals:{openReportDialog:c.default.LoginRequired([function(e){var t=e.state,a=e.props,n=(0,u.get)(a,"reportStatus")||"initial",r=(0,u.get)(a,"admin")||!1,o=(0,u.get)(a,"channelId")||"",i=(0,u.get)(a,"itemId")||"",s=(0,u.get)(a,"parentMessageId")||"",l=(0,u.get)(a,"itemData")||{},c=(0,u.get)(a,"type")||"message",d=(0,u.get)(a,"dataType")||"";t.merge(m,{open:!0,reportStatus:n,admin:r,reportType:c,channelId:o,itemId:i,parentMessageId:s,itemData:l,dataType:d})}]),closeReportDialog:[i],changeReportValue:[function(e){var t=e.state,a=e.props,r=a.type,o=a.value;if("radio"===r&&((t.get([].concat(m,["selects"]))||[]).includes(o)?t.set([].concat(m,["selects"]),[]):t.set([].concat(m,["selects"]),[o])),"checkbox"===r){var i=t.get([].concat(m,["selects"]))||[];i.includes(o)?t.set([].concat(m,["selects"]),i.filter(function(e){return e!==o})):t.set([].concat(m,["selects"]),[].concat(n(i),[o]))}"input"===r&&t.set([].concat(m,["inputValue"]),o)}],createReport:c.default.LoginRequired((0,f.CallHTTP)(_)),closeReportByAdmin:[function(e){var t=e.state,a=e.controller,n=s(t),r=a.getSignal("adminReportStats.closeReportStats");if(r){var o=(0,u.get)(n,"itemId"),i=(0,u.get)(n,"reasons")||[];r({id:o,action:p.ModeratorActionType.ban,reason:i[0]})}},i],undoReportByAdmin:[function(e){var t=e.state,a=e.controller.getSignal("adminReportStats.undoReportStats");a&&a({id:t.get([].concat(m,["itemData","id"])),action:p.ModeratorActionType.undo})},i],undoCommentAdmin:[function(e){var t=e.state,a=e.controller.getSignal("adminComment.undoCommentStats");a&&a({id:t.get([].concat(m,["itemData","id"])),action:p.ModeratorActionType.undo})},i],undoSubmissionAdmin:[function(e){var t=e.state,a=e.controller.getSignal("adminSubmission.undoSubmissionStats");a&&a({id:t.get([].concat(m,["itemData","id"])),action:p.ModeratorActionType.undo})},i],deleteCommentAction:[function(e){var t=e.state,a=e.controller,n=s(t),r=t.get([].concat(m,["admin"])),o=t.get([].concat(m,["dataType"])),i="comment.deleteCommentInternal";r&&(i="adminComment.deleteComment");var l=a.getSignal(i);l&&l({dataType:o,messageId:t.get([].concat(m,["itemId"])),succeedSignal:"report.closeReportDialog",reason:((0,u.get)(n,"reasons")||[])[0]})}],deleteSubmissionAction:[function(e){var t=e.state,a=e.controller,n=s(t),r="comment.deleteCommentInternal";t.get([].concat(m,["admin"]))&&(r="adminSubmission.deleteSubmission");var o=a.getSignal(r);o&&o({submissionId:t.get([].concat(m,["itemId"])),succeedSignal:"report.closeReportDialog",reason:((0,u.get)(n,"reasons")||[])[0]})}]},getState:function(){return{reportDialog:l({},h)}}}}).call(t,"views/learn/modules/report/ReportDialogStore.js")},,,function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.state,a=e.result;t.set("submissionData",a)}function i(e){var t=e.state,a=e.result,n=(0,h.get)(a,"id"),r=(0,h.get)(a,"type"),o=(0,h.get)(a,"permission"),i=(0,h.get)(a,"statsMap"),s=t.get("search.results")||[],l=t.get("search.total")||0;if(s.length===l){var u={highlightName:"",submission:a,type:r},c=s.filter(function(e){return(0,h.get)(e,r+".id")!==n});o===E.SubmissionPermissionType.public&&c.push(u),t.set("search.results",c),t.set("search.total",c.length),t.merge("search.statsMap",i)}}function s(e,t){var a=(t||{}).submissionType,n=e.get("tutorialData"),r=(0,h.get)(n,"id");return{submissionType:a,id:(0,h.get)(n,"submissionStepId"),type:(0,h.get)(n,"type"),tutorialId:r}}function l(e){var t=e.get(k),a={title:t.title.value,permission:t.permission.value},n=(0,y.parseEditorContent)(e,T).body;if(!n){var r=e.get("submissionData");n=(0,h.get)(r,"description")}n&&(a.description=n);var o=(0,h.get)(t,"mediaContents.value")||[];return o.length>0&&(a.mediaContentIds=o.map(function(e){return e.id})),a}function u(e){return[function(t){var a=t.props;return{field:[].concat(k,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(m.chains.fieldChanged),[m.chains.validate])}function c(e){var t=e.get(k),a=((0,h.get)(t,"title.value")||"").trim();return!(!((0,h.get)(t,"description.value")||"").trim()||!a)&&(0,m.isValidForm)(t)}function d(e){var t=f(e.get("submissionData")),a=e.get(k);return Object.keys(a).every(function(e){switch(e){case"mediaContents":return(0,v.default)(e,t,a);case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function f(e){var t=(0,h.get)(e,"description")||"",a=t?(0,b.convertFromRaw)(JSON.parse(t)).getPlainText():"",n={};return n.title={value:(0,h.get)(e,"title",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},n.description={value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},n.permission={value:(0,h.get)(e,"permission",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},n.mediaContents={value:(0,h.get)(e,"mediaContents")||[],validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},(0,m.Form)(n)}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.ConvertCommonParams=s,t.submissionFormSaveStatus=d,t.UploadRecord=function(e){var t=e.props,a=e.controller,n=t.upload,r=a.getSignal("upload.uploadRecord");r&&r({upload:n})};var m=a(13),h=a(5),_=a(11),g=a(9),v=n(a(23)),y=a(21),b=a(10),w=a(736),E=a(8),S=n(a(388)),O=n(a(36)),k=["submission","submissionForm"],T="submissionFormEditorKey",P={schema:E.POST_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("submissionData")||{};return{endpoint:"/api/learn/submission/"+((0,h.get)(n,"id")||0)+"/save",params:p({},l(t),s(t,a))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&o({state:n,result:a})},onError:(0,g.onError)("submission")},C={schema:E.PUBLISH_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("submissionData")||{},r=(0,h.get)(n,"id")||0,o=(0,h.get)(n,"submissionType"),i="/api/learn/submission/"+r+"/publish",u=s(t,p({},a,{submissionType:o}));return o===E.SubmissionTypes.media&&Object.assign(u,l(t)),o===E.SubmissionTypes.webgl&&Object.assign(u,(0,w.ConvertWebGLFormParams)(t)),{endpoint:i,params:u,headers:S.default.getRequestHeaderOption(t).headers}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&(o({state:n,result:a}),i({state:n,result:a}))},onError:function(e){var t=e.result,a=e.controller,n=(t||{}).errorCode;S.default.recaptchaError(n,a)||(0,g.onError)("submission")}},j=[function(){return{formPath:k}}].concat(r(m.chains.formValidated),[function(e){var t=e.state,a=e.path;return d(t)?a.no():a.yes()},{yes:(0,_.CallHTTP)(P),no:[]}]);t.default={name:e,depends:[],signals:{changeFormField:u(),changeDescriptionField:u("description"),saveForm:O.default.LoginRequired([function(e){var t=e.props,a=e.controller,n=t.submissionType,r=void 0;n===E.SubmissionTypes.media&&(r=a.getSignal("submission.saveMediaForm")),n===E.SubmissionTypes.webgl&&(r=a.getSignal("submission.saveWebGLForm")),r&&r(t)}]),saveMediaForm:j,publishSubmission:O.default.LoginRequired((0,_.CallHTTP)(C)),checkFormStatus:[function(e){var t=e.state;c(t)?t.set("submission.isValidSubmissionForm",!0):t.set("submission.isValidSubmissionForm",!1)}]},getServices:function(){return{}},getState:function(e){return{submissionForm:f(e.submissionData)}}}}).call(t,"views/learn/modules/submission/SubmissionFormStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.state,a=e.result;t.set("submissionData",a)}function o(e){var t=e.get(_);return{webGLProjectId:(0,d.get)(t,"webGLProject.value.id")||"",additionalDescription:t.additionalDescription.value,permission:t.permission.value}}function i(e){var t=e.get(_);return(0,c.isValidForm)(t)}function s(e){var t=l(e.get("submissionData")),a=e.get(_);return Object.keys(a).every(function(e){return"webGLProject"===e?((0,d.get)(a,"webGLProject.value.id")||"")===((0,d.get)(t,"webGLProject.value.id")||""):t[e].value===a[e].value})}function l(e){var t={};return t.webGLProject={value:(0,d.get)(e,"webGLProject")||null,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},t.additionalDescription={value:(0,d.get)(e,"additionalDescription","")},t.permission={value:(0,d.get)(e,"permission",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},(0,c.Form)(t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.ConvertWebGLFormParams=o,t.submissionFormSaveStatus=s;var c=a(13),d=a(5),f=a(11),p=a(9),m=a(8),h=a(735),_=["submission","submissionWebGLForm"],g={schema:m.POST_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("submissionData")||{};return{endpoint:"/api/learn/submission/"+((0,d.get)(n,"id")||0)+"/save",params:u({},o(t),(0,h.ConvertCommonParams)(t,a))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&r({state:n,result:a})},onError:(0,p.onError)("submission")},v=[function(){return{formPath:_}}].concat(n(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(g),no:[]}]);t.default={name:e,depends:[],signals:{changeWebGLFormField:function(e){return[function(t){var a=t.props;return{field:[].concat(_,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}(),saveWebGLForm:v,uploadWebGL:[function(e){var t=e.state,a=e.props,n=e.path;return t.get("submissionData")?n.no(a):n.yes(a)},{yes:[].concat(n((0,f.CallHTTP)(u({},g,{onSuccess:function(e){var t=e.state,a=e.result,n=e.props,o=e.controller;r({state:t,result:a}),(0,h.UploadRecord)({props:n,controller:o})}})))),no:[h.UploadRecord]}],checkWebGLFormStatus:[function(e){var t=e.state;i(t)?t.set("submission.isValidSubmissionForm",!0):t.set("submission.isValidSubmissionForm",!1)}]},getServices:function(){return{}},getState:function(e){return{submissionWebGLForm:l(e.submissionData)}}}}).call(t,"views/learn/modules/submission/SubmissionWebGLFormStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(14)(870)},function(e,t,a){e.exports=a(14)(850)},function(e,t,a){e.exports=a(14)(849)},function(e,t,a){e.exports=a(14)(848)},function(e,t,a){e.exports=a(14)(847)},function(e,t,a){e.exports=a(14)(846)},function(e,t,a){e.exports=a(14)(845)},function(e,t,a){e.exports=a(14)(844)},function(e,t,a){e.exports=a(14)(843)},function(e,t,a){e.exports=a(14)(842)},function(e,t,a){e.exports=a(14)(841)},function(e,t,a){e.exports=a(14)(825)},function(e,t,a){e.exports=a(14)(824)},function(e,t,a){e.exports=a(14)(823)},function(e,t,a){e.exports=a(14)(822)},function(e,t,a){e.exports=a(14)(821)},,,function(e,t,a){"use strict";(function(e){function n(e){var t=e.getSignal("common.closeShareSubmissionDialog");t&&t()}Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),o=a(11),i=a(8),s=a(9),l=a(730),u=["submission","submissionDialog"],c={schema:i.GET_SUBMISSION_DETAIL,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.props,a="/api/learn/submission/"+(0,r.get)(t,"id"),n={};return!0===((0,r.get)(t,"preview")||!1)&&(n.preview=!0),{endpoint:a,params:n}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var o=(0,r.get)(a,"submissionData");n.set([].concat(u,["submissionData"]),o);var i=(0,r.get)(o,"statsMap"),s=(0,r.get)(o,"reportMap");n.merge("search.statsMap",i),n.merge("learner.reportMap",s);var l=(0,r.get)(a,"submissionCommentData")||{};n.set(["submissionCommentData"],l);var c=(0,r.get)(o,"channelId")||"",d=(0,r.get)(l,"commentMap."+c+".likeMap")||{},f=(0,r.get)(l,"commentMap."+c+".reportMap")||{};n.merge("learner.likeMap",d),n.merge("learner.reportMap",f)}},onError:function(e){var t=e.result,a=e.controller,n=a.getSignal("submission.closeSubmissionDetail");n&&n(),(0,s.onError)("submission_detail")({result:t,controller:a})}},d=[function(e){var t=e.state,a=e.props,n=e.path,o=(0,r.get)(a,"id"),i=t.get([].concat(u,["currentSubmissionId"]));return o&&o!==i?(t.set([].concat(u,["currentSubmissionId"]),o),n.yes()):n.no()},{yes:[function(e){e.state.set([].concat(u,["show"]),!0)}].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}((0,o.CallHTTP)(c))),no:(0,s.onError)("submission")}];t.default={name:e,depends:[],signals:{openSubmissionDetail:d,closeSubmissionDetail:[function(e){var t=e.state,a=e.controller,r=e.submission;t.set(u,{show:!1}),(0,l.ClearFeatured)(t),n(a),r.backToHistory&&r.backToHistory()}],jumpToMessage:[function(e){var t=e.controller,a=e.props.dataType;t.getSignal("comment.jumpToMessage")({dataType:a})}]},getServices:function(){},getState:function(){return{submissionDialog:{show:!1,currentSubmissionId:""}}}}}).call(t,"views/learn/modules/submission/SubmissionStore.js")},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(802)).default];t.default={comment:n}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e,t){var a=e.state,n=e.props,r=a.get([].concat(j,["currentEditId"])),i=(0,b.get)(n,"messageId")||"",s=(0,b.get)(n,"channelId")||"",l=n.parentMessageId;if(r!==i&&i){var u=[];l&&(u=a.get([].concat(o(t),[s,"replyMap",l,"items"]))),l||(u=a.get([].concat(o(t),[s,"messages","items"])));var c=u.find(function(e){return e.id===i});a.set([].concat(j,["inputValues",s,i]),(0,b.get)(c,"content")),a.set([].concat(j,["currentEditId"]),i),a.set([].concat(j,["currentReplyId"]),"")}else a.set([].concat(j,["currentEditId"]),"")}function s(e,t){var a=e.state,n=e.http,r=e.path,i=e.props,s=i.channelId,l=i.parentMessageId,u=i.isBefore,c=[].concat(o(t),[s]),d={},f="";if(l||(d=a.get([].concat(o(c),["messages"])),f="/api/learn/channels/"+s+"/messages"),l&&(d=a.get([].concat(o(c),["replyMap",l])),f="/api/learn/messages/"+l+"/reply"),u){var p=(0,b.get)(d,"hasBeforeMore"),m=(0,b.get)(d,"currNewestMessageId");if(p)return n.get(f,{after:m,limit:5}).then(r.success).catch(r.error)}else{var h=(0,b.get)(d,"hasMore"),_=(0,b.get)(d,"currOldestMessageId");if(h)return n.get(f,{before:_,limit:5}).then(r.success).catch(r.error)}return r.dummy()}function l(e,t,a){var n=t.channelId,r=t.parentMessageId,o=t.isBefore;r||e.set([].concat(j,[o?"loadBeforeMoreStatus":"loadMoreStatus",n]),a),r&&e.set([].concat(j,[o?"loadBeforeMoreStatus":"loadMoreStatus",r]),a)}function u(e){var t=e.state,a=e.props,n=e.path,r=a.type,o=a.channelId,i=t.get("comment.currentReplyId")||"",s=t.get("comment.currentEditId")||"",l="";return"reply"===r&&(l=t.get("comment.inputValues."+o+"."+i)||""),"edit"===r&&(l=t.get("comment.inputValues."+o+"."+s)||""),"comment"===r&&(l=t.get("comment.inputValues."+o+".new_comment")||""),l.trim()?n.yes(y({},a,{content:l})):n.no()}function c(e,t){var a=e.props,n=e.state,i=a.type,s=a.content,l=a.channelId,u=n.get("loginUser"),c=n.get("comment.currentReplyId")||"",d=[].concat(o(t),[l]),f=w.default.createNonce(),p={nonce:f,type:"normal",channelId:l,authorId:u.id,content:s,attachments:[],parentMessageId:c};if("comment"===i&&(n.unshift([].concat(o(d),["messages","items"]),p),n.merge("comment.inputValues."+l,{new_comment:""})),"reply"===i){var m=void 0;c&&(m=[].concat(o(d),["replyMap",c,"items"])),c||(m=[].concat(o(d),["messages","items"]));var h=n.get([].concat(o(m)))||[];h.unshift(p),n.merge([].concat(o(m)),h),n.merge("comment.inputValues."+l,r({},c,"")),n.set("comment.currentReplyId","")}return{content:s,parentMessageId:c,nonce:f}}function d(e,t){var a=e.state,n=e.props,r=n.channelId,i=n.parentMessageId,s=n.messageId,l=n.content,u=[].concat(o(t),[r]),c=void 0;i&&(c=[].concat(o(u),["replyMap",i,"items"])),i||(c=[].concat(o(u),["messages","items"]));var d=a.get(c).findIndex(function(e){return e.id===s});a.set([].concat(o(c),[d,"content"]),l),a.set("comment.currentEditId",""),a.set("comment.inputValues",{})}function f(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t.dataType;o&&"submission"===o?p(e,t,a,n,r,N):p(e,t,a,n,r,I)}function p(e,t,a,n,r,i){var s=n.authorId,l=n.channelId,u=n.nonce,c=n.deletedTime,d=n.likeCount,f=(0,b.get)(n,"parentMessageId");if(a===l){var p=[].concat(o(i),["commentMap",a]),m=void 0;f||(m=[].concat(o(p),["messages"])),f&&(m=[].concat(o(p),["replyMap",f]));var h=e.get([].concat(o(m),["items"]))||[],v=h.findIndex(function(e){return e.authorId===s&&u===e.nonce});if(v>=0){var y=(0,b.get)(h,v+".id")&&!c;c&&!(0,b.get)(n,"hasReply")?e.splice([].concat(o(m),["items"]),v,1):e.splice([].concat(o(m),["items"]),v,1,n),y||(_(e,m,c,d),f&&_(e,[].concat(o(p),["messages"]),c,d),g({state:e,props:t,deletedTime:c}))}e.merge([].concat(o(i),["authorMap"]),r)}}function m(e,t){var a=e.props,n=e.state,r=a.result,i=a.status,s=a.isBefore,l=(0,b.get)(a,"channelId"),u=(0,b.get)(a,"parentMessageId"),c=[].concat(o(t),["commentMap",l]);if(200===i&&r){if(!u){var d=r.comment,f=r.authorMap,p=r.mentionMap,m=d.id,h=d.messages,_=d.replyMap,g=d.likeMap,v=d.reportMap,y=(0,b.get)(h,"items")||[];s?(delete h.hasMore,delete h.currOldestMessageId):(delete h.hasBeforeMore,delete h.currNewestMessageId);var w=n.get([].concat(o(c),["messages"])),E=(0,b.get)(w,"items")||[],S=E.map(function(e){return e.id}),O=y.filter(function(e){return S.lastIndexOf(e.id)<0});l===m&&(n.merge([].concat(o(c),["messages"]),h),n.set([].concat(o(c),["messages","items"]),s?[].concat(o(O),o(E)):[].concat(o(E),o(O))),n.merge([].concat(o(c),["replyMap"]),_),n.merge([].concat(o(t),["authorMap"]),f),n.merge([].concat(o(t),["mentionMap"]),p),n.merge(["learner","likeMap"],g),n.merge(["learner","reportMap"],v))}if(u){var k=[].concat(o(c),["replyMap",u]),T=r.channelId,P=r.messageId,C=r.messages,j=r.authorMap,I=r.mentionMap,M=r.likeMap,N=r.reportMap,D=(0,b.get)(C,"items")||[];s?(delete C.hasMore,delete C.currOldestMessageId):(delete C.hasBeforeMore,delete C.currNewestMessageId);var x=n.get(k),R=(0,b.get)(x,"items")||[],F=R.map(function(e){return e.id}),A=D.filter(function(e){return F.lastIndexOf(e.id)<0});l===T&&u===P&&(n.merge(k,C),n.set([].concat(o(k),["items"]),s?[].concat(o(A),o(R)):[].concat(o(R),o(A))),n.merge([].concat(o(t),["authorMap"]),j),n.merge([].concat(o(t),["mentionMap"]),I),n.merge(["learner","likeMap"],M),n.merge(["learner","reportMap"],N))}}}function h(e,t){var a=e.props,n=e.state,r=a.result,i=a.status,s=a.messageId,l=a.data.dataType;if(200===i&&r){var u=r.comment,c=r.authorMap,d=r.mentionMap,f=u.id,p=u.likeMap,m=u.reportMap;l&&"tutorial"===l&&(n.set([].concat(j,["expandId"]),f),n.set([].concat(j,["drawerIsOpen"]),!0)),n.set([].concat(o(t),["commentMap",f]),u),n.merge([].concat(o(t),["authorMap"]),c),n.merge([].concat(o(t),["mentionMap"]),d),n.merge(["learner","likeMap"],p),n.merge(["learner","reportMap"],m),n.set([].concat(j,["focusMsgId"]),s)}}function _(e,t,a,n){var r=e.get([].concat(o(t),["total"]))||0,i=e.get([].concat(o(t),["likeCount"]))||0;a?(r--,i-=n):(r++,i+=n),e.set([].concat(o(t),["total"]),r),e.set([].concat(o(t),["likeCount"]),i)}function g(e){var t=e.state,a=e.props,n=e.deletedTime?-1:1,r=a.dataType,o=a.tutorialId,i=a.submissionId;r&&"submission"===r?v(t,"submissionData",n,i,!0):v(t,"tutorialData",n,o)}function v(e,t,a,n,r){if(e.get([t,"id"])===n){var o=[t,"statsMap",n,"commentCount"],i=e.get(o)+a;e.set(o,i)}r&&(0,P.SyncSearchStatsCommentCount)(e,n,a)}Object.defineProperty(t,"__esModule",{value:!0});var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b=a(5),w=n(a(403)),E=n(a(20)),S=n(a(36)),O=a(9),k=a(11),T=n(a(17)),P=a(372),C=a(8),j=["comment"],I=["commentData"],M=[].concat(I,["commentMap"]),N=["submissionCommentData"],D=[].concat(N,["commentMap"]),x={schema:C.POST_MESSAGE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=t.content;return{endpoint:"/api/learn/channels/"+t.channelId+"/messages",params:{content:a,parentMessageId:t.parentMessageId,nonce:t.nonce}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=e.controller;if(200===t&&a){var i=r.channelId,s=r.parentMessageId;f(n,r,i,(0,b.get)(a,"message"),(0,b.get)(a,"authorMap"));var l=(0,b.get)(a,"message.id"),u=o.getSignal("header.sendCDPRequest");if(u){var c=(0,O.GetSendMessageCDPParams)(n,i,l,s);c.interactionType=C.InteractionTypes.comment,u({type:C.CDPLearnType.interaction,eventType:C.EventType.learn,data:c})}}},onError:(0,O.onError)("comment")},R={schema:C.EDIT_MESSAGE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=t.content,n=t.nonce;return{endpoint:"/api/learn/messages/"+t.messageId,params:{content:a,nonce:n}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props;200===t&&a&&f(n,r,r.channelId,(0,b.get)(a,"message"),(0,b.get)(a,"authorMap")||{})},onError:(0,O.onError)("comment")},F={schema:C.DELETE_MESSAGE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=t.messageId,n=t.reason,r="/api/learn/messages/"+a+"/delete",o={};return n&&(o.reason=n),{endpoint:r,params:o}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=e.controller;if(200===t&&a){f(n,r,a.channelId,a);var i=o.getSignal(r.succeedSignal);i&&i()}},onError:(0,O.onError)("comment")};t.default={name:e,depends:[],signals:{openCommentDrawer:[function(e){var t=e.state,a=t.get([].concat(I,["commentIds"]))||[],n=t.get([].concat(I,["commentMap"]))||{},r=(0,b.get)(window,"location.hash","").substring(1),o=(0,b.find)(n,function(e){return(0,b.get)(e,"stepId")===r})||{},i=(0,b.get)(o,"id")||a[0];t.set([].concat(j,["expandId"]),i),t.set([].concat(j,["drawerIsOpen"]),!0)}],closeCommentDrawer:[function(e){e.state.set([].concat(j,["drawerIsOpen"]),!1)}],toggleChannelExpanded:[function(e){var t=e.state,a=e.props,n=(0,b.get)(a,"channelId"),r=t.get([].concat(j,["expandId"]));n&&r!==n?t.set([].concat(j,["expandId"]),n):t.set([].concat(j,["expandId"]),"")}],toggleCurrentReplyId:S.default.LoginRequired([function(e){var t=e.state,a=e.props,n=t.get([].concat(j,["currentReplyId"])),r=(0,b.get)(a,"messageId")||"";n===r?t.set([].concat(j,["currentReplyId"]),""):(t.set([].concat(j,["currentEditId"]),""),t.set("comment.inputValues",{}),t.set([].concat(j,["currentReplyId"]),r))}]),toggleEditId:S.default.LoginRequired([function(e){var t=e.state,a=e.props,n=a.dataType;n&&"submission"===n?i({props:a,state:t},D):i({props:a,state:t},M)}]),createComment:S.default.LoginRequired([u,{yes:[function(e){var t=e.props,a=e.state,n=t.dataType;return n&&"submission"===n?c({props:t,state:a},D):c({props:t,state:a},M)}].concat(o((0,k.CallHTTP)(x))),no:[]}]),editComment:S.default.LoginRequired([u,{yes:[function(e){var t=e.state,a=e.props,n=a.dataType;n&&"submission"===n?d({props:a,state:t},D):d({props:a,state:t},M)}].concat(o((0,k.CallHTTP)(R))),no:[]}]),loadMore:[function(e){return l(e.state,e.props,E.default.inProgress)},[function(e){var t=e.state,a=e.http,n=e.path,r=e.props,o=r.dataType;return o&&"submission"===o?s({state:t,http:a,path:n,props:r},D):s({state:t,http:a,path:n,props:r},M)},{success:[function(e){return l(e.state,e.props,E.default.succeeded)},function(e){var t=e.controller,a=e.props;t.getSignal("comment.syncLoadMoreResult")(a)}],error:[function(e){return l(e.state,e.props,E.default.failed)}],dummy:[]}]],deleteCommentInternal:S.default.LoginRequired((0,k.CallHTTP)(F)),deleteComment:S.default.LoginRequired([T.default.DeleteConfirmed("comment.deleteCommentInternal")]),syncLoadMoreResult:[function(e){var t=e.props,a=e.state,n=t.dataType;n&&"submission"===n?m({props:t,state:a},N):m({props:t,state:a},I)}],loadNearMessages:[[function(e){var t=e.http,a=e.path,n=e.props,r=e.state,o=n.messageId,i=n.dataType,s=void 0;return s=i&&"submission"===i?r.get("submissionData.id"):r.get("tutorialData.id"),t.get("/api/learn/nearMessages/"+s+"/"+o,{beforeLimit:2,afterLimit:2}).then(a.success).catch(a.error)},{success:[function(e){var t=e.controller,a=e.props;t.getSignal("comment.syncLoadNearMessagesResult")(a)}],error:[],dummy:[]}]],syncLoadNearMessagesResult:[function(e){var t=e.props,a=e.state,n=t.dataType;n&&"submission"===n?h({props:t,state:a},N):h({props:t,state:a},I)}],changeInputValue:[function(e){var t=e.props,a=e.state,n=t.channelId,o=t.id,i=t.value;a.merge("comment.inputValues."+n,r({},o,i))}],jumpToMessage:[function(e){var t=e.controller,a=e.props,n=(0,b.get)((0,O.GetUrlQueryObject)(),"messageId");n&&t.getSignal("comment.loadNearMessages")({messageId:n,data:a})}],markComponentFocused:[function(e){e.state.set([].concat(j,["componentFocused"]),!0)}],setFocusComponent:[function(e){var t=e.state,a=e.props;t.set([].concat(j,["focusComponent"]),a.component)}]},getState:function(){return{expandId:"",focusMsgId:"",currentReplyId:"",currentEditId:"",inputValues:{},loadMoreStatus:{},drawerIsOpen:!1,loadBeforeMoreStatus:{},focusComponent:0,componentFocused:!1}}}}).call(t,"views/learn/modules/comment/CommentStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(804)),o=n(a(780)),i=n(a(735)),s=n(a(736)),l=n(a(730)),u=n(a(805)),c=[r.default,o.default,i.default,s.default,u.default],d=[l.default];t.default={submission:c,featured:d}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(76)),i=n(a(77)),s=n(a(78)),l=n(a(18)),u=[];t.default={name:e,depends:[],signals:{syncToLocation:[function(e){var t=e.state,a=e.props,n=e.submission,o=a.id,i=a.options;if(!(void 0===i?{}:i).isPOP){var s=window.location,c=r({},s);o&&(u.push(c),c={pathname:(0,l.default)("/submission/"+o,t.get("currentHost"))}),n.syncToHistory(c)}}]},getServices:function(){function e(e){t.replace(e)}var t=(0,i.default)((0,s.default)(o.default))({basename:"/"});return{syncToHistory:function(e){t.push(e)},replaceToHistory:e,backToHistory:function(){var t=u.pop();t&&e({pathname:t.pathname,search:t.search})}}},getState:function(){return{}}}}).call(t,"views/learn/modules/submission/BrowseStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(["",".webGLProjectUrl"],["",".webGLProjectUrl"]),o=n(["webGLProjectUrl"],["webGLProjectUrl"]),i=a(29),s=a(4),l=a(5),u=a(11),c=a(9),d=["submission","addWebGLProject"],f=/((https?:\/\/)|^)(connect)[^/.\n\f\t\r\v]*.(unity|unity3d).(com)(:[0-9]+)?\/(p|mg\/other)\/.+/i,p={schema:a(8).POST_WEBGL_PROJECT,request:{method:"post",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/learner/webgl",params:{url:e.props.webGLProjectUrl}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=n.get(d).webGLProjectUrl,i=r.webGLProjectUrl;200===t&&o===i&&a&&n.set([].concat(d,["webGLProject"]),a)},onError:(0,c.onError)("getWebGLProject")};t.default={name:e,depends:[],signals:{changeAddWebGLProjectUrl:[(0,i.set)((0,s.state)(r,d.join(".")),(0,s.props)(o))],getWebGLProject:[function(e){var t=e.props,a=e.controller,n=e.path,r=(0,l.get)(t,"webGLProjectUrl")||"";return r?f.test(r)?n.yes(t):(a.getSignal("header.showMessage")({message:"project_unsupported_url"}),n.no()):n.no()},{yes:(0,u.CallHTTP)(p),no:[]}],clearWebGLProject:[function(e){e.state.set(d,{webGLProjectUrl:"",webGLProject:null})}]},getServices:function(){return{}},getState:function(){return{addWebGLProject:{webGLProjectUrl:"",webGLProject:null}}}}}).call(t,"views/learn/modules/submission/AddWebGLProjectStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(8),r=[(0,a(372).GetSearchStore)({apiURL:"/api/learn/submissionSearch",searchSchema:n.LEARNER_SEARCH,loadMoreSchema:n.SEARCH_LOAD_MORE,defaultOptions:{skipSyncToLocation:!0,skipSyncFromLocation:!0}})];t.default={search:r}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(238)),o=n(a(239)),i=n(a(100)),s=n(a(101)),l=[r.default,o.default,i.default,s.default];t.default={tutorial:l}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(1212)).default];t.default={upload:n}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,a(378).GetUploadStore)({attachmentsAPIPath:"/api/learn/learner/upload/attachments",apiPath:{videoattachment:"/api/learn/learner/upload/videoattachment",video:"/api/learn/learner/upload/video",image:"/api/learn/learner/upload/image",audio:"/api/learn/learner/upload/audio",model3d:"/api/learn/learner/upload/sketchfab",assetstore:"/api/learn/learner/upload/asset"},JSONTypes:["video","audio","model3d","assetstore"]});t.default=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(493),e.exports=a(1738)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(494)),o=n(a(570)),i=n(a(259)),s=n(a(296)),l=n(a(1117)),u=n(a(473)),c=n(a(1211)),d=n(a(638)),f=n(a(459)),p=n(a(427)),m=n(a(324)),h=n(a(801)),_=n(a(731)),g=n(a(803)),v=n(a(997));t.default=(0,r.default)({modules:[i.default,s.default,l.default,u.default,c.default,d.default,f.default,p.default,m.default,h.default,_.default,g.default,v.default],component:o.default})}],[1737]);